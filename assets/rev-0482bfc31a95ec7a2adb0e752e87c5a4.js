!function(e){var t={};function n(i){var r;return(t[i]||(r=t[i]={i:i,l:!1,exports:{}},e[i].call(r.exports,r,r.exports,n),r.l=!0,r)).exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=674)}([function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n){return(r=m()?Reflect.construct.bind():function(e,t,n){var i=[null];return i.push.apply(i,t),t=new(Function.bind.apply(e,i)),n&&d(t,n.prototype),t}).apply(null,arguments)}function o(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function s(e){o(a,i,r,s,l,"next",e)}function l(e){o(a,i,r,s,l,"throw",e)}s(void 0)}))}}function s(e,t){var n,i,r,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==a.return||a.return()}finally{if(i)throw r}}};if(Array.isArray(e)||(a=l(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){var n;if(e)return"string"==typeof e?u(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=m();return function(){var n,r=v(e);n=t?(n=v(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return p(r)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(){y=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=(p="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=p.asyncIterator||"@@asyncIterator",a=p.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(t){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r,o,a,s;t=t&&t.prototype instanceof h?t:h,t=Object.create(t.prototype),i=new x(i||[]);return t._invoke=(r=e,o=n,a=i,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return{value:void 0,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n&&(n=function e(t,n){var i=t.iterator[n.method];if(void 0===i){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method))return c;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}return"throw"===(i=u(i,t.iterator,n.arg)).type?(n.method="throw",n.arg=i.arg,n.delegate=null,c):(i=i.arg)?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,c):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,c)}(n,a))){if(n===c)continue;return n}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);if(s="executing","normal"===(n=u(r,o,a)).type){if(s=a.done?"completed":"suspendedYield",n.arg===c)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),t}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c={};function h(){}function d(){}function f(){}var p,m,v=((m=(m=(s(p={},r,(function(){return this})),Object.getPrototypeOf))&&m(m(S([]))))&&m!==t&&n.call(m,r)&&(p=m),f.prototype=h.prototype=Object.create(p));function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(o,a){function s(){return new t((function(r,s){!function r(o,a,s,l){var c;if("throw"!==(o=u(e[o],e,a)).type)return(a=(c=o.arg).value)&&"object"==i(a)&&n.call(a,"__await")?t.resolve(a.__await).then((function(e){r("next",e,s,l)}),(function(e){r("throw",e,s,l)})):t.resolve(a).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,l)}));l(o.arg)}(o,a,r,s)}))}return r=r?r.then(s,s):s()}}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t,i=e[r];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return t=-1,(i=function i(){for(;++t<e.length;)if(n.call(e,t))return i.value=e[t],i.done=!1,i;return i.value=void 0,i.done=!0,i}).next=i}return{next:A}}function A(){return{value:void 0,done:!0}}return s(v,"constructor",d.prototype=f),s(f,"constructor",d),d.displayName=s(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new b(l(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),s(v,a,"Generator"),s(v,r,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t,n=[];for(t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=S,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;0<=i;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,i,r=this.tryEntries[t];if(r.tryLoc===e)return"throw"===(n=r.completion).type&&(i=n.arg,w(r)),i}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function w(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return ml})),n.d(t,"d",(function(){return Vs})),n.d(t,"e",(function(){return M})),n.d(t,"f",(function(){return Fe})),n.d(t,"g",(function(){return Ma})),n.d(t,"h",(function(){return Ot})),n.d(t,"i",(function(){return Mi})),n.d(t,"j",(function(){return Qn})),n.d(t,"k",(function(){return ai})),n.d(t,"l",(function(){return ki})),n.d(t,"m",(function(){return ls})),n.d(t,"n",(function(){return z})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return yl})),n.d(t,"q",(function(){return yt})),n.d(t,"r",(function(){return $s})),n.d(t,"s",(function(){return Ea})),n.d(t,"t",(function(){return Pl})),n.d(t,"u",(function(){return ie})),n.d(t,"v",(function(){return ha})),n.d(t,"w",(function(){return pl})),n.d(t,"x",(function(){return _s})),n.d(t,"y",(function(){return E})),n.d(t,"z",(function(){return L})),n.d(t,"A",(function(){return gn})),n.d(t,"B",(function(){return He})),n.d(t,"C",(function(){return Js})),n.d(t,"D",(function(){return Zn})),n.d(t,"E",(function(){return J})),n.d(t,"F",(function(){return C})),n.d(t,"G",(function(){return I})),n.d(t,"H",(function(){return B})),n.d(t,"I",(function(){return la})),n.d(t,"J",(function(){return Z})),n.d(t,"K",(function(){return gl})),n.d(t,"L",(function(){return ka})),n.d(t,"M",(function(){return Ia})),n.d(t,"N",(function(){return ga})),n.d(t,"O",(function(){return ba})),n.d(t,"P",(function(){return Os})),n.d(t,"Q",(function(){return ke})),n.d(t,"R",(function(){return Oe})),n.d(t,"S",(function(){return O})),n.d(t,"T",(function(){return R})),n.d(t,"U",(function(){return Ga})),n.d(t,"V",(function(){return Fa})),n.d(t,"W",(function(){return qa})),n.d(t,"X",(function(){return Ya})),n.d(t,"Y",(function(){return Be})),n.d(t,"Z",(function(){return Y})),n.d(t,"ab",(function(){return X})),n.d(t,"bb",(function(){return q})),n.d(t,"cb",(function(){return Xs})),n.d(t,"db",(function(){return vl})),n.d(t,"eb",(function(){return Ys})),n.d(t,"fb",(function(){return te})),n.d(t,"gb",(function(){return S})),n.d(t,"hb",(function(){return Wn})),n.d(t,"ib",(function(){return nt})),n.d(t,"jb",(function(){return sn})),n.d(t,"kb",(function(){return Ai})),n.d(t,"lb",(function(){return Yn})),n.d(t,"mb",(function(){return ta})),n.d(t,"nb",(function(){return Cs})),n.d(t,"ob",(function(){return As})),n.d(t,"pb",(function(){return Ss})),n.d(t,"qb",(function(){return H})),n.d(t,"rb",(function(){return G})),n.d(t,"sb",(function(){return W})),n.d(t,"tb",(function(){return V})),n.d(t,"ub",(function(){return P})),n.d(t,"vb",(function(){return T})),n.d(t,"wb",(function(){return F})),n.d(t,"xb",(function(){return Ns})),n.d(t,"yb",(function(){return On})),n.d(t,"zb",(function(){return tr})),n.d(t,"Ab",(function(){return Oi})),n.d(t,"Bb",(function(){return Ni})),n.d(t,"Cb",(function(){return Wi})),n.d(t,"Db",(function(){return dl})),n.d(t,"Eb",(function(){return $a})),n.d(t,"Fb",(function(){return Xa})),n.d(t,"Gb",(function(){return Sl})),n.d(t,"Hb",(function(){return Tt})),n.d(t,"Ib",(function(){return js})),n.d(t,"Jb",(function(){return x})),n.d(t,"Kb",(function(){return ze})),n.d(t,"Lb",(function(){return ee})),n.d(t,"Mb",(function(){return oe})),n.d(t,"Nb",(function(){return Cl})),n.d(t,"Ob",(function(){return re})),n.d(t,"Pb",(function(){return U})),n.d(t,"Qb",(function(){return va})),n.d(t,"Rb",(function(){return Yi})),n.d(t,"Sb",(function(){return Xi})),n.d(t,"Tb",(function(){return Pi})),n.d(t,"Ub",(function(){return Pa})),n.d(t,"Vb",(function(){return Ca})),n.d(t,"Wb",(function(){return Jt})),n.d(t,"Xb",(function(){return kl})),n.d(t,"Yb",(function(){return ws})),n.d(t,"Zb",(function(){return Tl})),n.d(t,"ac",(function(){return sl})),n.d(t,"bc",(function(){return A})),n.d(t,"cc",(function(){return Ne})),n.d(t,"dc",(function(){return St})),n.d(t,"ec",(function(){return el})),n.d(t,"fc",(function(){return Le})),n.d(t,"gc",(function(){return Re})),n.d(t,"hc",(function(){return Ol})),n.d(t,"ic",(function(){return Al})),n.d(t,"jc",(function(){return Di})),n.d(t,"kc",(function(){return Q})),n.d(t,"lc",(function(){return $})),n.d(t,"mc",(function(){return K})),n.d(t,"nc",(function(){return it})),n.d(t,"oc",(function(){return Dt})),n.d(t,"pc",(function(){return At})),n.d(t,"qc",(function(){return Gs})),n.d(t,"rc",(function(){return Dl})),n.d(t,"sc",(function(){return Ct})),n.d(t,"tc",(function(){return ma})),n.d(t,"uc",(function(){return Ie}));var x="144",S={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},A={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},C=0,M=1,E=2,T=0,D=2,P=0,k=1,O=2,R=3,L=4,B=5,I=6,F=7,z=3,N=301,U=1e3,j=1001,H=1002,G=1003,V=1004,W=1005,Y=1006,q=1007,X=1008,Q=1009,K=1014,J=1015,Z=1016,$=1020,ee=1023,te=1024,ne=1026,ie=1027,re=1028,oe=1030,ae=33776,se=33777,le=33778,ue=33779,ce=35840,he=35841,de=35842,fe=35843,pe=37492,me=37496,ve=37808,ge=37809,ye=37810,be=37811,_e=37812,we=37813,xe=37814,Se=37815,Ae=37816,Ce=37817,Me=37818,Ee=37819,Te=37820,De=37821,Pe=36492,ke=2300,Oe=2301,Re=1,Le=2,Be=3e3,Ie=3001,Fe=3200,ze=3201,Ne=0,Ue="srgb",je="srgb-linear",He=function(){function e(){b(this,e)}return w(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){var n;return void 0!==this._listeners&&void 0!==(n=this._listeners)[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){void 0!==this._listeners&&void 0!==(e=this._listeners[e])&&-1!==(t=e.indexOf(t))&&e.splice(t,1)}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,e);e.target=null}}}}]),e}(),Ge=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Ve=1234567,We=Math.PI/180,Ye=180/Math.PI;function qe(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Ge[255&e]+Ge[e>>8&255]+Ge[e>>16&255]+Ge[e>>24&255]+"-"+Ge[255&t]+Ge[t>>8&255]+"-"+Ge[t>>16&15|64]+Ge[t>>24&255]+"-"+Ge[63&n|128]+Ge[n>>8&255]+"-"+Ge[n>>16&255]+Ge[n>>24&255]+Ge[255&i]+Ge[i>>8&255]+Ge[i>>16&255]+Ge[i>>24&255]).toLowerCase()}function Xe(e,t,n){return Math.max(t,Math.min(n,e))}function Qe(e,t){return(e%t+t)%t}function Ke(e,t,n){return(1-n)*e+n*t}function Je(e){return 0==(e&e-1)&&0!==e}function Ze(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function $e(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function et(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function tt(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var nt=Object.freeze({__proto__:null,DEG2RAD:We,RAD2DEG:Ye,generateUUID:qe,clamp:Xe,euclideanModulo:Qe,mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Ke,damp:function(e,t,n,i){return Ke(e,t,1-Math.exp(-n*i))},pingpong:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Qe(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(Ve=e),e=Ve+=1831565813,e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296},degToRad:function(e){return e*We},radToDeg:function(e){return e*Ye},isPowerOfTwo:Je,ceilPowerOfTwo:Ze,floorPowerOfTwo:$e,setQuaternionFromProperEuler:function(e,t,n,i,r){var o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),u=o((t+i)/2),c=a((t+i)/2),h=o((t-i)/2),d=a((t-i)/2),f=o((i-t)/2),p=a((i-t)/2);switch(r){case"XYX":e.set(s*c,l*h,l*d,s*u);break;case"YZY":e.set(l*d,s*c,l*h,s*u);break;case"ZXZ":e.set(l*h,l*d,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*f,s*u);break;case"YXY":e.set(l*f,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*f,s*c,s*u)}},normalize:tt,denormalize:et}),it=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;b(this,e),e.prototype.isVector2=!0,this.x=t,this.y=n}return w(e,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y;e=e.elements;return this.x=e[0]*t+e[3]*n+e[6],this.y=e[1]*t+e[4]*n+e[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){return Math.atan2(-this.y,-this.x)+Math.PI}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x;return t*t+(e=this.y-e.y)*e}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),i=(t=Math.sin(t),this.x-e.x),r=this.y-e.y;return this.x=i*n-r*t+e.x,this.y=i*t+r*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),e}(),rt=function(){function e(){b(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return w(e,[{key:"set",value:function(e,t,n,i,r,o,a,s,l){var u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=r,u[5]=s,u[6]=n,u[7]=o,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements;e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){return e=e.elements,this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){e=e.elements,t=t.elements;var n=this.elements,i=e[0],r=e[3],o=e[6],a=e[1],s=e[4],l=e[7],u=e[2],c=e[5],h=(e=e[8],t[0]),d=t[3],f=t[6],p=t[1],m=t[4],v=t[7],g=t[2],y=t[5];t=t[8];return n[0]=i*h+r*p+o*g,n[3]=i*d+r*m+o*y,n[6]=i*f+r*v+o*t,n[1]=a*h+s*p+l*g,n[4]=a*d+s*m+l*y,n[7]=a*f+s*v+l*t,n[2]=u*h+c*p+e*g,n[5]=u*d+c*m+e*y,n[8]=u*f+c*v+e*t,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e,t=(e=this.elements)[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7];return t*o*(e=e[8])-t*a*l-n*r*e+n*a*s+i*r*l-i*o*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=u*o-a*l,h=a*s-u*r,d=l*r-o*s,f=t*c+n*h+i*d;return 0==f?this.set(0,0,0,0,0,0,0,0,0):(e[0]=c*(c=1/f),e[1]=(i*l-u*n)*c,e[2]=(a*n-i*o)*c,e[3]=h*c,e[4]=(u*t-i*s)*c,e[5]=(i*r-a*t)*c,e[6]=d*c,e[7]=(n*s-l*t)*c,e[8]=(o*t-n*r)*c,this)}},{key:"transpose",value:function(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,i,r,o,a){var s=Math.cos(r);r=Math.sin(r);return this.set(n*s,n*r,-n*(s*o+r*a)+o+e,-i*r,i*s,-i*(-r*o+s*a)+a+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=(e=Math.sin(e),this.elements),i=n[0],r=n[3],o=n[6],a=n[1],s=n[4],l=n[7];return n[0]=t*i+e*a,n[3]=t*r+e*s,n[6]=t*o+e*l,n[1]=-e*i+t*a,n[4]=-e*r+t*s,n[7]=-e*o+t*l,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();function ot(e){for(var t=e.length-1;0<=t;--t)if(65535<=e[t])return 1}function at(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function st(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function lt(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,g(n={},Ue,g({},je,st)),g(n,je,g({},Ue,lt));var ut=n,ct={legacyMode:!0,get workingColorSpace(){return je},set workingColorSpace(e){},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(ut[t]&&void 0!==ut[t][n])return t=ut[t][n],e.r=t(e.r),e.g=t(e.g),e.b=t(e.b),e;throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},ht={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},dt={r:0,g:0,b:0},ft={h:0,s:0,l:0},pt={h:0,s:0,l:0};function mt(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function vt(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var gt,yt=function(){function e(t,n,i){return b(this,e),this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===i?this.set(t):this.setRGB(t,n,i)}return w(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Ue;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ct.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:je;return this.r=e,this.g=t,this.b=n,ct.toWorkingColorSpace(this,i),this}},{key:"setHSL",value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:je;return e=Qe(e,1),t=Xe(t,0,1),n=Xe(n,0,1),0===t?this.r=this.g=this.b=n:(this.r=mt(t=2*n-(n=n<=.5?n*(1+t):n+t-n*t),n,e+1/3),this.g=mt(t,n,e),this.b=mt(t,n,e-1/3)),ct.toWorkingColorSpace(this,i),this}},{key:"setStyle",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Ue;function n(e){void 0!==e&&parseFloat(e)}if(u=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var i,r,o,a,s=u[1],l=u[2];switch(s){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,ct.toWorkingColorSpace(this,t),n(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,ct.toWorkingColorSpace(this,t),n(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r=parseFloat(i[1])/360,o=parseFloat(i[2])/100,a=parseFloat(i[3])/100,n(i[4]),this.setHSL(r,o,a,t)}}else if(u=/^\#([A-Fa-f\d]+)$/.exec(e)){var u=(s=u[1]).length;if(3===u)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,ct.toWorkingColorSpace(this,t),this;if(6===u)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,ct.toWorkingColorSpace(this,t),this}return e&&0<e.length?this.setColorName(e,t):this}},{key:"setColorName",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Ue;return void 0!==(e=ht[e.toLowerCase()])&&this.setHex(e,t),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=st(e.r),this.g=st(e.g),this.b=st(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=lt(e.r),this.g=lt(e.g),this.b=lt(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Ue;return ct.fromWorkingColorSpace(vt(this,dt),e),Xe(255*dt.r,0,255)<<16^Xe(255*dt.g,0,255)<<8^Xe(255*dt.b,0,255)<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex(0<arguments.length&&void 0!==arguments[0]?arguments[0]:Ue).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:je,i=(ct.fromWorkingColorSpace(vt(this,dt),n),dt.r),r=dt.g,o=dt.b,a=(n=Math.max(i,r,o),Math.min(i,r,o)),s=(a+n)/2;if(a===n)u=t=0;else{var l=n-a,u=s<=.5?l/(n+a):l/(2-n-a);switch(n){case i:t=(r-o)/l+(r<o?6:0);break;case r:t=(o-i)/l+2;break;case o:t=(i-r)/l+4}t/=6}return e.h=t,e.s=u,e.l=s,e}},{key:"getRGB",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:je;return ct.fromWorkingColorSpace(vt(this,dt),t),e.r=dt.r,e.g=dt.g,e.b=dt.b,e}},{key:"getStyle",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Ue;return ct.fromWorkingColorSpace(vt(this,dt),e),e!==Ue?"color(".concat(e," ").concat(dt.r," ").concat(dt.g," ").concat(dt.b,")"):"rgb(".concat(255*dt.r|0,",").concat(255*dt.g|0,",").concat(255*dt.b|0,")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(ft),ft.h+=e,ft.s+=t,ft.l+=n,this.setHSL(ft.h,ft.s,ft.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(ft),e.getHSL(pt);e=Ke(ft.h,pt.h,t);var n=Ke(ft.s,pt.s,t);t=Ke(ft.l,pt.l,t);return this.setHSL(e,n,t),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),e}(),bt=(yt.NAMES=ht,function(){function e(){b(this,e)}return w(e,null,[{key:"getDataURL",value:function(e){var t;return/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement?e.src:2048<(t=e instanceof HTMLCanvasElement?e:((gt=void 0===gt?at("canvas"):gt).width=e.width,gt.height=e.height,t=gt.getContext("2d"),e instanceof ImageData?t.putImageData(e,0,0):t.drawImage(e,0,0,e.width,e.height),gt)).width||2048<t.height?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){for(var t=at("canvas"),n=(t.width=e.width,t.height=e.height,t.getContext("2d")),i=(n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)),r=i.data,o=0;o<r.length;o++)r[o]=255*st(r[o]/255);return n.putImageData(i,0,0),t}if(e.data){for(var a=e.data.slice(0),s=0;s<a.length;s++)a instanceof Uint8Array||a instanceof Uint8ClampedArray?a[s]=Math.floor(255*st(a[s]/255)):a[s]=st(a[s]);return{data:a,width:e.width,height:e.height}}return e}}]),e}()),_t=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;b(this,e),this.isSource=!0,this.uuid=qe(),this.data=t,this.version=0}return w(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},i=this.data;if(null!==i){if(Array.isArray(i))for(var r=[],o=0,a=i.length;o<a;o++)i[o].isDataTexture?r.push(wt(i[o].image)):r.push(wt(i[o]));else r=wt(i);n.url=r}return t||(e.images[this.uuid]=n),n}}]),e}();function wt(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?bt.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:{}}var xt=0,St=function(){h(t,He);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_IMAGE,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_MAPPING,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:j,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:j,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Y,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:X,u=6<arguments.length&&void 0!==arguments[6]?arguments[6]:ee,c=7<arguments.length&&void 0!==arguments[7]?arguments[7]:Q,h=8<arguments.length&&void 0!==arguments[8]?arguments[8]:1,d=9<arguments.length&&void 0!==arguments[9]?arguments[9]:Be;return b(this,t),(n=e.call(this)).isTexture=!0,Object.defineProperty(p(n),"id",{value:xt++}),n.uuid=qe(),n.name="",n.source=new _t(i),n.mipmaps=[],n.mapping=r,n.wrapS=o,n.wrapT=a,n.magFilter=s,n.minFilter=l,n.anisotropy=h,n.format=u,n.internalFormat=null,n.type=c,n.offset=new it(0,0),n.repeat=new it(1,1),n.center=new it(0,0),n.rotation=0,n.matrixAutoUpdate=!0,n.matrix=new rt,n.generateMipmaps=!0,n.premultiplyAlpha=!1,n.flipY=!0,n.unpackAlignment=4,n.encoding=d,n.userData={},n.version=0,n.onUpdate=null,n.isRenderTargetTexture=!1,n.needsPMREMUpdate=!1,n}return w(t,[{key:"image",get:function(){return this.source.data},set:function(e){this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t,n=void 0===e||"string"==typeof e;return n||void 0===e.textures[this.uuid]?(t={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment},"{}"!==JSON.stringify(this.userData)&&(t.userData=this.userData),n||(e.textures[this.uuid]=t),t):e.textures[this.uuid]}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300===this.mapping){if(e.applyMatrix3(this.matrix),e.x<0||1<e.x)switch(this.wrapS){case U:e.x=e.x-Math.floor(e.x);break;case j:e.x=e.x<0?0:1;break;case H:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case U:e.y=e.y-Math.floor(e.y);break;case j:e.y=e.y<0?0:1;break;case H:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}return e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),t}(),At=(St.DEFAULT_IMAGE=null,St.DEFAULT_MAPPING=300,function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;b(this,e),e.prototype.isVector4=!0,this.x=t,this.y=n,this.z=i,this.w=r}return w(e,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,i=this.z,r=this.w;e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*i+e[12]*r,this.y=e[1]*t+e[5]*n+e[9]*i+e[13]*r,this.z=e[2]*t+e[6]*n+e[10]*i+e[14]*r,this.w=e[3]*t+e[7]*n+e[11]*i+e[15]*r,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,i,r,o,a,s,l,u,c,h=(e=e.elements)[0],d=e[4],f=e[8],p=e[1],m=e[5],v=e[9],g=e[2],y=e[6];e=e[10];return Math.abs(d-p)<.01&&Math.abs(f-g)<.01&&Math.abs(v-y)<.01?Math.abs(d+p)<.1&&Math.abs(f+g)<.1&&Math.abs(v+y)<.1&&Math.abs(h+m+e-3)<.1?this.set(1,0,0,0):(r=Math.PI,a=(e+1)/2,s=(d+p)/4,l=(f+g)/4,u=(v+y)/4,(o=(m+1)/2)<(c=(h+1)/2)&&a<c?i=c<.01?(t=0,n=.707106781):(n=s/(t=Math.sqrt(c)),l/t):a<o?i=o<.01?(n=0,t=.707106781):(t=s/(n=Math.sqrt(o)),u/n):a<.01?(n=t=.707106781,i=0):(t=l/(i=Math.sqrt(a)),n=u/i),this.set(t,n,i,r)):(c=Math.sqrt((y-v)*(y-v)+(f-g)*(f-g)+(p-d)*(p-d)),Math.abs(c)<.001&&(c=1),this.x=(y-v)/c,this.y=(f-g)/c,this.z=(p-d)/c,this.w=Math.acos((h+m+e-1)/2)),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),e}()),Ct=function(){h(t,He);var e=f(t);function t(n,i){var r,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};b(this,t),(r=e.call(this)).isWebGLRenderTarget=!0,r.width=n,r.height=i,r.depth=1,r.scissor=new At(0,0,n,i),r.scissorTest=!1,r.viewport=new At(0,0,n,i),n={width:n,height:i,depth:1};return r.texture=new St(n,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.encoding),r.texture.isRenderTargetTexture=!0,r.texture.flipY=!1,r.texture.generateMipmaps=void 0!==o.generateMipmaps&&o.generateMipmaps,r.texture.internalFormat=void 0!==o.internalFormat?o.internalFormat:null,r.texture.minFilter=void 0!==o.minFilter?o.minFilter:Y,r.depthBuffer=void 0===o.depthBuffer||o.depthBuffer,r.stencilBuffer=void 0!==o.stencilBuffer&&o.stencilBuffer,r.depthTexture=void 0!==o.depthTexture?o.depthTexture:null,r.samples=void 0!==o.samples?o.samples:0,r}return w(t,[{key:"setSize",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new _t(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),t}(),Mt=function(){h(t,St);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return b(this,t),(n=e.call(this,null)).isDataArrayTexture=!0,n.image={data:i,width:r,height:o,depth:a},n.magFilter=G,n.minFilter=G,n.wrapR=j,n.generateMipmaps=!1,n.flipY=!1,n.unpackAlignment=1,n}return w(t)}(),Et=function(){h(t,St);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return b(this,t),(n=e.call(this,null)).isData3DTexture=!0,n.image={data:i,width:r,height:o,depth:a},n.magFilter=G,n.minFilter=G,n.wrapR=j,n.generateMipmaps=!1,n.flipY=!1,n.unpackAlignment=1,n}return w(t)}(),Tt=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;b(this,e),this.isQuaternion=!0,this._x=t,this._y=n,this._z=i,this._w=r}return w(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,i=e._y,r=e._z,o=(e=e._order,Math.cos),a=Math.sin,s=o(n/2),l=o(i/2),u=o(r/2),c=a(n/2),h=a(i/2),d=a(r/2);switch(e){case"XYZ":this._x=c*l*u+s*h*d,this._y=s*h*u-c*l*d,this._z=s*l*d+c*h*u,this._w=s*l*u-c*h*d;break;case"YXZ":this._x=c*l*u+s*h*d,this._y=s*h*u-c*l*d,this._z=s*l*d-c*h*u,this._w=s*l*u+c*h*d;break;case"ZXY":this._x=c*l*u-s*h*d,this._y=s*h*u+c*l*d,this._z=s*l*d+c*h*u,this._w=s*l*u-c*h*d;break;case"ZYX":this._x=c*l*u-s*h*d,this._y=s*h*u+c*l*d,this._z=s*l*d-c*h*u,this._w=s*l*u+c*h*d;break;case"YZX":this._x=c*l*u+s*h*d,this._y=s*h*u+c*l*d,this._z=s*l*d-c*h*u,this._w=s*l*u-c*h*d;break;case"XZY":this._x=c*l*u-s*h*d,this._y=s*h*u-c*l*d,this._z=s*l*d+c*h*u,this._w=s*l*u+c*h*d}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){t/=2;var n=Math.sin(t);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(t),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=(e=e.elements)[0],n=e[4],i=e[8],r=e[1],o=e[5],a=e[9],s=e[2],l=e[6],u=t+o+(e=e[10]);return 0<u?(u=.5/Math.sqrt(u+1),this._w=.25/u,this._x=(l-a)*u,this._y=(i-s)*u,this._z=(r-n)*u):o<t&&e<t?(u=2*Math.sqrt(1+t-o-e),this._w=(l-a)/u,this._x=.25*u,this._y=(n+r)/u,this._z=(i+s)/u):e<o?(u=2*Math.sqrt(1+o-t-e),this._w=(i-s)/u,this._x=(n+r)/u,this._y=.25*u,this._z=(a+l)/u):(u=2*Math.sqrt(1+e-t-o),this._w=(r-n)/u,this._x=(i+s)/u,this._y=(a+l)/u,this._z=.25*u),this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x),this._w=n,this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Xe(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);return 0!==n&&(t=Math.min(1,t/n),this.slerp(e,t)),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(e=1/e),this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,i=e._y,r=e._z,o=(e=e._w,t._x),a=t._y,s=t._z;t=t._w;return this._x=n*t+e*o+i*s-r*a,this._y=i*t+e*a+r*o-n*s,this._z=r*t+e*s+n*a-i*o,this._w=e*t-n*o-i*a-r*s,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0!==t){if(1===t)return this.copy(e);var n,i=this._x,r=this._y,o=this._z,a=this._w,s=a*e._w+i*e._x+r*e._y+o*e._z;s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),1<=s?(this._w=a,this._x=i,this._y=r,this._z=o):((e=1-s*s)<=Number.EPSILON?(this._w=(n=1-t)*a+t*this._w,this._x=n*i+t*this._x,this._y=n*r+t*this._y,this._z=n*o+t*this._z,this.normalize()):(n=Math.sqrt(e),e=Math.atan2(n,s),s=Math.sin((1-t)*e)/n,t=Math.sin(t*e)/n,this._w=a*s+this._w*t,this._x=i*s+this._x*t,this._y=r*s+this._y*t,this._z=o*s+this._z*t),this._onChangeCallback())}return this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=(e=Math.sqrt(e),2*Math.PI*Math.random()),i=2*Math.PI*Math.random();return this.set(t*Math.cos(n),e*Math.sin(i),e*Math.cos(i),t*Math.sin(n))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,i,r,o,a){var s,l,u,c=n[i+0],h=n[i+1],d=n[i+2],f=(n=n[i+3],i=r[o+0],r[o+1]),p=r[o+2];r=r[o+3];0===a?(e[t+0]=c,e[t+1]=h,e[t+2]=d,e[t+3]=n):1===a?(e[t+0]=i,e[t+1]=f,e[t+2]=p,e[t+3]=r):(n===r&&c===i&&h===f&&d===p||(o=1-a,s=0<=(l=c*i+h*f+d*p+n*r)?1:-1,(u=1-l*l)>Number.EPSILON&&(u=Math.sqrt(u),l=Math.atan2(u,l*s),o=Math.sin(o*l)/u,a=Math.sin(a*l)/u),c=c*o+i*(l=a*s),h=h*o+f*l,d=d*o+p*l,n=n*o+r*l,o===1-a&&(c*=u=1/Math.sqrt(c*c+h*h+d*d+n*n),h*=u,d*=u,n*=u)),e[t]=c,e[t+1]=h,e[t+2]=d,e[t+3]=n)}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,i,r,o){var a=n[i],s=n[i+1],l=n[i+2],u=(n=n[i+3],i=r[o],r[o+1]),c=r[o+2];r=r[o+3];return e[t]=a*r+n*i+s*c-l*u,e[t+1]=s*r+n*u+l*i-a*c,e[t+2]=l*r+n*c+a*u-s*i,e[t+3]=n*r-a*i-s*u-l*c,e}}]),e}(),Dt=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;b(this,e),e.prototype.isVector3=!0,this.x=t,this.y=n,this.z=i}return w(e,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(kt.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(kt.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,i=this.z;e=e.elements;return this.x=e[0]*t+e[3]*n+e[6]*i,this.y=e[1]*t+e[4]*n+e[7]*i,this.z=e[2]*t+e[5]*n+e[8]*i,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,i=this.z,r=1/((e=e.elements)[3]*t+e[7]*n+e[11]*i+e[15]);return this.x=(e[0]*t+e[4]*n+e[8]*i+e[12])*r,this.y=(e[1]*t+e[5]*n+e[9]*i+e[13])*r,this.z=(e[2]*t+e[6]*n+e[10]*i+e[14])*r,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,a=e.z,s=(e=e.w)*t+o*i-a*n,l=e*n+a*t-r*i,u=e*i+r*n-o*t;t=-r*t-o*n-a*i;return this.x=s*e+t*-r+l*-a-u*-o,this.y=l*e+t*-o+u*-r-s*-a,this.z=u*e+t*-a+s*-o-l*-r,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,i=this.z;e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*i,this.y=e[1]*t+e[5]*n+e[9]*i,this.z=e[2]*t+e[6]*n+e[10]*i,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,i=e.y,r=(e=e.z,t.x),o=t.y;t=t.z;return this.x=i*t-e*o,this.y=e*r-n*t,this.z=n*o-i*r,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();return 0===t?this.set(0,0,0):(t=e.dot(this)/t,this.copy(e).multiplyScalar(t))}},{key:"projectOnPlane",value:function(e){return Pt.copy(this).projectOnVector(e),this.sub(Pt)}},{key:"reflect",value:function(e){return this.sub(Pt.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:(e=this.dot(e)/t,Math.acos(Xe(e,-1,1)))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n+(e=this.z-e.z)*e}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){return e=e.elements,this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length();e=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=e,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),e}(),Pt=new Dt,kt=new Tt,Ot=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Dt(1/0,1/0,1/0),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Dt(-1/0,-1/0,-1/0);b(this,e),this.isBox3=!0,this.min=t,this.max=n}return w(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],h=e[s+2];u<t&&(t=u),c<n&&(n=c),h<i&&(i=h),r<u&&(r=u),o<c&&(o=c),a<h&&(a=h)}return this.min.set(t,n,i),this.max.set(r,o,a),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),h=e.getZ(s);u<t&&(t=u),c<n&&(n=c),h<i&&(i=h),r<u&&(r=u),o<c&&(o=c),a<h&&(a=h)}return this.min.set(t,n,i),this.max.set(r,o,a),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){return t=Lt.copy(t).multiplyScalar(.5),this.min.copy(e).sub(t),this.max.copy(e).add(t),this}},{key:"setFromObject",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=(e.updateWorldMatrix(!1,!1),e.geometry);if(void 0!==n)if(t&&null!=n.attributes&&void 0!==n.attributes.position)for(var i=n.attributes.position,r=0,o=i.count;r<o;r++)Lt.fromBufferAttribute(i,r).applyMatrix4(e.matrixWorld),this.expandByPoint(Lt);else null===n.boundingBox&&n.computeBoundingBox(),Bt.copy(n.boundingBox),Bt.applyMatrix4(e.matrixWorld),this.union(Bt);for(var a=e.children,s=0,l=a.length;s<l;s++)this.expandByObject(a[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Lt),Lt.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n=0<e.normal.x?(t=e.normal.x*this.min.x,e.normal.x*this.max.x):(t=e.normal.x*this.max.x,e.normal.x*this.min.x);return 0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){return!this.isEmpty()&&(this.getCenter(Ht),Gt.subVectors(this.max,Ht),It.subVectors(e.a,Ht),Ft.subVectors(e.b,Ht),zt.subVectors(e.c,Ht),Nt.subVectors(Ft,It),Ut.subVectors(zt,Ft),jt.subVectors(It,zt),!!Yt([0,-Nt.z,Nt.y,0,-Ut.z,Ut.y,0,-jt.z,jt.y,Nt.z,0,-Nt.x,Ut.z,0,-Ut.x,jt.z,0,-jt.x,-Nt.y,Nt.x,0,-Ut.y,Ut.x,0,-jt.y,jt.x,0],It,Ft,zt,Gt)&&!!Yt([1,0,0,0,1,0,0,0,1],It,Ft,zt,Gt)&&(Vt.crossVectors(Nt,Ut),Yt([Vt.x,Vt.y,Vt.z],It,Ft,zt,Gt)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Lt.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Lt).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Rt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Rt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Rt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Rt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Rt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Rt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Rt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Rt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Rt)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Rt=[new Dt,new Dt,new Dt,new Dt,new Dt,new Dt,new Dt,new Dt],Lt=new Dt,Bt=new Ot,It=new Dt,Ft=new Dt,zt=new Dt,Nt=new Dt,Ut=new Dt,jt=new Dt,Ht=new Dt,Gt=new Dt,Vt=new Dt,Wt=new Dt;function Yt(e,t,n,i,r){for(var o=0,a=e.length-3;o<=a;o+=3){Wt.fromArray(e,o);var s=r.x*Math.abs(Wt.x)+r.y*Math.abs(Wt.y)+r.z*Math.abs(Wt.z),l=t.dot(Wt),u=n.dot(Wt),c=i.dot(Wt);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var qt=new Ot,Xt=new Dt,Qt=new Dt,Kt=new Dt,Jt=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Dt,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;b(this,e),this.center=t,this.radius=n}return w(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){for(var n=this.center,i=(void 0!==t?n.copy(t):qt.setFromPoints(e).getCenter(n),0),r=0,o=e.length;r<o;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?e.makeEmpty():(e.set(this.center,this.center),e.expandByScalar(this.radius)),e}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){var t;return Kt.subVectors(e,this.center),(e=Kt.lengthSq())>this.radius*this.radius&&(t=.5*((e=Math.sqrt(e))-this.radius),this.center.add(Kt.multiplyScalar(t/e)),this.radius+=t),this}},{key:"union",value:function(e){return(!0===this.center.equals(e.center)?Qt.set(0,0,1):Qt.subVectors(e.center,this.center).normalize()).multiplyScalar(e.radius),this.expandByPoint(Xt.copy(e.center).add(Qt)),this.expandByPoint(Xt.copy(e.center).sub(Qt)),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Zt=new Dt,$t=new Dt,en=new Dt,tn=new Dt,nn=new Dt,rn=new Dt,on=new Dt,an=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Dt,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Dt(0,0,-1);b(this,e),this.origin=t,this.direction=n}return w(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Zt)),this}},{key:"closestPointToPoint",value:function(e,t){return t.subVectors(e,this.origin),(e=t.dot(this.direction))<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Zt.subVectors(e,this.origin).dot(this.direction);return(t<0?this.origin:(Zt.copy(this.direction).multiplyScalar(t).add(this.origin),Zt)).distanceToSquared(e)}},{key:"distanceSqToSegment",value:function(e,t,n,i){$t.copy(e).add(t).multiplyScalar(.5),en.copy(t).sub(e).normalize(),tn.copy(this.origin).sub($t);e=.5*e.distanceTo(t),t=-this.direction.dot(en);var r,o,a,s=tn.dot(this.direction),l=-tn.dot(en),u=tn.lengthSq(),c=Math.abs(1-t*t);return c=0<c?(o=t*s-l,a=e*c,0<=(r=t*l-s)?-a<=o?o<=a?(r*=c=1/c)*(r+t*(o*=c)+2*s)+o*(t*r+o+2*l)+u:(o=e,-(r=Math.max(0,-(t*o+s)))*r+o*(o+2*l)+u):(o=-e,-(r=Math.max(0,-(t*o+s)))*r+o*(o+2*l)+u):o<=-a?-(r=Math.max(0,-(-t*e+s)))*r+(o=0<r?-e:Math.min(Math.max(-e,-l),e))*(o+2*l)+u:o<=a?(r=0,(o=Math.min(Math.max(-e,-l),e))*(o+2*l)+u):-(r=Math.max(0,-(t*e+s)))*r+(o=0<r?e:Math.min(Math.max(-e,-l),e))*(o+2*l)+u):(o=0<t?-e:e,-(r=Math.max(0,-(t*o+s)))*r+o*(o+2*l)+u),n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(en).multiplyScalar(o).add($t),c}},{key:"intersectSphere",value:function(e,t){Zt.subVectors(e.center,this.origin);var n=Zt.dot(this.direction),i=Zt.dot(Zt)-n*n;return(e=e.radius*e.radius)<i||(i=n+(e=Math.sqrt(e-i)),(n-=e)<0&&i<0)?null:n<0?this.at(i,t):this.at(n,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);return 0===t?0===e.distanceToPoint(this.origin)?0:null:0<=(e=-(this.origin.dot(e.normal)+e.constant)/t)?e:null}},{key:"intersectPlane",value:function(e,t){return null===(e=this.distanceToPlane(e))?null:this.at(e,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,i,r,o=1/this.direction.x,a=1/this.direction.y,s=1/this.direction.z,l=this.origin;o=0<=o?(n=(e.min.x-l.x)*o,(e.max.x-l.x)*o):(n=(e.max.x-l.x)*o,(e.min.x-l.x)*o);return(a=0<=a?(r=(e.min.y-l.y)*a,(e.max.y-l.y)*a):(r=(e.max.y-l.y)*a,(e.min.y-l.y)*a))<n||o<r||((n<r||n!=n)&&(n=r),(a<o||o!=o)&&(o=a),(r=0<=s?(i=(e.min.z-l.z)*s,(e.max.z-l.z)*s):(i=(e.max.z-l.z)*s,(e.min.z-l.z)*s))<n||o<i||((n<i||n!=n)&&(n=i),(o=r<o||o!=o?r:o)<0))?null:this.at(0<=n?n:o,t)}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Zt)}},{key:"intersectTriangle",value:function(e,t,n,i,r){var o;if(nn.subVectors(t,e),rn.subVectors(n,e),on.crossVectors(nn,rn),0<(t=this.direction.dot(on))){if(i)return null;o=1}else{if(!(t<0))return null;o=-1,t=-t}return tn.subVectors(this.origin,e),(n=o*this.direction.dot(rn.crossVectors(tn,rn)))<0||(i=o*this.direction.dot(nn.cross(tn)))<0||t<n+i||(e=-o*tn.dot(on))<0?null:this.at(e/t,r)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),sn=function(){function e(){b(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return w(e,[{key:"set",value:function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=i,v[1]=r,v[5]=o,v[9]=a,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=h,v[3]=d,v[7]=f,v[11]=p,v[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements;e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this}},{key:"copyPosition",value:function(e){var t=this.elements;e=e.elements;return t[12]=e[12],t[13]=e[13],t[14]=e[14],this}},{key:"setFromMatrix3",value:function(e){return e=e.elements,this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,i=1/ln.setFromMatrixColumn(e,0).length(),r=1/ln.setFromMatrixColumn(e,1).length();e=1/ln.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t,n,i,r,o=this.elements,a=e.x,s=e.y,l=e.z,u=Math.cos(a),c=(a=Math.sin(a),Math.cos(s)),h=(s=Math.sin(s),Math.cos(l));l=Math.sin(l);return"XYZ"===e.order?(n=u*h,i=u*l,r=a*h,t=a*l,o[0]=c*h,o[4]=-c*l,o[8]=s,o[1]=i+r*s,o[5]=n-t*s,o[9]=-a*c,o[2]=t-n*s,o[6]=r+i*s,o[10]=u*c):"YXZ"===e.order?(t=c*l,n=s*h,o[0]=(r=c*h)+(i=s*l)*a,o[4]=n*a-t,o[8]=u*s,o[1]=u*l,o[5]=u*h,o[9]=-a,o[2]=t*a-n,o[6]=i+r*a,o[10]=u*c):"ZXY"===e.order?(t=c*l,n=s*h,o[0]=(i=c*h)-(r=s*l)*a,o[4]=-u*l,o[8]=n+t*a,o[1]=t+n*a,o[5]=u*h,o[9]=r-i*a,o[2]=-u*s,o[6]=a,o[10]=u*c):"ZYX"===e.order?(t=u*h,n=u*l,r=a*h,i=a*l,o[0]=c*h,o[4]=r*s-n,o[8]=t*s+i,o[1]=c*l,o[5]=i*s+t,o[9]=n*s-r,o[2]=-s,o[6]=a*c,o[10]=u*c):"YZX"===e.order?(i=u*c,t=u*s,n=a*c,r=a*s,o[0]=c*h,o[4]=r-i*l,o[8]=n*l+t,o[1]=l,o[5]=u*h,o[9]=-a*h,o[2]=-s*h,o[6]=t*l+n,o[10]=i-r*l):"XZY"===e.order&&(t=u*c,n=u*s,i=a*c,r=a*s,o[0]=c*h,o[4]=-l,o[8]=s*h,o[1]=t*l+r,o[5]=u*h,o[9]=n*l-i,o[2]=i*l-n,o[6]=a*h,o[10]=r*l+t),o[3]=0,o[7]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(cn,e,hn)}},{key:"lookAt",value:function(e,t,n){var i=this.elements;return pn.subVectors(e,t),0===pn.lengthSq()&&(pn.z=1),pn.normalize(),dn.crossVectors(n,pn),0===dn.lengthSq()&&(1===Math.abs(n.z)?pn.x+=1e-4:pn.z+=1e-4,pn.normalize(),dn.crossVectors(n,pn)),dn.normalize(),fn.crossVectors(pn,dn),i[0]=dn.x,i[4]=fn.x,i[8]=pn.x,i[1]=dn.y,i[5]=fn.y,i[9]=pn.y,i[2]=dn.z,i[6]=fn.z,i[10]=pn.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){e=e.elements,t=t.elements;var n=this.elements,i=e[0],r=e[4],o=e[8],a=e[12],s=e[1],l=e[5],u=e[9],c=e[13],h=e[2],d=e[6],f=e[10],p=e[14],m=e[3],v=e[7],g=e[11],y=(e=e[15],t[0]),b=t[4],_=t[8],w=t[12],x=t[1],S=t[5],A=t[9],C=t[13],M=t[2],E=t[6],T=t[10],D=t[14],P=t[3],k=t[7],O=t[11];t=t[15];return n[0]=i*y+r*x+o*M+a*P,n[4]=i*b+r*S+o*E+a*k,n[8]=i*_+r*A+o*T+a*O,n[12]=i*w+r*C+o*D+a*t,n[1]=s*y+l*x+u*M+c*P,n[5]=s*b+l*S+u*E+c*k,n[9]=s*_+l*A+u*T+c*O,n[13]=s*w+l*C+u*D+c*t,n[2]=h*y+d*x+f*M+p*P,n[6]=h*b+d*S+f*E+p*k,n[10]=h*_+d*A+f*T+p*O,n[14]=h*w+d*C+f*D+p*t,n[3]=m*y+v*x+g*M+e*P,n[7]=m*b+v*S+g*E+e*k,n[11]=m*_+v*A+g*T+e*O,n[15]=m*w+v*C+g*D+e*t,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],o=e[1],a=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],d=e[14];return e[3]*(+r*s*c-i*l*c-r*a*h+n*l*h+i*a*d-n*s*d)+e[7]*(+t*s*d-t*l*h+r*o*h-i*o*d+i*l*u-r*s*u)+e[11]*(+t*l*c-t*a*d-r*o*c+n*o*d+r*a*u-n*l*u)+e[15]*(-i*a*u-t*s*c+t*a*h+i*o*c-n*o*h+n*s*u)}},{key:"transpose",value:function(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(e,t,n){var i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],v=e[15],g=c*m*l-p*h*l+p*s*d-a*m*d-c*s*v+a*h*v,y=f*h*l-u*m*l-f*s*d+o*m*d+u*s*v-o*h*v,b=u*p*l-f*c*l+f*a*d-o*p*d-u*a*v+o*c*v,_=f*c*s-u*p*s-f*a*h+o*p*h+u*a*m-o*c*m,w=t*g+n*y+i*b+r*_;return 0==w?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(e[0]=g*(g=1/w),e[1]=(p*h*r-c*m*r-p*i*d+n*m*d+c*i*v-n*h*v)*g,e[2]=(a*m*r-p*s*r+p*i*l-n*m*l-a*i*v+n*s*v)*g,e[3]=(c*s*r-a*h*r-c*i*l+n*h*l+a*i*d-n*s*d)*g,e[4]=y*g,e[5]=(u*m*r-f*h*r+f*i*d-t*m*d-u*i*v+t*h*v)*g,e[6]=(f*s*r-o*m*r-f*i*l+t*m*l+o*i*v-t*s*v)*g,e[7]=(o*h*r-u*s*r+u*i*l-t*h*l-o*i*d+t*s*d)*g,e[8]=b*g,e[9]=(f*c*r-u*p*r-f*n*d+t*p*d+u*n*v-t*c*v)*g,e[10]=(o*p*r-f*a*r+f*n*l-t*p*l-o*n*v+t*a*v)*g,e[11]=(u*a*r-o*c*r-u*n*l+t*c*l+o*n*d-t*a*d)*g,e[12]=_*g,e[13]=(u*p*i-f*c*i+f*n*h-t*p*h-u*n*m+t*c*m)*g,e[14]=(f*a*i-o*p*i-f*n*s+t*p*s+o*n*m-t*a*m)*g,e[15]=(o*c*i-u*a*i+u*n*s-t*c*s-o*n*h+t*a*h)*g,this)}},{key:"scale",value:function(e){var t=this.elements,n=e.x,i=e.y;e=e.z;return t[0]*=n,t[4]*=i,t[8]*=e,t[1]*=n,t[5]*=i,t[9]*=e,t[2]*=n,t[6]*=i,t[10]*=e,t[3]*=n,t[7]*=i,t[11]*=e,this}},{key:"getMaxScaleOnAxis",value:function(){var e=(n=this.elements)[0]*n[0]+n[1]*n[1]+n[2]*n[2],t=n[4]*n[4]+n[5]*n[5]+n[6]*n[6],n=n[8]*n[8]+n[9]*n[9]+n[10]*n[10];return Math.sqrt(Math.max(e,t,n))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e);e=Math.sin(e);return this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e);e=Math.sin(e);return this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e);e=Math.sin(e);return this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),i=(t=Math.sin(t),1-n),r=e.x,o=e.y,a=(e=e.z,i*r),s=i*o;return this.set(a*r+n,a*o-t*e,a*e+t*o,0,a*o+t*e,s*o+n,s*e-t*r,0,a*e-t*o,s*e+t*r,i*e*e+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,i,r,o){return this.set(1,n,r,0,e,1,o,0,t,i,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var i=this.elements,r=(a=t._x)*(c=a+a),o=a*(h=(l=t._y)+l),a=a*(d=(u=t._z)+u),s=l*h,l=l*d,u=u*d,c=(t=t._w)*c,h=t*h,d=(t=t*d,n.x),f=n.y;n=n.z;return i[0]=(1-(s+u))*d,i[1]=(o+t)*d,i[2]=(a-h)*d,i[3]=0,i[4]=(o-t)*f,i[5]=(1-(r+u))*f,i[6]=(l+c)*f,i[7]=0,i[8]=(a+h)*n,i[9]=(l-c)*n,i[10]=(1-(r+s))*n,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}},{key:"decompose",value:function(e,t,n){var i=this.elements,r=ln.set(i[0],i[1],i[2]).length(),o=ln.set(i[4],i[5],i[6]).length(),a=ln.set(i[8],i[9],i[10]).length(),s=(e=(this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],un.copy(this),1/r),i=1/o,1/a);return un.elements[0]*=e,un.elements[1]*=e,un.elements[2]*=e,un.elements[4]*=i,un.elements[5]*=i,un.elements[6]*=i,un.elements[8]*=s,un.elements[9]*=s,un.elements[10]*=s,t.setFromRotationMatrix(un),n.x=r,n.y=o,n.z=a,this}},{key:"makePerspective",value:function(e,t,n,i,r,o){var a=this.elements,s=2*r/(n-i),l=(t+e)/(t-e);n=(n+i)/(n-i),i=-(o+r)/(o-r),o=-2*o*r/(o-r);return a[0]=2*r/(t-e),a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=s,a[9]=n,a[13]=0,a[2]=0,a[6]=0,a[10]=i,a[14]=o,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,i,r,o){var a=this.elements,s=1/(t-e),l=1/(n-i),u=1/(o-r);t=(t+e)*s,e=(n+i)*l,n=(o+r)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-t,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-e,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-n,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),ln=new Dt,un=new sn,cn=new Dt(0,0,0),hn=new Dt(1,1,1),dn=new Dt,fn=new Dt,pn=new Dt,mn=new sn,vn=new Tt,gn=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;b(this,e),this.isEuler=!0,this._x=t,this._y=n,this._z=i,this._order=r}return w(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._order,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=(e=e.elements)[0],r=e[4],o=e[8],a=e[1],s=e[5],l=e[9],u=e[2],c=e[6],h=e[10];switch(t){case"XYZ":this._y=Math.asin(Xe(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,h),this._z=Math.atan2(-r,i)):(this._x=Math.atan2(c,s),this._z=0);break;case"YXZ":this._x=Math.asin(-Xe(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(a,s)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(Xe(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-r,s)):(this._y=0,this._z=Math.atan2(a,i));break;case"ZYX":this._y=Math.asin(-Xe(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(c,h),this._z=Math.atan2(a,i)):(this._x=0,this._z=Math.atan2(-r,s));break;case"YZX":this._z=Math.asin(Xe(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-l,s),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Xe(r,-1,1)),Math.abs(r)<.9999999?(this._x=Math.atan2(c,s),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,h),this._y=0)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return mn.makeRotationFromQuaternion(e),this.setFromRotationMatrix(mn,t,n)}},{key:"setFromVector3",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return vn.setFromEuler(this),this.setFromQuaternion(vn,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))},{key:"toVector3",value:function(){}}]),e}(),yn=(gn.DefaultOrder="XYZ",gn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],function(){function e(){b(this,e),this.mask=1}return w(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!=(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!=(this.mask&(1<<e|0))}}]),e}()),bn=0,_n=new Dt,wn=new Tt,xn=new sn,Sn=new Dt,An=new Dt,Cn=new Dt,Mn=new Tt,En=new Dt(1,0,0),Tn=new Dt(0,1,0),Dn=new Dt(0,0,1),Pn={type:"added"},kn={type:"removed"},On=function(){h(t,He);var e=f(t);function t(){b(this,t),(n=e.call(this)).isObject3D=!0,Object.defineProperty(p(n),"id",{value:bn++}),n.uuid=qe(),n.name="",n.type="Object3D",n.parent=null,n.children=[],n.up=t.DefaultUp.clone();var n,i=new Dt,r=new gn,o=new Tt,a=new Dt(1,1,1);return r._onChange((function(){o.setFromEuler(r,!1)})),o._onChange((function(){r.setFromQuaternion(o,void 0,!1)})),Object.defineProperties(p(n),{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new sn},normalMatrix:{value:new rt}}),n.matrix=new sn,n.matrixWorld=new sn,n.matrixAutoUpdate=t.DefaultMatrixAutoUpdate,n.matrixWorldNeedsUpdate=!1,n.matrixWorldAutoUpdate=t.DefaultMatrixWorldAutoUpdate,n.layers=new yn,n.visible=!0,n.castShadow=!1,n.receiveShadow=!1,n.frustumCulled=!0,n.renderOrder=0,n.animations=[],n.userData={},n}return w(t,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return wn.setFromAxisAngle(e,t),this.quaternion.multiply(wn),this}},{key:"rotateOnWorldAxis",value:function(e,t){return wn.setFromAxisAngle(e,t),this.quaternion.premultiply(wn),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(En,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(Tn,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Dn,e)}},{key:"translateOnAxis",value:function(e,t){return _n.copy(e).applyQuaternion(this.quaternion),this.position.add(_n.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(En,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(Tn,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Dn,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(xn.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Sn.copy(e):Sn.set(e,t,n),e=this.parent,this.updateWorldMatrix(!0,!1),An.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xn.lookAt(An,Sn,this.up):xn.lookAt(Sn,An,this.up),this.quaternion.setFromRotationMatrix(xn),e&&(xn.extractRotation(e.matrixWorld),wn.setFromRotationMatrix(xn),this.quaternion.premultiply(wn.invert()))}},{key:"add",value:function(e){if(1<arguments.length)for(var t=0;t<arguments.length;t++)this.add(arguments[t]);else e!==this&&e&&e.isObject3D&&(null!==e.parent&&e.parent.remove(e),(e.parent=this).children.push(e),e.dispatchEvent(Pn));return this}},{key:"remove",value:function(e){if(1<arguments.length)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);else{var n=this.children.indexOf(e);-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(kn))}return this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(kn)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),xn.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),xn.multiply(e.parent.matrixWorld)),e.applyMatrix4(xn),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(An,e,Cn),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(An,Mn,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e=!(this.matrixWorldNeedsUpdate=!1));for(var t=this.children,n=0,i=t.length;n<i;n++){var r=t[n];!0!==r.matrixWorldAutoUpdate&&!0!==e||r.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var i=this.children,r=0,o=i.length;r<o;r++){var a=i[r];!0===a.matrixWorldAutoUpdate&&a.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t,n,i,r,o,a,s=void 0===e||"string"==typeof e,l={},u=(s&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},l.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"}),{});function c(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(u.uuid=this.uuid,u.type=this.type,""!==this.name&&(u.name=this.name),!0===this.castShadow&&(u.castShadow=!0),!0===this.receiveShadow&&(u.receiveShadow=!0),!1===this.visible&&(u.visible=!1),!1===this.frustumCulled&&(u.frustumCulled=!1),0!==this.renderOrder&&(u.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(u.userData=this.userData),u.layers=this.layers.mask,u.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(u.matrixAutoUpdate=!1),this.isInstancedMesh&&(u.type="InstancedMesh",u.count=this.count,u.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(u.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?u.background=this.background.toJSON():this.background.isTexture&&(u.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(u.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){u.geometry=c(e.geometries,this.geometry);var h=this.geometry.parameters;if(void 0!==h&&void 0!==h.shapes){var d=h.shapes;if(Array.isArray(d))for(var f=0,p=d.length;f<p;f++){var m=d[f];c(e.shapes,m)}else c(e.shapes,d)}}if(this.isSkinnedMesh&&(u.bindMode=this.bindMode,u.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(c(e.skeletons,this.skeleton),u.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var v=[],g=0,y=this.material.length;g<y;g++)v.push(c(e.materials,this.material[g]));u.material=v}else u.material=c(e.materials,this.material);if(0<this.children.length){u.children=[];for(var b=0;b<this.children.length;b++)u.children.push(this.children[b].toJSON(e).object)}if(0<this.animations.length){u.animations=[];for(var _=0;_<this.animations.length;_++){var w=this.animations[_];u.animations.push(c(e.animations,w))}}return s&&(h=x(e.geometries),s=x(e.materials),t=x(e.textures),n=x(e.images),i=x(e.shapes),r=x(e.skeletons),o=x(e.animations),a=x(e.nodes),0<h.length&&(l.geometries=h),0<s.length&&(l.materials=s),0<t.length&&(l.textures=t),0<n.length&&(l.images=n),0<i.length&&(l.shapes=i),0<r.length&&(l.skeletons=r),0<o.length&&(l.animations=o),0<a.length&&(l.nodes=a)),l.object=u,l;function x(e){var t,n=[];for(t in e){var i=e[t];delete i.metadata,n.push(i)}return n}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}return this}}]),t}(),Rn=(On.DefaultUp=new Dt(0,1,0),On.DefaultMatrixAutoUpdate=!0,On.DefaultMatrixWorldAutoUpdate=!0,new Dt),Ln=new Dt,Bn=new Dt,In=new Dt,Fn=new Dt,zn=new Dt,Nn=new Dt,Un=new Dt,jn=new Dt,Hn=new Dt,Gn=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Dt,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Dt,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Dt;b(this,e),this.a=t,this.b=n,this.c=i}return w(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Rn.subVectors(this.c,this.b),Ln.subVectors(this.a,this.b),.5*Rn.cross(Ln).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,i,r,o){return e.getUV(t,this.a,this.b,this.c,n,i,r,o)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n=this.a,i=this.b,r=this.c,o=(Fn.subVectors(i,n),zn.subVectors(r,n),Un.subVectors(e,n),Fn.dot(Un)),a=zn.dot(Un);if(o<=0&&a<=0)return t.copy(n);jn.subVectors(e,i);var s=Fn.dot(jn),l=zn.dot(jn);if(0<=s&&l<=s)return t.copy(i);var u=o*l-s*a;if(u<=0&&0<=o&&s<=0)return c=o/(o-s),t.copy(n).addScaledVector(Fn,c);Hn.subVectors(e,r);e=Fn.dot(Hn);var c,h,d=zn.dot(Hn);return 0<=d&&e<=d?t.copy(r):(o=e*a-o*d)<=0&&0<=a&&d<=0?(h=a/(a-d),t.copy(n).addScaledVector(zn,h)):(a=s*d-e*l)<=0&&0<=l-s&&0<=e-d?(Nn.subVectors(r,i),h=(l-s)/(l-s+(e-d)),t.copy(i).addScaledVector(Nn,h)):(c=o*(r=1/(a+o+u)),h=u*r,t.copy(n).addScaledVector(Fn,c).addScaledVector(zn,h))}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,i){return i.subVectors(n,t),Rn.subVectors(e,t),i.cross(Rn),0<(n=i.lengthSq())?i.multiplyScalar(1/Math.sqrt(n)):i.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,i,r){Rn.subVectors(i,t),Ln.subVectors(n,t),Bn.subVectors(e,t);i=Rn.dot(Rn),n=Rn.dot(Ln),e=Rn.dot(Bn),t=Ln.dot(Ln);var o=Ln.dot(Bn),a=i*t-n*n;return 0==a?r.set(-2,-1,-1):r.set(1-(t=(t*e-n*o)*(r=1/a))-(a=(i*o-n*e)*r),a,t)}},{key:"containsPoint",value:function(e,t,n,i){return this.getBarycoord(e,t,n,i,In),0<=In.x&&0<=In.y&&In.x+In.y<=1}},{key:"getUV",value:function(e,t,n,i,r,o,a,s){return this.getBarycoord(e,t,n,i,In),s.set(0,0),s.addScaledVector(r,In.x),s.addScaledVector(o,In.y),s.addScaledVector(a,In.z),s}},{key:"isFrontFacing",value:function(e,t,n,i){return Rn.subVectors(n,t),Ln.subVectors(e,t),Rn.cross(Ln).dot(i)<0}}]),e}(),Vn=0,Wn=function(){h(t,He);var e=f(t);function t(){var n;return b(this,t),(n=e.call(this)).isMaterial=!0,Object.defineProperty(p(n),"id",{value:Vn++}),n.uuid=qe(),n.name="",n.type="Material",n.blending=1,n.side=C,n.vertexColors=!1,n.opacity=1,n.transparent=!1,n.blendSrc=204,n.blendDst=205,n.blendEquation=100,n.blendSrcAlpha=null,n.blendDstAlpha=null,n.blendEquationAlpha=null,n.depthFunc=R,n.depthTest=!0,n.depthWrite=!0,n.stencilWriteMask=255,n.stencilFunc=519,n.stencilRef=0,n.stencilFuncMask=255,n.stencilFail=7680,n.stencilZFail=7680,n.stencilZPass=7680,n.stencilWrite=!1,n.clippingPlanes=null,n.clipIntersection=!1,n.clipShadows=!1,n.shadowSide=null,n.colorWrite=!0,n.precision=null,n.polygonOffset=!1,n.polygonOffsetFactor=0,n.polygonOffsetUnits=0,n.dithering=!1,n.alphaToCoverage=!1,n.premultipliedAlpha=!1,n.visible=!0,n.toneMapped=!0,n.userData={},n.version=0,n._alphaTest=0,n}return w(t,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){0<this._alphaTest!=0<e&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n,i=e[t];void 0!==i&&void 0!==(n=this[t])&&(n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[t]=i)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e,n=(t&&(e={textures:{},images:{}}),{metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}});function i(e){var t,n=[];for(t in e){var i=e[t];delete i.metadata,n.push(i)}return n}return n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),this.side!==C&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t&&(t=i(e.textures),e=i(e.images),0<t.length&&(n.textures=t),0<e.length&&(n.images=e)),n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t)for(var i=t.length,r=(n=new Array(i),0);r!==i;++r)n[r]=t[r].clone();return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),t}(),Yn=function(){h(t,Wn);var e=f(t);function t(n){var i;return b(this,t),(i=e.call(this)).isMeshBasicMaterial=!0,i.type="MeshBasicMaterial",i.color=new yt(16777215),i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=0,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.fog=!0,i.setValues(n),i}return w(t,[{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),t}(),qn=new Dt,Xn=new it,Qn=function(){function e(t,n,i){if(b(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===i,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}return w(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Xn.fromBufferAttribute(this,t),Xn.applyMatrix3(e),this.setXY(t,Xn.x,Xn.y);else if(3===this.itemSize)for(var i=0,r=this.count;i<r;i++)qn.fromBufferAttribute(this,i),qn.applyMatrix3(e),this.setXYZ(i,qn.x,qn.y,qn.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)qn.fromBufferAttribute(this,t),qn.applyMatrix4(e),this.setXYZ(t,qn.x,qn.y,qn.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)qn.fromBufferAttribute(this,t),qn.applyNormalMatrix(e),this.setXYZ(t,qn.x,qn.y,qn.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)qn.fromBufferAttribute(this,t),qn.transformDirection(e),this.setXYZ(t,qn.x,qn.y,qn.z);return this}},{key:"set",value:function(e){return this.array.set(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0),this}},{key:"getX",value:function(e){return e=this.array[e*this.itemSize],this.normalized?et(e,this.array):e}},{key:"setX",value:function(e,t){return this.normalized&&(t=tt(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){return e=this.array[e*this.itemSize+1],this.normalized?et(e,this.array):e}},{key:"setY",value:function(e,t){return this.normalized&&(t=tt(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){return e=this.array[e*this.itemSize+2],this.normalized?et(e,this.array):e}},{key:"setZ",value:function(e,t){return this.normalized&&(t=tt(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){return e=this.array[e*this.itemSize+3],this.normalized?et(e,this.array):e}},{key:"setW",value:function(e,t){return this.normalized&&(t=tt(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=tt(t,this.array),n=tt(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=tt(t,this.array),n=tt(n,this.array),i=tt(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}},{key:"setXYZW",value:function(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=tt(t,this.array),n=tt(n,this.array),i=tt(i,this.array),r=tt(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}},{key:"copyColorsArray",value:function(){}},{key:"copyVector2sArray",value:function(){}},{key:"copyVector3sArray",value:function(){}},{key:"copyVector4sArray",value:function(){}}]),e}(),Kn=function(){h(t,Qn);var e=f(t);function t(n,i,r){return b(this,t),e.call(this,new Uint16Array(n),i,r)}return w(t)}(),Jn=function(){h(t,Qn);var e=f(t);function t(n,i,r){return b(this,t),e.call(this,new Uint32Array(n),i,r)}return w(t)}(),Zn=function(){h(t,Qn);var e=f(t);function t(n,i,r){return b(this,t),e.call(this,new Float32Array(n),i,r)}return w(t)}(),$n=0,ei=new sn,ti=new On,ni=new Dt,ii=new Ot,ri=new Ot,oi=new Dt,ai=function(){h(t,He);var e=f(t);function t(){var n;return b(this,t),(n=e.call(this)).isBufferGeometry=!0,Object.defineProperty(p(n),"id",{value:$n++}),n.uuid=qe(),n.name="",n.type="BufferGeometry",n.index=null,n.attributes={},n.morphAttributes={},n.morphTargetsRelative=!1,n.groups=[],n.boundingBox=null,n.boundingSphere=null,n.drawRange={start:0,count:1/0},n.userData={},n}return w(t,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(ot(e)?Jn:Kn)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){this.groups.push({start:e,count:t,materialIndex:2<arguments.length&&void 0!==arguments[2]?arguments[2]:0})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t,n=(void 0!==(t=(void 0!==(t=this.attributes.position)&&(t.applyMatrix4(e),t.needsUpdate=!0),this.attributes.normal))&&(n=(new rt).getNormalMatrix(e),t.applyNormalMatrix(n),t.needsUpdate=!0),this.attributes.tangent);return void 0!==n&&(n.transformDirection(e),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return ei.makeRotationFromQuaternion(e),this.applyMatrix4(ei),this}},{key:"rotateX",value:function(e){return ei.makeRotationX(e),this.applyMatrix4(ei),this}},{key:"rotateY",value:function(e){return ei.makeRotationY(e),this.applyMatrix4(ei),this}},{key:"rotateZ",value:function(e){return ei.makeRotationZ(e),this.applyMatrix4(ei),this}},{key:"translate",value:function(e,t,n){return ei.makeTranslation(e,t,n),this.applyMatrix4(ei),this}},{key:"scale",value:function(e,t,n){return ei.makeScale(e,t,n),this.applyMatrix4(ei),this}},{key:"lookAt",value:function(e){return ti.lookAt(e),ti.updateMatrix(),this.applyMatrix4(ti.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ni).negate(),this.translate(ni.x,ni.y,ni.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Zn(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Ot);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingBox.set(new Dt(-1/0,-1/0,-1/0),new Dt(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var r=t[n];ii.setFromBufferAttribute(r),this.morphTargetsRelative?(oi.addVectors(this.boundingBox.min,ii.min),this.boundingBox.expandByPoint(oi),oi.addVectors(this.boundingBox.max,ii.max),this.boundingBox.expandByPoint(oi)):(this.boundingBox.expandByPoint(ii.min),this.boundingBox.expandByPoint(ii.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Jt);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingSphere.set(new Dt,1/0);else if(e){var n=this.boundingSphere.center;if(ii.setFromBufferAttribute(e),t)for(var i=0,r=t.length;i<r;i++){var o=t[i];ri.setFromBufferAttribute(o),this.morphTargetsRelative?(oi.addVectors(ii.min,ri.min),ii.expandByPoint(oi),oi.addVectors(ii.max,ri.max),ii.expandByPoint(oi)):(ii.expandByPoint(ri.min),ii.expandByPoint(ri.max))}ii.getCenter(n);for(var a=0,s=0,l=e.count;s<l;s++)oi.fromBufferAttribute(e,s),a=Math.max(a,n.distanceToSquared(oi));if(t)for(var u=0,c=t.length;u<c;u++)for(var h=t[u],d=this.morphTargetsRelative,f=0,p=h.count;f<p;f++)oi.fromBufferAttribute(h,f),d&&(ni.fromBufferAttribute(e,f),oi.add(ni)),a=Math.max(a,n.distanceToSquared(oi));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){for(var n=e.array,i=t.position.array,r=t.normal.array,o=t.uv.array,a=i.length/3,s=(!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Qn(new Float32Array(4*a),4)),this.getAttribute("tangent").array),l=[],u=[],c=0;c<a;c++)l[c]=new Dt,u[c]=new Dt;for(var h,d,f,p,m=new Dt,v=new Dt,g=new Dt,y=new it,b=new it,_=new it,w=new Dt,x=new Dt,S=this.groups,A=0,C=(S=0===S.length?[{start:0,count:n.length}]:S).length;A<C;++A)for(var M=S[A],E=M.start,T=E,D=E+M.count;T<D;T+=3)h=n[T+0],d=n[T+1],f=n[T+2],void 0,m.fromArray(i,3*h),v.fromArray(i,3*d),g.fromArray(i,3*f),y.fromArray(o,2*h),b.fromArray(o,2*d),_.fromArray(o,2*f),v.sub(m),g.sub(m),b.sub(y),_.sub(y),p=1/(b.x*_.y-_.x*b.y),isFinite(p)&&(w.copy(v).multiplyScalar(_.y).addScaledVector(g,-b.y).multiplyScalar(p),x.copy(g).multiplyScalar(b.x).addScaledVector(v,-_.x).multiplyScalar(p),l[h].add(w),l[d].add(w),l[f].add(w),u[h].add(x),u[d].add(x),u[f].add(x));for(var P=new Dt,k=new Dt,O=new Dt,R=new Dt,L=0,B=S.length;L<B;++L)for(var I=S[L],F=I.start,z=F,N=F+I.count;z<N;z+=3)U(n[z+0]),U(n[z+1]),U(n[z+2])}function U(e){O.fromArray(r,3*e),R.copy(O);var t=l[e];P.copy(t),P.sub(O.multiplyScalar(O.dot(t))).normalize(),k.crossVectors(R,t),t=k.dot(u[e])<0?-1:1,s[4*e]=P.x,s[4*e+1]=P.y,s[4*e+2]=P.z,s[4*e+3]=t}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new Qn(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var i=0,r=n.count;i<r;i++)n.setXYZ(i,0,0,0);var o=new Dt,a=new Dt,s=new Dt,l=new Dt,u=new Dt,c=new Dt,h=new Dt,d=new Dt;if(e)for(var f=0,p=e.count;f<p;f+=3){var m=e.getX(f+0),v=e.getX(f+1),g=e.getX(f+2);o.fromBufferAttribute(t,m),a.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),h.subVectors(s,a),d.subVectors(o,a),h.cross(d),l.fromBufferAttribute(n,m),u.fromBufferAttribute(n,v),c.fromBufferAttribute(n,g),l.add(h),u.add(h),c.add(h),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)o.fromBufferAttribute(t,y+0),a.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),h.subVectors(s,a),d.subVectors(o,a),h.cross(d),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return this}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)oi.fromBufferAttribute(e,t),oi.normalize(),e.setXYZ(t,oi.x,oi.y,oi.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,i=e.itemSize,r=e.normalized,o=new n.constructor(t.length*i),a=0,s=0,l=0,u=t.length;l<u;l++){a=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*i;for(var c=0;c<i;c++)o[s++]=n[a++]}return new Qn(o,i,r)}if(null===this.index)return this;var n,i=new t,r=this.index.array,o=this.attributes;for(n in o){var a=e(o[n],r);i.setAttribute(n,a)}var s,l=this.morphAttributes;for(s in l){for(var u=[],c=l[s],h=0,d=c.length;h<d;h++){var f=e(c[h],r);u.push(f)}i.morphAttributes[s]=u}i.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,m=0,v=p.length;m<v;m++){var g=p[m];i.addGroup(g.start,g.count,g.materialIndex)}return i}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),0<Object.keys(this.userData).length&&(e.userData=this.userData),void 0!==this.parameters){var t,n=this.parameters;for(t in n)void 0!==n[t]&&(e[t]=n[t])}else{e.data={attributes:{}};var i,r=this.index,o=(null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)}),this.attributes);for(i in o){var a=o[i];e.data.attributes[i]=a.toJSON(e.data)}var s,l={},u=!1;for(s in this.morphAttributes){for(var c=this.morphAttributes[s],h=[],d=0,f=c.length;d<f;d++){var p=c[d];h.push(p.toJSON(e.data))}0<h.length&&(l[s]=h,u=!0)}u&&(e.data.morphAttributes=l,e.data.morphTargetsRelative=this.morphTargetsRelative),0<(r=this.groups).length&&(e.data.groups=JSON.parse(JSON.stringify(r))),null!==(r=this.boundingSphere)&&(e.data.boundingSphere={center:r.center.toArray(),radius:r.radius})}return e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t,n={},i=(this.name=e.name,e.index),r=(null!==i&&this.setIndex(i.clone(n)),e.attributes);for(t in r){var o=r[t];this.setAttribute(t,o.clone(n))}var a,s=e.morphAttributes;for(a in s){for(var l=[],u=s[a],c=0,h=u.length;c<h;c++)l.push(u[c].clone(n));this.morphAttributes[a]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,f=0,p=d.length;f<p;f++){var m=d[f];this.addGroup(m.start,m.count,m.materialIndex)}return null!==(i=e.boundingBox)&&(this.boundingBox=i.clone()),null!==(i=e.boundingSphere)&&(this.boundingSphere=i.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),t}(),si=new sn,li=new an,ui=new Jt,ci=new Dt,hi=new Dt,di=new Dt,fi=new Dt,pi=new Dt,mi=new Dt,vi=new Dt,gi=new Dt,yi=new Dt,bi=new it,_i=new it,wi=new it,xi=new Dt,Si=new Dt,Ai=function(){h(t,On);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ai,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Yn;return b(this,t),(n=e.call(this)).isMesh=!0,n.type="Mesh",n.geometry=i,n.material=r,n.updateMorphTargets(),n}return w(t,[{key:"copy",value:function(e,n){return c(v(t.prototype),"copy",this).call(this,e,n),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(0<t.length){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,r=n.length;i<r;i++){var o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}},{key:"raycast",value:function(e,t){var n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i&&(null===n.boundingSphere&&n.computeBoundingSphere(),ui.copy(n.boundingSphere),ui.applyMatrix4(r),!1!==e.ray.intersectsSphere(ui)&&(si.copy(r).invert(),li.copy(e.ray).applyMatrix4(si),null===n.boundingBox||!1!==li.intersectsBox(n.boundingBox)))){var o=n.index,a=n.attributes.position,s=n.morphAttributes.position,l=n.morphTargetsRelative,u=n.attributes.uv,c=n.attributes.uv2,h=n.groups,d=n.drawRange;if(null!==o)if(Array.isArray(i))for(var f=0,p=h.length;f<p;f++)for(var m=h[f],v=i[m.materialIndex],g=Math.max(m.start,d.start),y=Math.min(o.count,Math.min(m.start+m.count,d.start+d.count));g<y;g+=3){var b,_=o.getX(g),w=o.getX(g+1),x=o.getX(g+2);(b=Ci(this,v,e,li,a,s,l,u,c,_,w,x))&&(b.faceIndex=Math.floor(g/3),b.face.materialIndex=m.materialIndex,t.push(b))}else for(var S=Math.max(0,d.start),A=Math.min(o.count,d.start+d.count);S<A;S+=3){var C=o.getX(S),M=o.getX(S+1),E=o.getX(S+2);(b=Ci(this,i,e,li,a,s,l,u,c,C,M,E))&&(b.faceIndex=Math.floor(S/3),t.push(b))}else if(void 0!==a)if(Array.isArray(i))for(var T=0,D=h.length;T<D;T++)for(var P=h[T],k=i[P.materialIndex],O=Math.max(P.start,d.start),R=Math.min(a.count,Math.min(P.start+P.count,d.start+d.count));O<R;O+=3)(b=Ci(this,k,e,li,a,s,l,u,c,O,O+1,O+2))&&(b.faceIndex=Math.floor(O/3),b.face.materialIndex=P.materialIndex,t.push(b));else for(var L=Math.max(0,d.start),B=Math.min(a.count,d.start+d.count);L<B;L+=3)(b=Ci(this,i,e,li,a,s,l,u,c,L,L+1,L+2))&&(b.faceIndex=Math.floor(L/3),t.push(b))}}}]),t}();function Ci(e,t,n,i,r,o,a,s,l,u,c,h){ci.fromBufferAttribute(r,u),hi.fromBufferAttribute(r,c),di.fromBufferAttribute(r,h);var d=e.morphTargetInfluences;if(o&&d){vi.set(0,0,0),gi.set(0,0,0),yi.set(0,0,0);for(var f=0,p=o.length;f<p;f++){var m=d[f],v=o[f];0!==m&&(fi.fromBufferAttribute(v,u),pi.fromBufferAttribute(v,c),mi.fromBufferAttribute(v,h),a?(vi.addScaledVector(fi,m),gi.addScaledVector(pi,m),yi.addScaledVector(mi,m)):(vi.addScaledVector(fi.sub(ci),m),gi.addScaledVector(pi.sub(hi),m),yi.addScaledVector(mi.sub(di),m)))}ci.add(vi),hi.add(gi),di.add(yi)}e.isSkinnedMesh&&(e.boneTransform(u,ci),e.boneTransform(c,hi),e.boneTransform(h,di)),r=e,e=n,n=i,i=ci,b=hi,y=di,g=xi;var g,y,b=null===(n=(t=t).side===M?n.intersectTriangle(y,b,i,!0,g):n.intersectTriangle(i,b,y,t.side!==E,g))||(Si.copy(g),Si.applyMatrix4(r.matrixWorld),(i=e.ray.origin.distanceTo(Si))<e.near||i>e.far)?null:{distance:i,point:Si.clone(),object:r};return b&&(s&&(bi.fromBufferAttribute(s,u),_i.fromBufferAttribute(s,c),wi.fromBufferAttribute(s,h),b.uv=Gn.getUV(xi,ci,hi,di,bi,_i,wi,new it)),l&&(bi.fromBufferAttribute(l,u),_i.fromBufferAttribute(l,c),wi.fromBufferAttribute(l,h),b.uv2=Gn.getUV(xi,ci,hi,di,bi,_i,wi,new it)),y={a:u,b:c,c:h,normal:new Dt,materialIndex:0},Gn.getNormal(ci,hi,di,y.normal),b.face=y),b}var Mi=function(){h(t,ai);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1,u=(b(this,t),(n=e.call(this)).type="BoxGeometry",n.parameters={width:i,height:r,depth:o,widthSegments:a,heightSegments:s,depthSegments:l},p(n)),c=(a=Math.floor(a),s=Math.floor(s),l=Math.floor(l),[]),h=[],d=[],f=[],m=0,v=0;function g(e,t,n,i,r,o,a,s,l,p,g){for(var y=o/l,b=a/p,_=o/2,w=a/2,x=s/2,S=l+1,A=p+1,C=0,M=0,E=new Dt,T=0;T<A;T++)for(var D=T*b-w,P=0;P<S;P++)E[e]=(P*y-_)*i,E[t]=D*r,E[n]=x,h.push(E.x,E.y,E.z),E[e]=0,E[t]=0,E[n]=0<s?1:-1,d.push(E.x,E.y,E.z),f.push(P/l),f.push(1-T/p),C+=1;for(var k=0;k<p;k++)for(var O=0;O<l;O++){var R=m+O+S*k,L=m+O+S*(k+1),B=m+(O+1)+S*(k+1),I=m+(O+1)+S*k;c.push(R,L,I),c.push(L,B,I),M+=6}u.addGroup(v,M,g),v+=M,m+=C}return g("z","y","x",-1,-1,o,r,i,l,s,0),g("z","y","x",1,-1,o,r,-i,l,s,1),g("x","z","y",1,1,i,o,r,a,l,2),g("x","z","y",1,-1,i,o,-r,a,l,3),g("x","y","z",1,-1,i,r,o,a,s,4),g("x","y","z",-1,-1,i,r,-o,a,s,5),n.setIndex(c),n.setAttribute("position",new Zn(h,3)),n.setAttribute("normal",new Zn(d,3)),n.setAttribute("uv",new Zn(f,2)),n}return w(t,null,[{key:"fromJSON",value:function(e){return new t(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),t}();function Ei(e){var t,n={};for(t in e)for(var i in n[t]={},e[t]){var r=e[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?n[t][i]=r.clone():Array.isArray(r)?n[t][i]=r.slice():n[t][i]=r}return n}function Ti(e){for(var t={},n=0;n<e.length;n++){var i,r=Ei(e[n]);for(i in r)t[i]=r[i]}return t}var Di={clone:Ei,merge:Ti},Pi=function(){h(t,Wn);var e=f(t);function t(n){var i;return b(this,t),(i=e.call(this)).isShaderMaterial=!0,i.type="ShaderMaterial",i.defines={},i.uniforms={},i.uniformsGroups=[],i.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",i.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",i.linewidth=1,i.wireframe=!1,i.wireframeLinewidth=1,i.fog=!1,i.lights=!1,i.clipping=!1,i.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},i.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},i.index0AttributeName=void 0,i.uniformsNeedUpdate=!1,i.glslVersion=null,void 0!==n&&i.setValues(n),i}return w(t,[{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ei(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var n,i=c(v(t.prototype),"toJSON",this).call(this,e);for(n in i.glslVersion=this.glslVersion,i.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?i.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?i.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?i.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?i.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?i.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?i.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?i.uniforms[n]={type:"m4",value:r.toArray()}:i.uniforms[n]={value:r}}0<Object.keys(this.defines).length&&(i.defines=this.defines),i.vertexShader=this.vertexShader,i.fragmentShader=this.fragmentShader;var o,a={};for(o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return 0<Object.keys(a).length&&(i.extensions=a),i}}]),t}(),ki=function(){h(t,On);var e=f(t);function t(){var n;return b(this,t),(n=e.call(this)).isCamera=!0,n.type="Camera",n.matrixWorldInverse=new sn,n.projectionMatrix=new sn,n.projectionMatrixInverse=new sn,n}return w(t,[{key:"copy",value:function(e,n){return c(v(t.prototype),"copy",this).call(this,e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){c(v(t.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,n){c(v(t.prototype),"updateWorldMatrix",this).call(this,e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Oi=function(){h(t,ki);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2e3;return b(this,t),(n=e.call(this)).isPerspectiveCamera=!0,n.type="PerspectiveCamera",n.fov=i,n.zoom=1,n.near=o,n.far=a,n.focus=10,n.aspect=r,n.view=null,n.filmGauge=35,n.filmOffset=0,n.updateProjectionMatrix(),n}return w(t,[{key:"copy",value:function(e,n){return c(v(t.prototype),"copy",this).call(this,e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){e=.5*this.getFilmHeight()/e,this.fov=2*Ye*Math.atan(e),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*We*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Ye*Math.atan(Math.tan(.5*We*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,i,r,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e,t=this.near,n=t*Math.tan(.5*We*this.fov)/this.zoom,i=2*n,r=this.aspect*i,o=-.5*r,a=this.view,s=(null!==this.view&&this.view.enabled&&(s=a.fullWidth,e=a.fullHeight,o+=a.offsetX*r/s,n-=a.offsetY*i/e,r*=a.width/s,i*=a.height/e),this.filmOffset);0!==s&&(o+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,n,n-i,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){return(e=c(v(t.prototype),"toJSON",this).call(this,e)).object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}]),t}(),Ri=function(){h(t,On);var e=f(t);function t(n,i,r){var o;return b(this,t),(o=e.call(this)).type="CubeCamera",o.renderTarget=r,(r=((r=((r=((r=((r=((r=new Oi(90,1,n,i)).layers=o.layers,r.up.set(0,-1,0),r.lookAt(new Dt(1,0,0)),o.add(r),new Oi(90,1,n,i))).layers=o.layers,r.up.set(0,-1,0),r.lookAt(new Dt(-1,0,0)),o.add(r),new Oi(90,1,n,i))).layers=o.layers,r.up.set(0,0,1),r.lookAt(new Dt(0,1,0)),o.add(r),new Oi(90,1,n,i))).layers=o.layers,r.up.set(0,0,-1),r.lookAt(new Dt(0,-1,0)),o.add(r),new Oi(90,1,n,i))).layers=o.layers,r.up.set(0,-1,0),r.lookAt(new Dt(0,0,1)),o.add(r),new Oi(90,1,n,i))).layers=o.layers,r.up.set(0,-1,0),r.lookAt(new Dt(0,0,-1)),o.add(r),o}return w(t,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,i=(u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.children,6))[0],r=u[1],o=u[2],a=u[3],s=u[4],u=u[5],c=e.getRenderTarget(),h=e.toneMapping,d=e.xr.enabled,f=(e.toneMapping=0,e.xr.enabled=!1,n.texture.generateMipmaps);n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,r),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=f,e.setRenderTarget(n,5),e.render(t,u),e.setRenderTarget(c),e.toneMapping=h,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}]),t}(),Li=function(){h(t,St);var e=f(t);function t(n,i,r,o,a,s,l,u,c,h){return b(this,t),(n=e.call(this,n=void 0!==n?n:[],i=void 0!==i?i:N,r,o,a,s,l,u,c,h)).isCubeTexture=!0,n.flipY=!1,n}return w(t,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),t}(),Bi=function(){h(t,Ct);var e=f(t);function t(n){var i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};b(this,t),(i=e.call(this,n,n,r)).isWebGLCubeRenderTarget=!0,n={width:n,height:n,depth:1};return i.texture=new Li([n,n,n,n,n,n],r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),i.texture.isRenderTargetTexture=!0,i.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,i.texture.minFilter=void 0!==r.minFilter?r.minFilter:Y,i}return w(t,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},i="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",o=new Mi(5,5,5);(n=new Pi({name:"CubemapFromEquirect",uniforms:Ei(n),vertexShader:i,fragmentShader:r,side:M,blending:T})).uniforms.tEquirect.value=t,i=new Ai(o,n),r=t.minFilter;return t.minFilter===X&&(t.minFilter=Y),new Ri(1,10,this).update(e,i),t.minFilter=r,i.geometry.dispose(),i.material.dispose(),this}},{key:"clear",value:function(e,t,n,i){for(var r=e.getRenderTarget(),o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(r)}}]),t}(),Ii=new Dt,Fi=new Dt,zi=new rt,Ni=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Dt(1,0,0),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;b(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return w(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){return n=Ii.subVectors(n,t).cross(Fi.subVectors(e,t)).normalize(),this.setFromNormalAndCoplanarPoint(n,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(Ii),i=this.normal.dot(n);return 0===i?0===this.distanceToPoint(e.start)?t.copy(e.start):null:(i=-(e.start.dot(this.normal)+this.constant)/i)<0||1<i?null:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start);e=this.distanceToPoint(e.end);return t<0&&0<e||e<0&&0<t}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){return t=t||zi.getNormalMatrix(e),e=this.coplanarPoint(Ii).applyMatrix4(e),t=this.normal.applyMatrix3(t).normalize(),this.constant=-e.dot(t),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Ui=new Jt,ji=new Dt,Hi=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Ni,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Ni,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Ni,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new Ni,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:new Ni,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:new Ni;b(this,e),this.planes=[t,n,i,r,o,a]}return w(e,[{key:"set",value:function(e,t,n,i,r,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(o),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=(e=e.elements)[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],m=e[13],v=e[14];e=e[15];return t[0].setComponents(o-n,u-a,f-c,e-p).normalize(),t[1].setComponents(o+n,u+a,f+c,e+p).normalize(),t[2].setComponents(o+i,u+s,f+h,e+m).normalize(),t[3].setComponents(o-i,u-s,f-h,e-m).normalize(),t[4].setComponents(o-r,u-l,f-d,e-v).normalize(),t[5].setComponents(o+r,u+l,f+d,e+v).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Ui.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ui)}},{key:"intersectsSprite",value:function(e){return Ui.center.set(0,0,0),Ui.radius=.7071067811865476,Ui.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ui)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var i=t[n];if(ji.x=(0<i.normal.x?e.max:e.min).x,ji.y=(0<i.normal.y?e.max:e.min).y,ji.z=(0<i.normal.z?e.max:e.min).z,i.distanceToPoint(ji)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function Gi(){var e=null,t=!1,n=null,i=null;function r(t,o){n(t,o),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Vi(e,t){var n=t.isWebGL2,i=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),i.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=i.get(t);n&&(e.deleteBuffer(n.buffer),i.delete(t))},update:function(t,r){var o,a,s,l;t.isGLBufferAttribute?(!(o=i.get(t))||o.version<t.version)&&i.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}):(t.isInterleavedBufferAttribute&&(t=t.data),void 0===(o=i.get(t))?i.set(t,function(t,i){var r,o=t.array,a=t.usage,s=e.createBuffer();if(e.bindBuffer(i,s),e.bufferData(i,o,a),t.onUploadCallback(),o instanceof Float32Array)r=5126;else if(o instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");r=5131}else r=5123;else if(o instanceof Int16Array)r=5122;else if(o instanceof Uint32Array)r=5125;else if(o instanceof Int32Array)r=5124;else if(o instanceof Int8Array)r=5120;else{if(!(o instanceof Uint8Array||o instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+o);r=5121}return{buffer:s,type:r,bytesPerElement:o.BYTES_PER_ELEMENT,version:t.version}}(t,r)):o.version<t.version&&(a=o.buffer,r=r,l=(s=t).array,s=s.updateRange,e.bindBuffer(r,a),-1===s.count?e.bufferSubData(r,0,l):(n?e.bufferSubData(r,s.offset*l.BYTES_PER_ELEMENT,l,s.offset,s.count):e.bufferSubData(r,s.offset*l.BYTES_PER_ELEMENT,l.subarray(s.offset,s.offset+s.count)),s.count=-1),o.version=t.version))}}}var Wi=function(){h(t,ai);var e=f(t);function t(){for(var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,s=(b(this,t),(n=e.call(this)).type="PlaneGeometry",n.parameters={width:i,height:r,widthSegments:o,heightSegments:a},i/2),l=r/2,u=Math.floor(o),c=Math.floor(a),h=u+1,d=c+1,f=i/u,p=r/c,m=[],v=[],g=[],y=[],_=0;_<d;_++)for(var w=_*p-l,x=0;x<h;x++)v.push(x*f-s,-w,0),g.push(0,0,1),y.push(x/u),y.push(1-_/c);for(var S=0;S<c;S++)for(var A=0;A<u;A++){var C=A+h*(S+1),M=A+1+h*(S+1),E=A+1+h*S;m.push(A+h*S,C,E),m.push(C,M,E)}return n.setIndex(m),n.setAttribute("position",new Zn(v,3)),n.setAttribute("normal",new Zn(g,3)),n.setAttribute("uv",new Zn(y,2)),n}return w(t,null,[{key:"fromJSON",value:function(e){return new t(e.width,e.height,e.widthSegments,e.heightSegments)}}]),t}(),Yi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert\n#define Material_LightProbeLOD( material )\t(0)",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},qi={common:{diffuse:{value:new yt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new rt},uv2Transform:{value:new rt},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new it(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new yt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new yt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new rt}},sprite:{diffuse:{value:new yt(16777215)},opacity:{value:1},center:{value:new it(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new rt}}},Xi={basic:{uniforms:Ti([qi.common,qi.specularmap,qi.envmap,qi.aomap,qi.lightmap,qi.fog]),vertexShader:Yi.meshbasic_vert,fragmentShader:Yi.meshbasic_frag},lambert:{uniforms:Ti([qi.common,qi.specularmap,qi.envmap,qi.aomap,qi.lightmap,qi.emissivemap,qi.bumpmap,qi.normalmap,qi.displacementmap,qi.fog,qi.lights,{emissive:{value:new yt(0)}}]),vertexShader:Yi.meshlambert_vert,fragmentShader:Yi.meshlambert_frag},phong:{uniforms:Ti([qi.common,qi.specularmap,qi.envmap,qi.aomap,qi.lightmap,qi.emissivemap,qi.bumpmap,qi.normalmap,qi.displacementmap,qi.fog,qi.lights,{emissive:{value:new yt(0)},specular:{value:new yt(1118481)},shininess:{value:30}}]),vertexShader:Yi.meshphong_vert,fragmentShader:Yi.meshphong_frag},standard:{uniforms:Ti([qi.common,qi.envmap,qi.aomap,qi.lightmap,qi.emissivemap,qi.bumpmap,qi.normalmap,qi.displacementmap,qi.roughnessmap,qi.metalnessmap,qi.fog,qi.lights,{emissive:{value:new yt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Yi.meshphysical_vert,fragmentShader:Yi.meshphysical_frag},toon:{uniforms:Ti([qi.common,qi.aomap,qi.lightmap,qi.emissivemap,qi.bumpmap,qi.normalmap,qi.displacementmap,qi.gradientmap,qi.fog,qi.lights,{emissive:{value:new yt(0)}}]),vertexShader:Yi.meshtoon_vert,fragmentShader:Yi.meshtoon_frag},matcap:{uniforms:Ti([qi.common,qi.bumpmap,qi.normalmap,qi.displacementmap,qi.fog,{matcap:{value:null}}]),vertexShader:Yi.meshmatcap_vert,fragmentShader:Yi.meshmatcap_frag},points:{uniforms:Ti([qi.points,qi.fog]),vertexShader:Yi.points_vert,fragmentShader:Yi.points_frag},dashed:{uniforms:Ti([qi.common,qi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Yi.linedashed_vert,fragmentShader:Yi.linedashed_frag},depth:{uniforms:Ti([qi.common,qi.displacementmap]),vertexShader:Yi.depth_vert,fragmentShader:Yi.depth_frag},normal:{uniforms:Ti([qi.common,qi.bumpmap,qi.normalmap,qi.displacementmap,{opacity:{value:1}}]),vertexShader:Yi.meshnormal_vert,fragmentShader:Yi.meshnormal_frag},sprite:{uniforms:Ti([qi.sprite,qi.fog]),vertexShader:Yi.sprite_vert,fragmentShader:Yi.sprite_frag},background:{uniforms:{uvTransform:{value:new rt},t2D:{value:null}},vertexShader:Yi.background_vert,fragmentShader:Yi.background_frag},cube:{uniforms:Ti([qi.envmap,{opacity:{value:1}}]),vertexShader:Yi.cube_vert,fragmentShader:Yi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Yi.equirect_vert,fragmentShader:Yi.equirect_frag},distanceRGBA:{uniforms:Ti([qi.common,qi.displacementmap,{referencePosition:{value:new Dt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Yi.distanceRGBA_vert,fragmentShader:Yi.distanceRGBA_frag},shadow:{uniforms:Ti([qi.lights,qi.fog,{color:{value:new yt(0)},opacity:{value:1}}]),vertexShader:Yi.shadow_vert,fragmentShader:Yi.shadow_frag}};function Qi(e,t,n,i,r,o){var a,s,l=new yt(0),u=!0===r?0:1,c=null,h=0,d=null;function f(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,o)}return{getClearColor:function(){return l},setClearColor:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;l.set(e),f(l,u=t)},getClearAlpha:function(){return u},setClearAlpha:function(e){f(l,u=e)},render:function(n,r){var o=!1;(r=!0===r.isScene?r.background:null)&&r.isTexture&&(r=t.get(r));var p=(p=e.xr).getSession&&p.getSession();null===(r=p&&"additive"===p.environmentBlendMode?null:r)?f(l,u):r&&r.isColor&&(f(r,1),o=!0),(e.autoClear||o)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),r&&(r.isCubeTexture||306===r.mapping)?(void 0===s&&((s=new Ai(new Mi(1,1,1),new Pi({name:"BackgroundCubeMaterial",uniforms:Ei(Xi.cube.uniforms),vertexShader:Xi.cube.vertexShader,fragmentShader:Xi.cube.fragmentShader,side:M,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(s)),s.material.uniforms.envMap.value=r,s.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,c===r&&h===r.version&&d===e.toneMapping||(s.material.needsUpdate=!0,h=(c=r).version,d=e.toneMapping),s.layers.enableAll(),n.unshift(s,s.geometry,s.material,0,0,null)):r&&r.isTexture&&(void 0===a&&((a=new Ai(new Wi(2,2),new Pi({name:"BackgroundMaterial",uniforms:Ei(Xi.background.uniforms),vertexShader:Xi.background.vertexShader,fragmentShader:Xi.background.fragmentShader,side:C,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),!0===(a.material.uniforms.t2D.value=r).matrixAutoUpdate&&r.updateMatrix(),a.material.uniforms.uvTransform.value.copy(r.matrix),c===r&&h===r.version&&d===e.toneMapping||(a.material.needsUpdate=!0,h=(c=r).version,d=e.toneMapping),a.layers.enableAll(),n.unshift(a,a.geometry,a.material,0,0,null))}}}function Ki(e,t,n,i){var r=e.getParameter(34921),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),a=i.isWebGL2||null!==o,s={},l=f(null),u=l,c=!1;function h(t){if(i.isWebGL2)return e.bindVertexArray(t);o.bindVertexArrayOES(t)}function d(t){if(i.isWebGL2)return e.deleteVertexArray(t);o.deleteVertexArrayOES(t)}function f(e){for(var t=[],n=[],i=[],o=0;o<r;o++)t[o]=0,n[o]=0,i[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:i,object:e,attributes:{},index:null}}function p(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function m(e){v(e,0)}function v(n,r){var o=u.newAttributes,a=u.enabledAttributes,s=u.attributeDivisors;o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==r&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),s[n]=r)}function g(){for(var t=u.newAttributes,n=u.enabledAttributes,i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function y(t,n,r,o,a,s){!0!==i.isWebGL2||5124!==r&&5125!==r?e.vertexAttribPointer(t,n,r,o,a,s):e.vertexAttribIPointer(t,n,r,a,s)}function b(){_(),c=!0,u!==l&&h((u=l).object)}function _(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,d,b,_){var w=!1;if(a){var x=function(t,n,r){r=!0===r.wireframe;var a=s[t.id];return void 0===a&&(a={},s[t.id]=a),void 0===(t=a[n.id])&&(t={},a[n.id]=t),void 0===(a=t[r])&&(a=f(i.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),t[r]=a),a}(b,d,l);if(u!==x&&h((u=x).object),w=function(e,t,n,i){var r,o=u.attributes,a=t.attributes,s=0,l=n.getAttributes();for(r in l)if(0<=l[r].location){var c=o[r],h=a[r];if(void 0===h&&("instanceMatrix"===r&&e.instanceMatrix&&(h=e.instanceMatrix),"instanceColor"===r&&e.instanceColor&&(h=e.instanceColor)),void 0===c)return!0;if(c.attribute!==h)return!0;if(h&&c.data!==h.data)return!0;s++}return u.attributesNum!==s||u.index!==i}(r,b,d,_)){var S,A,C,M=r,E=(x=d,_),T={},D=b.attributes,P=0,k=x.getAttributes();for(S in k)0<=k[S].location&&(void 0===(A=D[S])&&("instanceMatrix"===S&&M.instanceMatrix&&(A=M.instanceMatrix),"instanceColor"===S&&M.instanceColor&&(A=M.instanceColor)),((C={}).attribute=A)&&A.data&&(C.data=A.data),T[S]=C,P++);u.attributes=T,u.attributesNum=P,u.index=E}}else x=!0===l.wireframe,u.geometry===b.id&&u.program===d.id&&u.wireframe===x||(u.geometry=b.id,u.program=d.id,u.wireframe=x,w=!0);null!==_&&n.update(_,34963),(w||c)&&(c=!1,function(r,o,a,s){if(!1!==i.isWebGL2||!r.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==t.get("ANGLE_instanced_arrays")){p();var l,u=s.attributes,c=a.getAttributes(),h=o.defaultAttributeValues;for(l in c){var d=c[l];if(0<=d.location){var f=u[l];if(void 0===f&&("instanceMatrix"===l&&r.instanceMatrix&&(f=r.instanceMatrix),"instanceColor"===l&&r.instanceColor&&(f=r.instanceColor)),void 0!==f){var b=f.normalized,_=f.itemSize,w=n.get(f);if(void 0!==w){var x=w.buffer,S=w.type,A=w.bytesPerElement;if(f.isInterleavedBufferAttribute){var C=f.data,M=C.stride,E=f.offset;if(C.isInstancedInterleavedBuffer){for(var T=0;T<d.locationSize;T++)v(d.location+T,C.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=C.meshPerAttribute*C.count)}else for(var D=0;D<d.locationSize;D++)m(d.location+D);e.bindBuffer(34962,x);for(var P=0;P<d.locationSize;P++)y(d.location+P,_/d.locationSize,S,b,M*A,(E+_/d.locationSize*P)*A)}else{if(f.isInstancedBufferAttribute){for(var k=0;k<d.locationSize;k++)v(d.location+k,f.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=f.meshPerAttribute*f.count)}else for(var O=0;O<d.locationSize;O++)m(d.location+O);e.bindBuffer(34962,x);for(var R=0;R<d.locationSize;R++)y(d.location+R,_/d.locationSize,S,b,_*A,_/d.locationSize*R*A)}}}else if(void 0!==h){var L=h[l];if(void 0!==L)switch(L.length){case 2:e.vertexAttrib2fv(d.location,L);break;case 3:e.vertexAttrib3fv(d.location,L);break;case 4:e.vertexAttrib4fv(d.location,L);break;default:e.vertexAttrib1fv(d.location,L)}}}}g()}}(r,l,d,b),null!==_&&e.bindBuffer(34963,n.get(_).buffer))},reset:b,resetDefaultState:_,dispose:function(){for(var e in b(),s){var t,n=s[e];for(t in n){var i,r=n[t];for(i in r)d(r[i].object),delete r[i];delete n[t]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t,n=s[e.id];for(t in n){var i,r=n[t];for(i in r)d(r[i].object),delete r[i];delete n[t]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s)if(void 0!==(t=s[t])[e.id]){var n,i=t[e.id];for(n in i)d(i[n].object),delete i[n];delete t[e.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:g}}function Ji(e,t,n,i){var r,o=i.isWebGL2;this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=function(i,a,s){if(0!==s){var l,u;if(o)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return;l[u](r,i,a,s),n.update(a,r,s)}}}function Zi(e,t,n){var i;function r(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(35633,36338).precision&&0<e.getShaderPrecisionFormat(35632,36338).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(35633,36337).precision&&0<e.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==n.precision?n.precision:"highp",s=((s=r(a))!==a&&(a=s),o||t.has("WEBGL_draw_buffers")),l=(n=!0===n.logarithmicDepthBuffer,e.getParameter(34930)),u=e.getParameter(35660),c=e.getParameter(3379),h=e.getParameter(34076),d=e.getParameter(34921),f=e.getParameter(36347),p=e.getParameter(36348),m=e.getParameter(36349),v=0<u,g=o||t.has("OES_texture_float");return{isWebGL2:o,drawBuffers:s,getMaxAnisotropy:function(){var n;return i=void 0===i?!0===t.has("EXT_texture_filter_anisotropic")?(n=t.get("EXT_texture_filter_anisotropic"),e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)):0:i},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:n,maxTextures:l,maxVertexTextures:u,maxTextureSize:c,maxCubemapSize:h,maxAttributes:d,maxVertexUniforms:f,maxVaryings:p,maxFragmentUniforms:m,vertexTextures:v,floatFragmentTextures:g,floatVertexTextures:v&&g,maxSamples:o?e.getParameter(36183):0}}function $i(e){var t=this,n=null,i=0,r=!1,o=!1,a=new Ni,s=new rt,l={value:null,needsUpdate:!1};function u(){l.value!==n&&(l.value=n,l.needsUpdate=0<i),t.numPlanes=i,t.numIntersection=0}function c(e,n,i,r){var o=null!==e?e.length:0,u=null;if(0!==o){if(u=l.value,!0!==r||null===u){r=i+4*o;var c=n.matrixWorldInverse;s.getNormalMatrix(c),(null===u||u.length<r)&&(u=new Float32Array(r));for(var h=0,d=i;h!==o;++h,d+=4)a.copy(e[h]).applyMatrix4(c,s),a.normal.toArray(u,d),u[d+3]=a.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,o){var a=0!==e.length||t||0!==i||r;return r=t,n=c(e,o,0),i=e.length,a},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1,u()},this.setState=function(t,a,s){var h=t.clippingPlanes,d=t.clipIntersection,f=t.clipShadows;t=e.get(t);if(!r||null===h||0===h.length||o&&!f)o?c(null):u();else{var p=4*(f=o?0:i),m=t.clippingState||null;l.value=m;m=c(h,a,p,s);for(var v=0;v!==p;++v)m[v]=n[v];t.clippingState=m,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=f}}}function er(e){var t=new WeakMap;function n(e,t){return 303===t?e.mapping=N:304===t&&(e.mapping=302),e}function i(e){var n=((e=e.target).removeEventListener("dispose",i),t.get(e));void 0!==n&&(t.delete(e),n.dispose())}return{get:function(r){if(r&&r.isTexture&&!1===r.isRenderTargetTexture){var o=r.mapping;if(303===o||304===o)return t.has(r)?n(t.get(r).texture,r.mapping):(o=r.image)&&0<o.height?((o=new Bi(o.height/2)).fromEquirectangularTexture(e,r),t.set(r,o),r.addEventListener("dispose",i),n(o.texture,r.mapping)):null}return r},dispose:function(){t=new WeakMap}}}Xi.physical={uniforms:Ti([Xi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new it(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new yt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new it},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new yt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new yt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Yi.meshphysical_vert,fragmentShader:Yi.meshphysical_frag};var tr=function(){h(t,ki);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:.1,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:2e3;return b(this,t),(n=e.call(this)).isOrthographicCamera=!0,n.type="OrthographicCamera",n.zoom=1,n.view=null,n.left=i,n.right=r,n.top=o,n.bottom=a,n.near=s,n.far=l,n.updateProjectionMatrix(),n}return w(t,[{key:"copy",value:function(e,n){return c(v(t.prototype),"copy",this).call(this,e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e,t=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(r=(this.right+this.left)/2)-t,r=r+t,o=(t=(o=(this.top+this.bottom)/2)+n,o-n);null!==this.view&&this.view.enabled&&(n=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom,r=(i+=n*this.view.offsetX)+n*this.view.width,o=(t-=e*this.view.offsetY)-e*this.view.height),this.projectionMatrix.makeOrthographic(i,r,t,o,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){return(e=c(v(t.prototype),"toJSON",this).call(this,e)).object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}]),t}(),nr=[.125,.215,.35,.446,.526,.582],ir=new tr,rr=new yt,or=null,ar=(n=1/(t=(1+Math.sqrt(5))/2),[new Dt(1,1,1),new Dt(-1,1,1),new Dt(1,1,-1),new Dt(-1,1,-1),new Dt(0,t,n),new Dt(0,t,-n),new Dt(n,0,t),new Dt(-n,0,t),new Dt(t,n,0),new Dt(-t,n,0)]),sr=function(){function e(t){b(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return w(e,[{key:"fromScene",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.1,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:100,r=(or=this._renderer.getRenderTarget(),this._setSize(256),this._allocateTargets());return r.depthBuffer=!0,this._sceneToCubeUV(e,n,i,r),0<t&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}},{key:"fromEquirectangular",value:function(e){return this._fromTexture(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)}},{key:"fromCubemap",value:function(e){return this._fromTexture(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=hr(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=cr(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(or),e.scissorTest=!1,ur(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){return e.mapping===N||302===e.mapping?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),or=this._renderer.getRenderTarget(),t=t||this._allocateTargets(),this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}},{key:"_allocateTargets",value:function(){var e,t,n=3*Math.max(this._cubeSize,112),i=4*this._cubeSize,r={magFilter:Y,minFilter:Y,generateMipmaps:!1,type:Z,format:ee,encoding:Be,depthBuffer:!1},o=lr(n,i,r);return null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.width===n||(null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=lr(n,i,r),e=function(e){for(var t=[],n=[],i=[],r=e,o=e-4+1+nr.length,a=0;a<o;a++){for(var s=Math.pow(2,r),l=(n.push(s),1/s),u=[s=-(l=(e-4<a?l=nr[a-e+4-1]:0===a&&(l=0),i.push(l),1/(s-2))),s,l=1+l,s,l,l,s,s,l,l,s,l],c=new Float32Array(108),h=new Float32Array(72),d=new Float32Array(36),f=0;f<6;f++){var p=[p=f%3*2/3-1,m=2<f?0:-1,0,p+2/3,m,0,p+2/3,1+m,0,p,m,0,p+2/3,1+m,0,p,1+m,0],m=(c.set(p,18*f),h.set(u,12*f),[f,f,f,f,f,f]);d.set(m,6*f)}(s=new ai).setAttribute("position",new Qn(c,3)),s.setAttribute("uv",new Qn(h,2)),s.setAttribute("faceIndex",new Qn(d,1)),t.push(s),4<r&&r--}return{lodPlanes:t,sizeLods:n,sigmas:i}}(r=this._lodMax),this._sizeLods=e.sizeLods,this._lodPlanes=e.lodPlanes,this._sigmas=e.sigmas,this._blurMaterial=(e=r,r=n,n=i,i=new Float32Array(20),t=new Dt(0,1,0),new Pi({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/r,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:T,depthTest:!1,depthWrite:!1}))),o}},{key:"_compileMaterial",value:function(e){e=new Ai(this._lodPlanes[0],e),this._renderer.compile(e,ir)}},{key:"_sceneToCubeUV",value:function(e,t,n,i){var r=new Oi(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=(t=s.autoClear,n=s.toneMapping,s.getClearColor(rr),s.toneMapping=0,s.autoClear=!1,new Yn({name:"PMREM.Background",side:M,depthWrite:!1,depthTest:!1})),u=new Ai(new Mi,l),c=!1,h=e.background;h?h.isColor&&(l.color.copy(h),c=!(e.background=null)):(l.color.copy(rr),c=!0);for(var d=0;d<6;d++){var f=d%3,p=(0==f?(r.up.set(0,o[d],0),r.lookAt(a[d],0,0)):1==f?(r.up.set(0,0,o[d]),r.lookAt(0,a[d],0)):(r.up.set(0,o[d],0),r.lookAt(0,0,a[d])),this._cubeSize);ur(i,f*p,2<d?p:0,p,p),s.setRenderTarget(i),c&&s.render(u,r),s.render(e,r)}u.geometry.dispose(),u.material.dispose(),s.toneMapping=n,s.autoClear=t,e.background=h}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,i=((i=e.mapping===N||302===e.mapping)?(null===this._cubemapMaterial&&(this._cubemapMaterial=hr()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=cr()),i?this._cubemapMaterial:this._equirectMaterial),r=new Ai(this._lodPlanes[0],i);ur(t,0,0,3*(i=(i.uniforms.envMap.value=e,this._cubeSize)),2*i),n.setRenderTarget(t),n.render(r,ir)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var i=1;i<this._lodPlanes.length;i++){var r=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]);this._blur(e,i-1,i,r,ar[(i-1)%ar.length])}t.autoClear=n}},{key:"_blur",value:function(e,t,n,i,r){var o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",r),this._halfBlur(o,e,n,n,i,"longitudinal",r)}},{key:"_halfBlur",value:function(e,t,n,i,r,o,a){for(var s=this._renderer,l=this._blurMaterial,u=new Ai(this._lodPlanes[i],l),c=(l=l.uniforms,this._sizeLods[n]-1),h=r/(c=isFinite(r)?Math.PI/(2*c):2*Math.PI/39),d=isFinite(r)?1+Math.floor(3*h):20,f=[],p=0,m=0;m<20;++m){var v=m/h;v=Math.exp(-v*v/2);f.push(v),0===m?p+=v:m<d&&(p+=2*v)}for(var g=0;g<f.length;g++)f[g]=f[g]/p;l.envMap.value=e.texture,l.samples.value=d,l.weights.value=f,l.latitudinal.value="latitudinal"===o,a&&(l.poleAxis.value=a),r=this._lodMax,l.dTheta.value=c,l.mipInt.value=r-n,ur(t,3*(e=this._sizeLods[i])*(r-4<i?i-r+4:0),4*(this._cubeSize-e),3*e,2*e),s.setRenderTarget(t),s.render(u,ir)}}]),e}();function lr(e,t,n){return(e=new Ct(e,t,n)).texture.mapping=306,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function ur(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function cr(){return new Pi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:T,depthTest:!1,depthWrite:!1})}function hr(){return new Pi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:T,depthTest:!1,depthWrite:!1})}function dr(e){var t=new WeakMap,n=null;function i(e){var n=((e=e.target).removeEventListener("dispose",i),t.get(e));void 0!==n&&(t.delete(e),n.dispose())}return{get:function(r){if(r&&r.isTexture){var o,a=303===(s=r.mapping)||304===s,s=s===N||302===s;if(a||s)return r.isRenderTargetTexture&&!0===r.needsPMREMUpdate?(r.needsPMREMUpdate=!1,o=t.get(r),null===n&&(n=new sr(e)),o=a?n.fromEquirectangular(r,o):n.fromCubemap(r,o),t.set(r,o),o.texture):t.has(r)?t.get(r).texture:(o=r.image,a&&o&&0<o.height||s&&o&&function(e){for(var t=0,n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(o)?(null===n&&(n=new sr(e)),s=a?n.fromEquirectangular(r):n.fromCubemap(r),t.set(r,s),r.addEventListener("dispose",i),s.texture):null)}return r},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function fr(e){var t={};function n(n){if(void 0!==t[n])return t[n];var i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){return e=n(e)}}}function pr(e,t,n,i){var r={},o=new WeakMap;function a(e){var s,l=e.target;for(s in null!==l.index&&t.remove(l.index),l.attributes)t.remove(l.attributes[s]);l.removeEventListener("dispose",a),delete r[l.id],(e=o.get(l))&&(t.remove(e),o.delete(l)),i.releaseStatesOfGeometry(l),!0===l.isInstancedBufferGeometry&&delete l._maxInstanceCount,n.memory.geometries--}return{get:function(e,t){return!0!==r[t.id]&&(t.addEventListener("dispose",a),r[t.id]=!0,n.memory.geometries++),t},update:function(e){var n,i=e.attributes;for(n in i)t.update(i[n],34962);var r,o=e.morphAttributes;for(r in o)for(var a=o[r],s=0,l=a.length;s<l;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var n,i=o.get(e);return(!i||null!==(n=e.index)&&i.version<n.version)&&function(e){var n=[],i=e.index,r=e.attributes.position,a=0;if(null!==i)for(var s=i.array,l=(a=i.version,0),u=s.length;l<u;l+=3){var c=s[l+0],h=s[l+1],d=s[l+2];n.push(c,h,h,d,d,c)}else{i=r.array,a=r.version;for(var f=0,p=i.length/3-1;f<p;f+=3){var m=f+0,v=f+1,g=f+2;n.push(m,v,v,g,g,m)}}(r=new(ot(n)?Jn:Kn)(n,1)).version=a,(i=o.get(e))&&t.remove(i),o.set(e,r)}(e),o.get(e)}}}function mr(e,t,n,i){var r,o,a,s=i.isWebGL2;this.setMode=function(e){r=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,i){e.drawElements(r,i,o,t*a),n.update(i,r,1)},this.renderInstances=function(i,l,u){if(0!==u){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return;c[h](r,l,o,i*a,u),n.update(l,r,u)}}}function vr(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,i){switch(t.calls++,n){case 4:t.triangles+=i*(e/3);break;case 1:t.lines+=i*(e/2);break;case 3:t.lines+=i*(e-1);break;case 2:t.lines+=i*e;break;case 0:t.points+=i*e}}}}function gr(e,t){return e[0]-t[0]}function yr(e,t){return Math.abs(t[1])-Math.abs(e[1])}function br(e,t,n){for(var i={},r=new Float32Array(8),o=new WeakMap,a=new At,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c,h){var d=l.morphTargetInfluences;if(!0===t.isWebGL2){var f=void 0!==(l=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color)?l.length:0;if(void 0===(l=o.get(u))||l.count!==f){for(var p=function e(){C.dispose(),o.delete(u),u.removeEventListener("dispose",e)},m=(void 0!==l&&l.texture.dispose(),void 0!==u.morphAttributes.position),v=void 0!==u.morphAttributes.normal,g=void 0!==u.morphAttributes.color,y=u.morphAttributes.position||[],b=u.morphAttributes.normal||[],_=u.morphAttributes.color||[],w=1==g?3:1==v?2:1==m?1:0,x=u.attributes.position.count*w,S=1,A=(x>t.maxTextureSize&&(S=Math.ceil(x/t.maxTextureSize),x=t.maxTextureSize),new Float32Array(x*S*4*f)),C=new Mt(A,x,S,f),M=(C.type=J,C.needsUpdate=!0,4*w),E=0;E<f;E++)for(var T=y[E],D=b[E],P=_[E],k=x*S*4*E,O=0;O<T.count;O++){var R=O*M;1==m&&(a.fromBufferAttribute(T,O),A[k+R]=a.x,A[k+R+1]=a.y,A[k+R+2]=a.z,A[k+R+3]=0),1==v&&(a.fromBufferAttribute(D,O),A[k+R+4]=a.x,A[k+R+5]=a.y,A[k+R+6]=a.z,A[k+R+7]=0),1==g&&(a.fromBufferAttribute(P,O),A[k+R+8]=a.x,A[k+R+9]=a.y,A[k+R+10]=a.z,A[k+R+11]=4===P.itemSize?a.w:1)}l={count:f,texture:C,size:new it(x,S)},o.set(u,l),u.addEventListener("dispose",p)}for(var L=0,B=0;B<d.length;B++)L+=d[B];w=u.morphTargetsRelative?1:1-L,h.getUniforms().setValue(e,"morphTargetBaseInfluence",w),h.getUniforms().setValue(e,"morphTargetInfluences",d),h.getUniforms().setValue(e,"morphTargetsTexture",l.texture,n),h.getUniforms().setValue(e,"morphTargetsTextureSize",l.size)}else{var I=void 0===d?0:d.length;if(void 0===(F=i[u.id])||F.length!==I){for(var F=[],z=0;z<I;z++)F[z]=[z,0];i[u.id]=F}for(var N=0;N<I;N++){var U=F[N];U[0]=N,U[1]=d[N]}F.sort(yr);for(var j=0;j<8;j++)j<I&&F[j][1]?(s[j][0]=F[j][0],s[j][1]=F[j][1]):(s[j][0]=Number.MAX_SAFE_INTEGER,s[j][1]=0);s.sort(gr);for(var H=u.morphAttributes.position,G=u.morphAttributes.normal,V=0,W=0;W<8;W++){var Y=(q=s[W])[0],q=q[1];Y!==Number.MAX_SAFE_INTEGER&&q?(H&&u.getAttribute("morphTarget"+W)!==H[Y]&&u.setAttribute("morphTarget"+W,H[Y]),G&&u.getAttribute("morphNormal"+W)!==G[Y]&&u.setAttribute("morphNormal"+W,G[Y]),V+=r[W]=q):(H&&!0===u.hasAttribute("morphTarget"+W)&&u.deleteAttribute("morphTarget"+W),G&&!0===u.hasAttribute("morphNormal"+W)&&u.deleteAttribute("morphNormal"+W),r[W]=0)}p=u.morphTargetsRelative?1:1-V,h.getUniforms().setValue(e,"morphTargetBaseInfluence",p),h.getUniforms().setValue(e,"morphTargetInfluences",r)}}}}function _r(e,t,n,i){var r=new WeakMap;function o(e){(e=e.target).removeEventListener("dispose",o),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(e){var a=i.render.frame,s=e.geometry;s=t.get(e,s);return r.get(s)!==a&&(t.update(s),r.set(s,a)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",o)&&e.addEventListener("dispose",o),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),s},dispose:function(){r=new WeakMap}}}var wr=new St,xr=new Mt,Sr=new Et,Ar=new Li,Cr=[],Mr=[],Er=new Float32Array(16),Tr=new Float32Array(9),Dr=new Float32Array(4);function Pr(e,t,n){var i=e[0];if(i<=0||0<i)return e;var r=t*n,o=Cr[r];if(void 0===o&&(o=new Float32Array(r),Cr[r]=o),0!==t){i.toArray(o,0);for(var a=1,s=0;a!==t;++a)e[a].toArray(o,s+=n)}return o}function kr(e,t){if(e.length===t.length){for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return;return 1}}function Or(e,t){for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}function Rr(e,t){var n=Mr[t];void 0===n&&(n=new Int32Array(t),Mr[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function Lr(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Br(e,t){var n=this.cache;void 0!==t.x?n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y):kr(n,t)||(e.uniform2fv(this.addr,t),Or(n,t))}function Ir(e,t){var n=this.cache;void 0!==t.x?n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z):void 0!==t.r?n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b):kr(n,t)||(e.uniform3fv(this.addr,t),Or(n,t))}function Fr(e,t){var n=this.cache;void 0!==t.x?n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w):kr(n,t)||(e.uniform4fv(this.addr,t),Or(n,t))}function zr(e,t){var n=this.cache,i=t.elements;void 0===i?kr(n,t)||(e.uniformMatrix2fv(this.addr,!1,t),Or(n,t)):kr(n,i)||(Dr.set(i),e.uniformMatrix2fv(this.addr,!1,Dr),Or(n,i))}function Nr(e,t){var n=this.cache,i=t.elements;void 0===i?kr(n,t)||(e.uniformMatrix3fv(this.addr,!1,t),Or(n,t)):kr(n,i)||(Tr.set(i),e.uniformMatrix3fv(this.addr,!1,Tr),Or(n,i))}function Ur(e,t){var n=this.cache,i=t.elements;void 0===i?kr(n,t)||(e.uniformMatrix4fv(this.addr,!1,t),Or(n,t)):kr(n,i)||(Er.set(i),e.uniformMatrix4fv(this.addr,!1,Er),Or(n,i))}function jr(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Hr(e,t){var n=this.cache;kr(n,t)||(e.uniform2iv(this.addr,t),Or(n,t))}function Gr(e,t){var n=this.cache;kr(n,t)||(e.uniform3iv(this.addr,t),Or(n,t))}function Vr(e,t){var n=this.cache;kr(n,t)||(e.uniform4iv(this.addr,t),Or(n,t))}function Wr(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Yr(e,t){var n=this.cache;kr(n,t)||(e.uniform2uiv(this.addr,t),Or(n,t))}function qr(e,t){var n=this.cache;kr(n,t)||(e.uniform3uiv(this.addr,t),Or(n,t))}function Xr(e,t){var n=this.cache;kr(n,t)||(e.uniform4uiv(this.addr,t),Or(n,t))}function Qr(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(t||wr,r)}function Kr(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||Sr,r)}function Jr(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||Ar,r)}function Zr(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||xr,r)}function $r(e,t){e.uniform1fv(this.addr,t)}function eo(e,t){t=Pr(t,this.size,2),e.uniform2fv(this.addr,t)}function to(e,t){t=Pr(t,this.size,3),e.uniform3fv(this.addr,t)}function no(e,t){t=Pr(t,this.size,4),e.uniform4fv(this.addr,t)}function io(e,t){t=Pr(t,this.size,4),e.uniformMatrix2fv(this.addr,!1,t)}function ro(e,t){t=Pr(t,this.size,9),e.uniformMatrix3fv(this.addr,!1,t)}function oo(e,t){t=Pr(t,this.size,16),e.uniformMatrix4fv(this.addr,!1,t)}function ao(e,t){e.uniform1iv(this.addr,t)}function so(e,t){e.uniform2iv(this.addr,t)}function lo(e,t){e.uniform3iv(this.addr,t)}function uo(e,t){e.uniform4iv(this.addr,t)}function co(e,t){e.uniform1uiv(this.addr,t)}function ho(e,t){e.uniform2uiv(this.addr,t)}function fo(e,t){e.uniform3uiv(this.addr,t)}function po(e,t){e.uniform4uiv(this.addr,t)}function mo(e,t,n){var i=t.length,r=Rr(n,i);e.uniform1iv(this.addr,r);for(var o=0;o!==i;++o)n.setTexture2D(t[o]||wr,r[o])}function vo(e,t,n){var i=t.length,r=Rr(n,i);e.uniform1iv(this.addr,r);for(var o=0;o!==i;++o)n.setTexture3D(t[o]||Sr,r[o])}function go(e,t,n){var i=t.length,r=Rr(n,i);e.uniform1iv(this.addr,r);for(var o=0;o!==i;++o)n.setTextureCube(t[o]||Ar,r[o])}function yo(e,t,n){var i=t.length,r=Rr(n,i);e.uniform1iv(this.addr,r);for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||xr,r[o])}var bo=w((function e(t,n,i){b(this,e),this.id=t,this.addr=i,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Lr;case 35664:return Br;case 35665:return Ir;case 35666:return Fr;case 35674:return zr;case 35675:return Nr;case 35676:return Ur;case 5124:case 35670:return jr;case 35667:case 35671:return Hr;case 35668:case 35672:return Gr;case 35669:case 35673:return Vr;case 5125:return Wr;case 36294:return Yr;case 36295:return qr;case 36296:return Xr;case 35678:case 36198:case 36298:case 36306:case 35682:return Qr;case 35679:case 36299:case 36307:return Kr;case 35680:case 36300:case 36308:case 36293:return Jr;case 36289:case 36303:case 36311:case 36292:return Zr}}(n.type)})),_o=w((function e(t,n,i){b(this,e),this.id=t,this.addr=i,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return $r;case 35664:return eo;case 35665:return to;case 35666:return no;case 35674:return io;case 35675:return ro;case 35676:return oo;case 5124:case 35670:return ao;case 35667:case 35671:return so;case 35668:case 35672:return lo;case 35669:case 35673:return uo;case 5125:return co;case 36294:return ho;case 36295:return fo;case 36296:return po;case 35678:case 36198:case 36298:case 36306:case 35682:return mo;case 35679:case 36299:case 36307:return vo;case 35680:case 36300:case 36308:case 36293:return go;case 36289:case 36303:case 36311:case 36292:return yo}}(n.type)})),wo=function(){function e(t){b(this,e),this.id=t,this.seq=[],this.map={}}return w(e,[{key:"setValue",value:function(e,t,n){for(var i=this.seq,r=0,o=i.length;r!==o;++r){var a=i[r];a.setValue(e,t[a.id],n)}}}]),e}(),xo=/(\w+)(\])?(\[|\.)?/g;function So(e,t){e.seq.push(t),e.map[t.id]=t}var Ao=function(){function e(t,n){b(this,e),this.seq=[],this.map={};for(var i=t.getProgramParameter(n,35718),r=0;r<i;++r){var o=t.getActiveUniform(n,r),a=(p=h=p=f=d=h=l=a=void 0,o),s=t.getUniformLocation(n,o.name),l=this,u=a.name,c=u.length;for(xo.lastIndex=0;;){var h=xo.exec(u),d=xo.lastIndex,f=h[1],p="]"===h[2];if(p&&(f|=0),void 0===(h=h[3])||"["===h&&d+2===c){So(l,new(void 0===h?bo:_o)(f,a,s));break}void 0===(p=l.map[f])&&So(l,p=new wo(f)),l=p}}}return w(e,[{key:"setValue",value:function(e,t,n,i){void 0!==(t=this.map[t])&&t.setValue(e,n,i)}},{key:"setOptional",value:function(e,t,n){void 0!==(t=t[n])&&this.setValue(e,n,t)}}],[{key:"upload",value:function(e,t,n,i){for(var r=0,o=t.length;r!==o;++r){var a=t[r],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,i)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var o=e[i];o.id in t&&n.push(o)}return n}}]),e}();function Co(e,t,n){return t=e.createShader(t),e.shaderSource(t,n),e.compileShader(t),t}var Mo=0;function Eo(e,t,n){var i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();return i&&""===r?"":(i=/ERROR: 0:(\d+)/.exec(r))?(i=parseInt(i[1]),n.toUpperCase()+"\n\n"+r+"\n\n"+function(e,t){for(var n=e.split("\n"),i=[],r=(e=Math.max(t-6,0),Math.min(t+6,n.length)),o=e;o<r;o++){var a=o+1;i.push("".concat(a===t?">":" "," ").concat(a,": ").concat(n[o]))}return i.join("\n")}(e.getShaderSource(t),i)):r}function To(e,t){return"vec4 "+e+"( vec4 value ) { return LinearTo"+(t=function(e){switch(e){case Be:return["Linear","( value )"];case Ie:return["sRGB","( value )"];default:return["Linear","( value )"]}}(t))[0]+t[1]+"; }"}function Do(e){return""!==e}function Po(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ko(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Oo=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ro(e){return e.replace(Oo,Lo)}function Lo(e,t){var n=Yi[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Ro(n)}var Bo=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Io(e){return e.replace(Bo,Fo)}function Fo(e,t,n,i){for(var r="",o=parseInt(t);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function zo(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function No(e,t,n,i){var r,o,a,s,l,u=e.getContext(),c=n.defines,h=n.vertexShader,d=n.fragmentShader,f=(p="SHADOWMAP_TYPE_BASIC",1===(f=n).shadowMapType?p="SHADOWMAP_TYPE_PCF":2===f.shadowMapType?p="SHADOWMAP_TYPE_PCF_SOFT":3===f.shadowMapType&&(p="SHADOWMAP_TYPE_VSM"),p),p=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case N:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),m=(v="ENVMAP_MODE_REFLECTION",v=(m=n).envMap&&302===m.envMapMode?"ENVMAP_MODE_REFRACTION":v),v=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),g=null===(g=(g=n).envMapCubeUVHeight)?null:(r=Math.log2(g)-2,g=1/g,{texelWidth:1/(3*Math.max(Math.pow(2,r),112)),texelHeight:g,maxMip:r}),y=n.isWebGL2?"":[(r=n).extensionDerivatives||r.envMapCubeUVHeight||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||"physical"===r.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap||r.transmission)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Do).join("\n"),b=(c=function(e){var t,n=[];for(t in e){var i=e[t];!1!==i&&n.push("#define "+t+" "+i)}return n.join("\n")}(c),u.createProgram()),_=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(0<(o=[c].filter(Do).join("\n")).length&&(o+="\n"),0<(a=[y,c].filter(Do).join("\n")).length&&(a+="\n")):(o=[zo(n),"#define SHADER_NAME "+n.shaderName,c,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",0<n.morphTargetsCount&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",0<n.morphTargetsCount&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",0<n.morphTargetsCount&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Do).join("\n"),a=[y,zo(n),"#define SHADER_NAME "+n.shaderName,c,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.envMap?"#define "+m:"",n.envMap?"#define "+v:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?Yi.tonemapping_pars_fragment:"",0!==n.toneMapping?function(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case z:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:n="Linear"}return"vec3 toneMapping( vec3 color ) { return "+n+"ToneMapping( color ); }"}(0,n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Yi.encodings_pars_fragment,To("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Do).join("\n")),h=ko(Po(Ro(h),n),n),d=ko(Po(Ro(d),n),n),h=Io(h),d=Io(d),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(_="#version 300 es\n",o=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+o,a=["#define varying in","300 es"===n.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===n.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a),y=_+o+h,c=_+a+d,p=Co(u,35633,y),m=Co(u,35632,c);return u.attachShader(b,p),u.attachShader(b,m),void 0!==n.index0AttributeName?u.bindAttribLocation(b,0,n.index0AttributeName):!0===n.morphTargets&&u.bindAttribLocation(b,0,"position"),u.linkProgram(b),e.debug.checkShaderErrors&&(v=u.getProgramInfoLog(b).trim(),g=u.getShaderInfoLog(p).trim(),f=u.getShaderInfoLog(m).trim(),!(_=h=!0)===u.getProgramParameter(b,35714)?(h=!1,Eo(u,p,"vertex"),Eo(u,m,"fragment")):""!==v||""!==g&&""!==f||(_=!1),_&&(this.diagnostics={runnable:h,programLog:v,vertexShader:{log:g,prefix:o},fragmentShader:{log:f,prefix:a}})),u.deleteShader(p),u.deleteShader(m),this.getUniforms=function(){return s=void 0===s?new Ao(u,b):s},this.getAttributes=function(){return l=void 0===l?function(e,t){for(var n={},i=e.getProgramParameter(t,35721),r=0;r<i;r++){var o=e.getActiveAttrib(t,r),a=o.name,s=1;35674===o.type&&(s=2),35675===o.type&&(s=3),35676===o.type&&(s=4),n[a]={type:o.type,location:e.getAttribLocation(t,a),locationSize:s}}return n}(u,b):l},this.destroy=function(){i.releaseStatesOfProgram(this),u.deleteProgram(b),this.program=void 0},this.name=n.shaderName,this.id=Mo++,this.cacheKey=t,this.usedTimes=1,this.program=b,this.vertexShader=p,this.fragmentShader=m,this}var Uo=0,jo=function(){function e(){b(this,e),this.shaderCache=new Map,this.materialCache=new Map}return w(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader;t=this._getShaderStage(t),n=this._getShaderStage(n);return!1===(e=this._getShaderCacheForMaterial(e)).has(t)&&(e.add(t),t.usedTimes++),!1===e.has(n)&&(e.add(n),n.usedTimes++),this}},{key:"remove",value:function(e){var t,n=s(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var i=t.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code)}}catch(e){n.e(e)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new Ho(e),t.set(e,n)),n}}]),e}(),Ho=w((function e(t){b(this,e),this.id=Uo++,this.code=t,this.usedTimes=0}));function Go(e,t,n,i,r,o,a){var s=new yn,l=new jo,u=[],c=r.isWebGL2,h=r.logarithmicDepthBuffer,d=r.vertexTextures,f=r.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(o,s,u,m,v){var g,y,b,_,w=m.fog,x=v.geometry,S=(m=o.isMeshStandardMaterial?m.environment:null,(m=(o.isMeshStandardMaterial?n:t).get(o.envMap||m))&&306===m.mapping?m.image.height:null),A=p[o.type];null!==o.precision&&(f=r.getMaxPrecision(o.precision),o.precision);var C=void 0!==(C=x.morphAttributes.position||x.morphAttributes.normal||x.morphAttributes.color)?C.length:0,T=0,D=(void 0!==x.morphAttributes.position&&(T=1),void 0!==x.morphAttributes.normal&&(T=2),void 0!==x.morphAttributes.color&&(T=3),A?(b=(_=Xi[A]).vertexShader,_=_.fragmentShader):(b=o.vertexShader,_=o.fragmentShader,l.update(o),g=l.getVertexShaderID(o),y=l.getFragmentShaderID(o)),e.getRenderTarget()),P=0<o.alphaTest,k=0<o.clearcoat,O=0<o.iridescence;return{isWebGL2:c,shaderID:A,shaderName:o.type,vertexShader:b,fragmentShader:_,defines:o.defines,customVertexShaderID:g,customFragmentShaderID:y,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:f,instancing:!0===v.isInstancedMesh,instancingColor:!0===v.isInstancedMesh&&null!==v.instanceColor,supportsVertexTextures:d,outputEncoding:null===D?e.outputEncoding:!0===D.isXRRenderTarget?D.texture.encoding:Be,map:!!o.map,matcap:!!o.matcap,envMap:!!m,envMapMode:m&&m.mapping,envMapCubeUVHeight:S,lightMap:!!o.lightMap,aoMap:!!o.aoMap,emissiveMap:!!o.emissiveMap,bumpMap:!!o.bumpMap,normalMap:!!o.normalMap,objectSpaceNormalMap:1===o.normalMapType,tangentSpaceNormalMap:o.normalMapType===Ne,decodeVideoTexture:!!o.map&&!0===o.map.isVideoTexture&&o.map.encoding===Ie,clearcoat:k,clearcoatMap:k&&!!o.clearcoatMap,clearcoatRoughnessMap:k&&!!o.clearcoatRoughnessMap,clearcoatNormalMap:k&&!!o.clearcoatNormalMap,iridescence:O,iridescenceMap:O&&!!o.iridescenceMap,iridescenceThicknessMap:O&&!!o.iridescenceThicknessMap,displacementMap:!!o.displacementMap,roughnessMap:!!o.roughnessMap,metalnessMap:!!o.metalnessMap,specularMap:!!o.specularMap,specularIntensityMap:!!o.specularIntensityMap,specularColorMap:!!o.specularColorMap,opaque:!1===o.transparent&&1===o.blending,alphaMap:!!o.alphaMap,alphaTest:P,gradientMap:!!o.gradientMap,sheen:0<o.sheen,sheenColorMap:!!o.sheenColorMap,sheenRoughnessMap:!!o.sheenRoughnessMap,transmission:0<o.transmission,transmissionMap:!!o.transmissionMap,thicknessMap:!!o.thicknessMap,combine:o.combine,vertexTangents:!!o.normalMap&&!!x.attributes.tangent,vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!x.attributes.color&&4===x.attributes.color.itemSize,vertexUvs:!!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatMap||o.clearcoatRoughnessMap||o.clearcoatNormalMap||o.iridescenceMap||o.iridescenceThicknessMap||o.displacementMap||o.transmissionMap||o.thicknessMap||o.specularIntensityMap||o.specularColorMap||o.sheenColorMap||o.sheenRoughnessMap),uvsVertexOnly:!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatNormalMap||o.iridescenceMap||o.iridescenceThicknessMap||0<o.transmission||o.transmissionMap||o.thicknessMap||o.specularIntensityMap||o.specularColorMap||0<o.sheen||o.sheenColorMap||o.sheenRoughnessMap||!o.displacementMap),fog:!!w,useFog:!0===o.fog,fogExp2:w&&w.isFogExp2,flatShading:!!o.flatShading,sizeAttenuation:o.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==x.morphAttributes.position,morphNormals:void 0!==x.morphAttributes.normal,morphColors:void 0!==x.morphAttributes.color,morphTargetsCount:C,morphTextureStride:T,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&0<u.length,shadowMapType:e.shadowMap.type,toneMapping:o.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:o.premultipliedAlpha,doubleSided:o.side===E,flipSided:o.side===M,useDepthPacking:!!o.depthPacking,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionDerivatives:o.extensions&&o.extensions.derivatives,extensionFragDepth:o.extensions&&o.extensions.fragDepth,extensionDrawBuffers:o.extensions&&o.extensions.drawBuffers,extensionShaderTextureLOD:o.extensions&&o.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||i.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(t){var n,i,r=[];if(t.shaderID?r.push(t.shaderID):(r.push(t.customVertexShaderID),r.push(t.customFragmentShaderID)),void 0!==t.defines)for(var o in t.defines)r.push(o),r.push(t.defines[o]);return!1===t.isRawShaderMaterial&&(i=t,(n=r).push(i.precision),n.push(i.outputEncoding),n.push(i.envMapMode),n.push(i.envMapCubeUVHeight),n.push(i.combine),n.push(i.vertexUvs),n.push(i.fogExp2),n.push(i.sizeAttenuation),n.push(i.morphTargetsCount),n.push(i.morphAttributeCount),n.push(i.numDirLights),n.push(i.numPointLights),n.push(i.numSpotLights),n.push(i.numSpotLightMaps),n.push(i.numHemiLights),n.push(i.numRectAreaLights),n.push(i.numDirLightShadows),n.push(i.numPointLightShadows),n.push(i.numSpotLightShadows),n.push(i.numSpotLightShadowsWithMaps),n.push(i.shadowMapType),n.push(i.toneMapping),n.push(i.numClippingPlanes),n.push(i.numClipIntersection),n.push(i.depthPacking),n=r,i=t,s.disableAll(),i.isWebGL2&&s.enable(0),i.supportsVertexTextures&&s.enable(1),i.instancing&&s.enable(2),i.instancingColor&&s.enable(3),i.map&&s.enable(4),i.matcap&&s.enable(5),i.envMap&&s.enable(6),i.lightMap&&s.enable(7),i.aoMap&&s.enable(8),i.emissiveMap&&s.enable(9),i.bumpMap&&s.enable(10),i.normalMap&&s.enable(11),i.objectSpaceNormalMap&&s.enable(12),i.tangentSpaceNormalMap&&s.enable(13),i.clearcoat&&s.enable(14),i.clearcoatMap&&s.enable(15),i.clearcoatRoughnessMap&&s.enable(16),i.clearcoatNormalMap&&s.enable(17),i.iridescence&&s.enable(18),i.iridescenceMap&&s.enable(19),i.iridescenceThicknessMap&&s.enable(20),i.displacementMap&&s.enable(21),i.specularMap&&s.enable(22),i.roughnessMap&&s.enable(23),i.metalnessMap&&s.enable(24),i.gradientMap&&s.enable(25),i.alphaMap&&s.enable(26),i.alphaTest&&s.enable(27),i.vertexColors&&s.enable(28),i.vertexAlphas&&s.enable(29),i.vertexUvs&&s.enable(30),i.vertexTangents&&s.enable(31),i.uvsVertexOnly&&s.enable(32),n.push(s.mask),s.disableAll(),i.fog&&s.enable(0),i.useFog&&s.enable(1),i.flatShading&&s.enable(2),i.logarithmicDepthBuffer&&s.enable(3),i.skinning&&s.enable(4),i.morphTargets&&s.enable(5),i.morphNormals&&s.enable(6),i.morphColors&&s.enable(7),i.premultipliedAlpha&&s.enable(8),i.shadowMapEnabled&&s.enable(9),i.physicallyCorrectLights&&s.enable(10),i.doubleSided&&s.enable(11),i.flipSided&&s.enable(12),i.useDepthPacking&&s.enable(13),i.dithering&&s.enable(14),i.specularIntensityMap&&s.enable(15),i.specularColorMap&&s.enable(16),i.transmission&&s.enable(17),i.transmissionMap&&s.enable(18),i.thicknessMap&&s.enable(19),i.sheen&&s.enable(20),i.sheenColorMap&&s.enable(21),i.sheenRoughnessMap&&s.enable(22),i.decodeVideoTexture&&s.enable(23),i.opaque&&s.enable(24),n.push(s.mask),r.push(e.outputEncoding)),r.push(t.customProgramCacheKey),r.join()},getUniforms:function(e){var t=p[e.type];return t?(t=Xi[t],Di.clone(t.uniforms)):e.uniforms},acquireProgram:function(t,n){for(var i,r=0,a=u.length;r<a;r++){var s=u[r];if(s.cacheKey===n){++(i=s).usedTimes;break}}return void 0===i&&(i=new No(e,n,t,o),u.push(i)),i},releaseProgram:function(e){var t;0==--e.usedTimes&&(t=u.indexOf(e),u[t]=u[u.length-1],u.pop(),e.destroy())},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function Vo(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&e.set(t,n={}),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function Wo(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Yo(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function qo(){var e=[],t=0,n=[],i=[],r=[];function o(n,i,r,o,a,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:i,material:r,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=r,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=a,l.group=s),t++,l}return{opaque:n,transmissive:i,transparent:r,init:function(){t=0,n.length=0,i.length=0,r.length=0},push:function(e,t,a,s,l,u){e=o(e,t,a,s,l,u),(0<a.transmission?i:!0===a.transparent?r:n).push(e)},unshift:function(e,t,a,s,l,u){e=o(e,t,a,s,l,u),(0<a.transmission?i:!0===a.transparent?r:n).unshift(e)},finish:function(){for(var n=t,i=e.length;n<i;n++){var r=e[n];if(null===r.id)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.group=null}},sort:function(e,t){1<n.length&&n.sort(e||Wo),1<i.length&&i.sort(t||Yo),1<r.length&&r.sort(t||Yo)}}}function Xo(){var e=new WeakMap;return{get:function(t,n){var i,r=e.get(t);return void 0===r?(i=new qo,e.set(t,[i])):n>=r.length?(i=new qo,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function Qo(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Dt,color:new yt};break;case"SpotLight":n={position:new Dt,direction:new Dt,color:new yt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Dt,color:new yt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Dt,skyColor:new yt,groundColor:new yt};break;case"RectAreaLight":n={color:new yt,position:new Dt,halfWidth:new Dt,halfHeight:new Dt}}return e[t.id]=n}}}var Ko=0;function Jo(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function Zo(e,t){for(var n,i=new Qo,r=(n={},{get:function(e){if(void 0!==n[e.id])return n[e.id];var t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t}}),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)o.probe.push(new Dt);var s=new Dt,l=new sn,u=new sn;return{setup:function(n,a){for(var s=0,l=0,u=0,c=0;c<9;c++)o.probe[c].set(0,0,0);for(var h=0,d=0,f=0,p=0,m=0,v=0,g=0,y=0,b=0,_=0,w=(n.sort(Jo),!0!==a?Math.PI:1),x=0,S=n.length;x<S;x++){var A,C,M,E,T=n[x],D=T.color,P=T.intensity,k=T.distance,O=T.shadow&&T.shadow.map?T.shadow.map.texture:null;if(T.isAmbientLight)s+=D.r*P*w,l+=D.g*P*w,u+=D.b*P*w;else if(T.isLightProbe)for(var R=0;R<9;R++)o.probe[R].addScaledVector(T.sh.coefficients[R],P);else T.isDirectionalLight?((M=i.get(T)).color.copy(T.color).multiplyScalar(T.intensity*w),T.castShadow&&(A=T.shadow,(C=r.get(T)).shadowBias=A.bias,C.shadowNormalBias=A.normalBias,C.shadowRadius=A.radius,C.shadowMapSize=A.mapSize,o.directionalShadow[h]=C,o.directionalShadowMap[h]=O,o.directionalShadowMatrix[h]=T.shadow.matrix,v++),o.directional[h]=M,h++):T.isSpotLight?((A=i.get(T)).position.setFromMatrixPosition(T.matrixWorld),A.color.copy(D).multiplyScalar(P*w),A.distance=k,A.coneCos=Math.cos(T.angle),A.penumbraCos=Math.cos(T.angle*(1-T.penumbra)),A.decay=T.decay,o.spot[f]=A,C=T.shadow,T.map&&(o.spotLightMap[b]=T.map,b++,C.updateMatrices(T),T.castShadow&&_++),o.spotLightMatrix[f]=C.matrix,T.castShadow&&((M=r.get(T)).shadowBias=C.bias,M.shadowNormalBias=C.normalBias,M.shadowRadius=C.radius,M.shadowMapSize=C.mapSize,o.spotShadow[f]=M,o.spotShadowMap[f]=O,y++),f++):T.isRectAreaLight?((k=i.get(T)).color.copy(D).multiplyScalar(P),k.halfWidth.set(.5*T.width,0,0),k.halfHeight.set(0,.5*T.height,0),o.rectArea[p]=k,p++):T.isPointLight?((D=i.get(T)).color.copy(T.color).multiplyScalar(T.intensity*w),D.distance=T.distance,D.decay=T.decay,T.castShadow&&(k=T.shadow,(E=r.get(T)).shadowBias=k.bias,E.shadowNormalBias=k.normalBias,E.shadowRadius=k.radius,E.shadowMapSize=k.mapSize,E.shadowCameraNear=k.camera.near,E.shadowCameraFar=k.camera.far,o.pointShadow[d]=E,o.pointShadowMap[d]=O,o.pointShadowMatrix[d]=T.shadow.matrix,g++),o.point[d]=D,d++):T.isHemisphereLight&&((k=i.get(T)).skyColor.copy(T.color).multiplyScalar(P*w),k.groundColor.copy(T.groundColor).multiplyScalar(P*w),o.hemi[m]=k,m++)}0<p&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(o.rectAreaLTC1=qi.LTC_FLOAT_1,o.rectAreaLTC2=qi.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")&&(o.rectAreaLTC1=qi.LTC_HALF_1,o.rectAreaLTC2=qi.LTC_HALF_2)),o.ambient[0]=s,o.ambient[1]=l,o.ambient[2]=u,(a=o.hash).directionalLength===h&&a.pointLength===d&&a.spotLength===f&&a.rectAreaLength===p&&a.hemiLength===m&&a.numDirectionalShadows===v&&a.numPointShadows===g&&a.numSpotShadows===y&&a.numSpotMaps===b||(o.directional.length=h,o.spot.length=f,o.rectArea.length=p,o.point.length=d,o.hemi.length=m,o.directionalShadow.length=v,o.directionalShadowMap.length=v,o.pointShadow.length=g,o.pointShadowMap.length=g,o.spotShadow.length=y,o.spotShadowMap.length=y,o.directionalShadowMatrix.length=v,o.pointShadowMatrix.length=g,o.spotLightMatrix.length=y+b-_,o.spotLightMap.length=b,o.numSpotLightShadowsWithMaps=_,a.directionalLength=h,a.pointLength=d,a.spotLength=f,a.rectAreaLength=p,a.hemiLength=m,a.numDirectionalShadows=v,a.numPointShadows=g,a.numSpotShadows=y,a.numSpotMaps=b,o.version=Ko++)},setupView:function(e,t){for(var n=0,i=0,r=0,a=0,c=0,h=t.matrixWorldInverse,d=0,f=e.length;d<f;d++){var p,m,v,g=e[d];g.isDirectionalLight?((p=o.directional[n]).direction.setFromMatrixPosition(g.matrixWorld),s.setFromMatrixPosition(g.target.matrixWorld),p.direction.sub(s),p.direction.transformDirection(h),n++):g.isSpotLight?((p=o.spot[r]).position.setFromMatrixPosition(g.matrixWorld),p.position.applyMatrix4(h),p.direction.setFromMatrixPosition(g.matrixWorld),s.setFromMatrixPosition(g.target.matrixWorld),p.direction.sub(s),p.direction.transformDirection(h),r++):g.isRectAreaLight?((m=o.rectArea[a]).position.setFromMatrixPosition(g.matrixWorld),m.position.applyMatrix4(h),u.identity(),l.copy(g.matrixWorld),l.premultiply(h),u.extractRotation(l),m.halfWidth.set(.5*g.width,0,0),m.halfHeight.set(0,.5*g.height,0),m.halfWidth.applyMatrix4(u),m.halfHeight.applyMatrix4(u),a++):g.isPointLight?((m=o.point[i]).position.setFromMatrixPosition(g.matrixWorld),m.position.applyMatrix4(h),i++):g.isHemisphereLight&&((v=o.hemi[c]).direction.setFromMatrixPosition(g.matrixWorld),v.direction.transformDirection(h),c++)}},state:o}}function $o(e,t){var n=new Zo(e,t),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(e){n.setup(i,e)},setupLightsView:function(e){n.setupView(i,e)},pushLight:function(e){i.push(e)},pushShadow:function(e){r.push(e)}}}function ea(e,t){var n=new WeakMap;return{get:function(i){var r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=n.get(i);return void 0===a?(r=new $o(e,t),n.set(i,[r])):o>=a.length?(r=new $o(e,t),a.push(r)):r=a[o],r},dispose:function(){n=new WeakMap}}}var ta=function(){h(t,Wn);var e=f(t);function t(n){var i;return b(this,t),(i=e.call(this)).isMeshDepthMaterial=!0,i.type="MeshDepthMaterial",i.depthPacking=Fe,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.setValues(n),i}return w(t,[{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),t}(),na=function(){h(t,Wn);var e=f(t);function t(n){var i;return b(this,t),(i=e.call(this)).isMeshDistanceMaterial=!0,i.type="MeshDistanceMaterial",i.referencePosition=new Dt,i.nearDistance=1,i.farDistance=1e3,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.setValues(n),i}return w(t,[{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),t}();function ia(e,t,n){var i=new Hi,r=new it,o=new it,a=new At,s=new ta({depthPacking:ze}),l=new na,u={},c=n.maxTextureSize,h={0:M,1:C,2:E},d=new Pi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new it},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=d.clone(),p=((n=(f.defines.HORIZONTAL_PASS=1,new ai)).setAttribute("position",new Qn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3)),new Ai(n,d)),m=this;function v(t,n,i,r,o,a){var c,d,f=null;f=void 0!==(t=!0===i.isPointLight?t.customDistanceMaterial:t.customDepthMaterial)?t:!0===i.isPointLight?l:s;return(e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&0<n.alphaTest)&&(t=f.uuid,c=n.uuid,void 0===(d=u[t])&&(u[t]=d={}),void 0===(t=d[c])&&(t=f.clone(),d[c]=t),f=t),f.visible=n.visible,f.wireframe=n.wireframe,f.side=3===a?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],f.alphaMap=n.alphaMap,f.alphaTest=n.alphaTest,f.clipShadows=n.clipShadows,f.clippingPlanes=n.clippingPlanes,f.clipIntersection=n.clipIntersection,f.displacementMap=n.displacementMap,f.displacementScale=n.displacementScale,f.displacementBias=n.displacementBias,f.wireframeLinewidth=n.wireframeLinewidth,f.linewidth=n.linewidth,!0===i.isPointLight&&!0===f.isMeshDistanceMaterial&&(f.referencePosition.setFromMatrixPosition(i.matrixWorld),f.nearDistance=r,f.farDistance=o),f}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(n,s,l){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==n.length){var u=e.getRenderTarget(),h=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),y=e.state;y.setBlending(T),y.buffers.color.setClear(1,1,1,1),y.buffers.depth.setTest(!0),y.setScissorTest(!1);for(var b=0,_=n.length;b<_;b++){var w=n[b],x=w.shadow;if(void 0!==x&&(!1!==x.autoUpdate||!1!==x.needsUpdate)){r.copy(x.mapSize);for(var S,A,C=x.getFrameExtents(),M=(r.multiply(C),o.copy(x.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(o.x=Math.floor(c/C.x),r.x=o.x*C.x,x.mapSize.x=o.x),r.y>c&&(o.y=Math.floor(c/C.y),r.y=o.y*C.y,x.mapSize.y=o.y)),null===x.map&&(C=3!==this.type?{minFilter:G,magFilter:G}:{},x.map=new Ct(r.x,r.y,C),x.map.texture.name=w.name+".shadowMap",x.camera.updateProjectionMatrix()),e.setRenderTarget(x.map),e.clear(),x.getViewportCount()),E=0;E<M;E++){var D=x.getViewport(E);a.set(o.x*D.x,o.y*D.y,o.x*D.z,o.y*D.w),y.viewport(a),x.updateMatrices(w,E),i=x.getFrustum(),function n(r,o,a,s,l){if(!1!==r.visible){var u=r.layers.test(o.layers);if(u&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&3===l)&&(!r.frustumCulled||i.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,r.matrixWorld);var c=t.update(r),h=r.material;if(Array.isArray(h))for(var d=c.groups,f=0,p=d.length;f<p;f++){var m=d[f],g=h[m.materialIndex];g&&g.visible&&(g=v(r,g,s,a.near,a.far,l),e.renderBufferDirect(a,null,c,g,r,m))}else h.visible&&(u=v(r,h,s,a.near,a.far,l),e.renderBufferDirect(a,null,c,u,r,null))}for(var y=r.children,b=0,_=y.length;b<_;b++)n(y[b],o,a,s,l)}}(s,l,x.camera,w,this.type)}!0!==x.isPointLightShadow&&3===this.type&&(C=void 0,C=x,S=l,A=t.update(p),d.defines.VSM_SAMPLES!==C.blurSamples&&(d.defines.VSM_SAMPLES=C.blurSamples,f.defines.VSM_SAMPLES=C.blurSamples,d.needsUpdate=!0,f.needsUpdate=!0),null===C.mapPass&&(C.mapPass=new Ct(r.x,r.y)),d.uniforms.shadow_pass.value=C.map.texture,d.uniforms.resolution.value=C.mapSize,d.uniforms.radius.value=C.radius,e.setRenderTarget(C.mapPass),e.clear(),e.renderBufferDirect(S,null,A,d,p,null),f.uniforms.shadow_pass.value=C.mapPass.texture,f.uniforms.resolution.value=C.mapSize,f.uniforms.radius.value=C.radius,e.setRenderTarget(C.map),e.clear(),e.renderBufferDirect(S,null,A,f,p,null)),x.needsUpdate=!1}}m.needsUpdate=!1,e.setRenderTarget(u,h,g)}}}function ra(e,t,n){var i=n.isWebGL2,r=new function(){var t=!1,n=new At,i=null,r=new At(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,o,a,s){!0===s&&(t*=a,i*=a,o*=a),n.set(t,i,o,a),!1===r.equals(n)&&(e.clearColor(t,i,o,a),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},o=new function(){var t=!1,n=null,i=null,r=null;return{setTest:function(e){(e?J:Z)(2929)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case P:e.depthFunc(512);break;case k:e.depthFunc(519);break;case O:e.depthFunc(513);break;case R:e.depthFunc(515);break;case L:e.depthFunc(514);break;case B:e.depthFunc(518);break;case I:e.depthFunc(516);break;case F:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,r=i=n=null}}},a=new function(){var t=!1,n=null,i=null,r=null,o=null,a=null,s=null,l=null,u=null;return{setTest:function(e){t||(e?J:Z)(2960)},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,a){i===t&&r===n&&o===a||(e.stencilFunc(t,n,a),i=t,r=n,o=a)},setOp:function(t,n,i){a===t&&s===n&&l===i||(e.stencilOp(t,n,i),a=t,s=n,l=i)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,u=l=s=a=o=r=i=n=null}}},s=new WeakMap,l=new WeakMap,u={},c={},h=new WeakMap,d=[],f=null,p=!1,m=null,v=null,y=null,b=null,_=null,w=null,x=null,S=!1,A=null,C=null,z=null,N=null,U=null,j=e.getParameter(35661),H=!1,G=0,V=(-1!==(Y=e.getParameter(7938)).indexOf("WebGL")?(G=parseFloat(/^WebGL (\d)/.exec(Y)[1]),H=1<=G):-1!==Y.indexOf("OpenGL ES")&&(G=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),H=2<=G),null),W={},Y=e.getParameter(3088),q=(G=e.getParameter(2978),(new At).fromArray(Y)),X=(new At).fromArray(G);function Q(t,n,i){var r=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<i;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,r);return o}var K={};function J(t){!0!==u[t]&&(e.enable(t),u[t]=!0)}function Z(t){!1!==u[t]&&(e.disable(t),u[t]=!1)}K[3553]=Q(3553,3553,1),K[34067]=Q(34067,34069,6),r.setClear(0,0,0,1),o.setClear(1),a.setClear(0),J(2929),o.setFunc(R),ne(!1),ie(1),J(2884),te(T),g(Y={},100,32774),g(Y,101,32778),g(Y,102,32779);var $=Y,ee=(i?($[103]=32775,$[104]=32776):null!==(G=t.get("EXT_blend_minmax"))&&($[103]=G.MIN_EXT,$[104]=G.MAX_EXT),g(Y={},200,0),g(Y,201,1),g(Y,202,768),g(Y,204,770),g(Y,210,776),g(Y,208,774),g(Y,206,772),g(Y,203,769),g(Y,205,771),g(Y,209,775),g(Y,207,773),Y);function te(t,n,i,r,o,a,s,l){if(t===T)!0===p&&(Z(3042),p=!1);else if(!1===p&&(J(3042),p=!0),5!==t){if(t!==m||l!==S){if(100===v&&100===_||(e.blendEquation(32774),_=v=100),l)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case D:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,769,0,1);break;case 4:e.blendFuncSeparate(0,768,0,770)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case D:e.blendFunc(770,1);break;case 3:e.blendFuncSeparate(0,769,0,1);break;case 4:e.blendFunc(0,768)}x=w=b=y=null,m=t,S=l}}else o=o||n,a=a||i,s=s||r,n===v&&o===_||(e.blendEquationSeparate($[n],$[o]),v=n,_=o),i===y&&r===b&&a===w&&s===x||(e.blendFuncSeparate(ee[i],ee[r],ee[a],ee[s]),y=i,b=r,w=a,x=s),m=t,S=null}function ne(t){A!==t&&(t?e.frontFace(2304):e.frontFace(2305),A=t)}function ie(t){0!==t?(J(2884),t!==C&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):Z(2884),C=t}function re(t,n,i){t?(J(32823),N===n&&U===i||(e.polygonOffset(n,i),N=n,U=i)):Z(32823)}function oe(t){V!==(t=void 0===t?33984+j-1:t)&&(e.activeTexture(t),V=t)}return{buffers:{color:r,depth:o,stencil:a},enable:J,disable:Z,bindFramebuffer:function(t,n){return c[t]!==n&&(e.bindFramebuffer(t,n),c[t]=n,i&&(36009===t&&(c[36160]=n),36160===t&&(c[36009]=n)),!0)},drawBuffers:function(i,r){var o=d,a=!1;if(i)if(void 0===(o=h.get(r))&&h.set(r,o=[]),i.isWebGLMultipleRenderTargets){if(r=i.texture,o.length!==r.length||36064!==o[0]){for(var s=0,l=r.length;s<l;s++)o[s]=36064+s;o.length=r.length,a=!0}}else 36064!==o[0]&&(o[0]=36064,a=!0);else 1029!==o[0]&&(o[0]=1029,a=!0);a&&(n.isWebGL2?e.drawBuffers(o):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))},useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:te,setMaterial:function(e,t){(e.side===E?Z:J)(2884);var n=e.side===M;ne(n=t?!n:n),1===e.blending&&!1===e.transparent?te(T):te(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),r.setMask(e.colorWrite),t=e.stencilWrite;a.setTest(t),t&&(a.setMask(e.stencilWriteMask),a.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),a.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),re(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),(!0===e.alphaToCoverage?J:Z)(32926)},setFlipSided:ne,setCullFace:ie,setLineWidth:function(t){t!==z&&(H&&e.lineWidth(t),z=t)},setPolygonOffset:re,setScissorTest:function(e){(e?J:Z)(3089)},activeTexture:oe,bindTexture:function(t,n){null===V&&oe();var i=W[V];void 0===i&&(W[V]=i={type:void 0,texture:void 0}),i.type===t&&i.texture===n||(e.bindTexture(t,n||K[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=W[V];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){}},updateUBOMapping:function(t,n){var i=l.get(n);void 0===i&&(i=new WeakMap,l.set(n,i)),void 0===i.get(t)&&(n=e.getUniformBlockIndex(n,t.name),i.set(t,n))},uniformBlockBinding:function(t,n){var i=l.get(n).get(t);s.get(t)!==i&&(e.uniformBlockBinding(n,i,t.__bindingPointIndex),s.set(t,i))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){}},scissor:function(t){!1===q.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),q.copy(t))},viewport:function(t){!1===X.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),X.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===i&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),u={},V=null,W={},c={},h=new WeakMap,S=p=!(d=[]),U=N=z=C=A=x=w=_=b=y=v=m=f=null,q.set(0,0,e.canvas.width,e.canvas.height),X.set(0,0,e.canvas.width,e.canvas.height),r.reset(),o.reset(),a.reset()}}}function oa(e,t,n,i,r,o,a){var s,l,u=r.isWebGL2,c=(r.maxTextures,r.maxCubemapSize),h=r.maxTextureSize,d=r.maxSamples,f=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap,v=new WeakMap,y=!1;try{y="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(s){}function b(e,t){return y?new OffscreenCanvas(e,t):at("canvas")}function _(e,t,n,i){var r=1;return((r=e.width>i||e.height>i?i/Math.max(e.width,e.height):r)<1||!0===t)&&("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap)?(t=(i=t?$e:Math.floor)(r*e.width),i=i(r*e.height),void 0===l&&(l=b(t,i)),(r=n?b(t,i):l).width=t,r.height=i,r.getContext("2d").drawImage(e,0,0,t,i),r):e}function w(e){return Je(e.width)&&Je(e.height)}function x(e,t){return e.generateMipmaps&&t&&e.minFilter!==G&&e.minFilter!==Y}function S(t){e.generateMipmap(t)}function A(n,i,r,o,a){return!1===u?i:null!==n&&void 0!==e[n]?e[n]:(6403===(n=i)&&(5126===r&&(n=33326),5131===r&&(n=33325),5121===r&&(n=33321)),33319===i&&(5126===r&&(n=33328),5131===r&&(n=33327),5121===r&&(n=33323)),6408===i&&(5126===r&&(n=34836),5131===r&&(n=34842),5121===r&&(n=o===Ie&&!1===(4<arguments.length&&void 0!==a&&a)?35907:32856),32819===r&&(n=32854),32820===r&&(n=32855)),33325!==n&&33326!==n&&33327!==n&&33328!==n&&34842!==n&&34836!==n||t.get("EXT_color_buffer_float"),n)}function C(e,t,n){return!0===x(e,n)||e.isFramebufferTexture&&e.minFilter!==G&&e.minFilter!==Y?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&0<e.mipmaps.length?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function M(e){return e===G||e===V||e===W?9728:9729}function E(e){var t,n,r,o;(e=e.target).removeEventListener("dispose",E),t=e,void 0!==(o=i.get(t)).__webglInit&&(n=t.source,(r=v.get(n))&&((o=r[o.__cacheKey]).usedTimes--,0===o.usedTimes&&D(t),0===Object.keys(r).length&&v.delete(n)),i.remove(t)),e.isVideoTexture&&m.delete(e)}function T(t){var n=((t=t.target).removeEventListener("dispose",T),t.texture),r=i.get(t),o=i.get(n);if(void 0!==o.__webglTexture&&(e.deleteTexture(o.__webglTexture),a.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(r.__webglFramebuffer[s]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[s]);else{if(e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&e.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer)for(var l=0;l<r.__webglColorRenderbuffer.length;l++)r.__webglColorRenderbuffer[l]&&e.deleteRenderbuffer(r.__webglColorRenderbuffer[l]);r.__webglDepthRenderbuffer&&e.deleteRenderbuffer(r.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var u=0,c=n.length;u<c;u++){var h=i.get(n[u]);h.__webglTexture&&(e.deleteTexture(h.__webglTexture),a.memory.textures--),i.remove(n[u])}i.remove(n),i.remove(t)}function D(t){var n=i.get(t);e.deleteTexture(n.__webglTexture),t=t.source;delete v.get(t)[n.__cacheKey],a.memory.textures--}var P=0;function k(e,t){var r,o=i.get(e);if(e.isVideoTexture&&(r=e,s=a.render.frame,m.get(r)!==s&&(m.set(r,s),r.update())),!1===e.isRenderTargetTexture&&0<e.version&&o.__version!==e.version){var s=e.image;if(null!==s&&!1!==s.complete)return void I(o,e,t)}n.activeTexture(33984+t),n.bindTexture(3553,o.__webglTexture)}g(s={},U,10497),g(s,j,33071),g(s,H,33648);var O=s,R=(g(s={},G,9728),g(s,V,9984),g(s,W,9986),g(s,Y,9729),g(s,q,9985),g(s,X,9987),s);function L(n,o,a){a?(e.texParameteri(n,10242,O[o.wrapS]),e.texParameteri(n,10243,O[o.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,O[o.wrapR]),e.texParameteri(n,10240,R[o.magFilter]),e.texParameteri(n,10241,R[o.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),o.wrapS===j&&o.wrapT,e.texParameteri(n,10240,M(o.magFilter)),e.texParameteri(n,10241,M(o.minFilter)),o.minFilter!==G&&o.minFilter),!0===t.has("EXT_texture_filter_anisotropic")&&(a=t.get("EXT_texture_filter_anisotropic"),o.type===J&&!1===t.has("OES_texture_float_linear")||!1===u&&o.type===Z&&!1===t.has("OES_texture_half_float_linear")||(1<o.anisotropy||i.get(o).__currentAnisotropy)&&(e.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy))}function B(t,n){var i=!1,r=(void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",E)),n.source),o=v.get(r),s=(void 0===o&&v.set(r,o={}),(r=[]).push((s=n).wrapS),r.push(s.wrapT),r.push(s.magFilter),r.push(s.minFilter),r.push(s.anisotropy),r.push(s.internalFormat),r.push(s.format),r.push(s.type),r.push(s.generateMipmaps),r.push(s.premultiplyAlpha),r.push(s.flipY),r.push(s.unpackAlignment),r.push(s.encoding),r.join());return s!==t.__cacheKey&&(void 0===o[s]&&(o[s]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,i=!0),o[s].usedTimes++,void 0!==(r=o[t.__cacheKey])&&(o[t.__cacheKey].usedTimes--,0===r.usedTimes&&D(n)),t.__cacheKey=s,t.__webglTexture=o[s].texture),i}function I(t,i,r){var a=3553,s=(i.isDataArrayTexture&&(a=35866),i.isData3DTexture&&(a=32879),B(t,i)),l=i.source;if(n.activeTexture(33984+r),n.bindTexture(a,t.__webglTexture),l.version!==l.__currentVersion||!0===s){e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0),r=i;r=!u&&(r.wrapS!==j||r.wrapT!==j||r.minFilter!==G&&r.minFilter!==Y)&&!1===w(i.image);var c,d=w(r=re(i,_(i.image,r,!1,h)))||u,f=o.convert(i.format,i.encoding),p=o.convert(i.type),m=A(i.internalFormat,f,p,i.encoding,i.isVideoTexture),v=(L(a,i,d),i.mipmaps),g=u&&!0!==i.isVideoTexture,y=(s=void 0===l.__currentVersion||!0===s,C(i,r,d));if(i.isDepthTexture)m=6402,u?m=i.type===J?36012:i.type===K?33190:i.type===$?35056:33189:i.type,i.format===ne&&6402===m&&1012!==i.type&&i.type!==K&&(i.type=K,p=o.convert(i.type)),i.format===ie&&6402===m&&(m=34041,i.type!==$&&(i.type=$,p=o.convert(i.type))),s&&(g?n.texStorage2D(3553,1,m,r.width,r.height):n.texImage2D(3553,0,m,r.width,r.height,0,f,p,null));else if(i.isDataTexture)if(0<v.length&&d){g&&s&&n.texStorage2D(3553,y,m,v[0].width,v[0].height);for(var b=0,M=v.length;b<M;b++)c=v[b],g?n.texSubImage2D(3553,b,0,0,c.width,c.height,f,p,c.data):n.texImage2D(3553,b,m,c.width,c.height,0,f,p,c.data);i.generateMipmaps=!1}else g?(s&&n.texStorage2D(3553,y,m,r.width,r.height),n.texSubImage2D(3553,0,0,0,r.width,r.height,f,p,r.data)):n.texImage2D(3553,0,m,r.width,r.height,0,f,p,r.data);else if(i.isCompressedTexture){g&&s&&n.texStorage2D(3553,y,m,v[0].width,v[0].height);for(var E=0,T=v.length;E<T;E++)c=v[E],i.format!==ee?null!==f&&(g?n.compressedTexSubImage2D(3553,E,0,0,c.width,c.height,f,c.data):n.compressedTexImage2D(3553,E,m,c.width,c.height,0,c.data)):g?n.texSubImage2D(3553,E,0,0,c.width,c.height,f,p,c.data):n.texImage2D(3553,E,m,c.width,c.height,0,f,p,c.data)}else if(i.isDataArrayTexture)g?(s&&n.texStorage3D(35866,y,m,r.width,r.height,r.depth),n.texSubImage3D(35866,0,0,0,0,r.width,r.height,r.depth,f,p,r.data)):n.texImage3D(35866,0,m,r.width,r.height,r.depth,0,f,p,r.data);else if(i.isData3DTexture)g?(s&&n.texStorage3D(32879,y,m,r.width,r.height,r.depth),n.texSubImage3D(32879,0,0,0,0,r.width,r.height,r.depth,f,p,r.data)):n.texImage3D(32879,0,m,r.width,r.height,r.depth,0,f,p,r.data);else if(i.isFramebufferTexture){if(s)if(g)n.texStorage2D(3553,y,m,r.width,r.height);else for(var D=r.width,P=r.height,k=0;k<y;k++)n.texImage2D(3553,k,m,D,P,0,f,p,null),D>>=1,P>>=1}else if(0<v.length&&d){g&&s&&n.texStorage2D(3553,y,m,v[0].width,v[0].height);for(var O=0,R=v.length;O<R;O++)c=v[O],g?n.texSubImage2D(3553,O,0,0,f,p,c):n.texImage2D(3553,O,m,f,p,c);i.generateMipmaps=!1}else g?(s&&n.texStorage2D(3553,y,m,r.width,r.height),n.texSubImage2D(3553,0,0,0,f,p,r)):n.texImage2D(3553,0,m,f,p,r);x(i,d)&&S(a),l.__currentVersion=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function F(t,r,a,s,l){var u=o.convert(a.format,a.encoding),c=o.convert(a.type),h=A(a.internalFormat,u,c,a.encoding);i.get(r).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,h,r.width,r.height,r.depth,0,u,c,null):n.texImage2D(l,0,h,r.width,r.height,0,u,c,null)),n.bindFramebuffer(36160,t),te(r)?f.framebufferTexture2DMultisampleEXT(36160,s,l,i.get(a).__webglTexture,0,Q(r)):e.framebufferTexture2D(36160,s,l,i.get(a).__webglTexture,0),n.bindFramebuffer(36160,null)}function z(t,n,i){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var r=33189;i||te(n)?((a=n.depthTexture)&&a.isDepthTexture&&(a.type===J?r=36012:a.type===K&&(r=33190)),a=Q(n),te(n)?f.renderbufferStorageMultisampleEXT(36161,a,r,n.width,n.height):e.renderbufferStorageMultisample(36161,a,r,n.width,n.height)):e.renderbufferStorage(36161,r,n.width,n.height),e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){var a=Q(n);i&&!1===te(n)?e.renderbufferStorageMultisample(36161,a,35056,n.width,n.height):te(n)?f.renderbufferStorageMultisampleEXT(36161,a,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else for(var s=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],l=0;l<s.length;l++){var u=s[l],c=o.convert(u.format,u.encoding),h=o.convert(u.type);c=A(u.internalFormat,c,h,u.encoding),h=Q(n);i&&!1===te(n)?e.renderbufferStorageMultisample(36161,h,c,n.width,n.height):te(n)?f.renderbufferStorageMultisampleEXT(36161,h,c,n.width,n.height):e.renderbufferStorage(36161,c,n.width,n.height)}e.bindRenderbuffer(36161,null)}function N(t){var r=i.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!r.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");var a=r.__webglFramebuffer,s=t;if(s&&s.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,a),!s.depthTexture||!s.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(s.depthTexture).__webglTexture&&s.depthTexture.image.width===s.width&&s.depthTexture.image.height===s.height||(s.depthTexture.image.width=s.width,s.depthTexture.image.height=s.height,s.depthTexture.needsUpdate=!0),k(s.depthTexture,0);a=i.get(s.depthTexture).__webglTexture;var l=Q(s);if(s.depthTexture.format===ne)te(s)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,l):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(s.depthTexture.format!==ie)throw new Error("Unknown depthTexture format");te(s)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,l):e.framebufferTexture2D(36160,33306,3553,a,0)}}else if(o){r.__webglDepthbuffer=[];for(var u=0;u<6;u++)n.bindFramebuffer(36160,r.__webglFramebuffer[u]),r.__webglDepthbuffer[u]=e.createRenderbuffer(),z(r.__webglDepthbuffer[u],t,!1)}else n.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),z(r.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function Q(e){return Math.min(d,e.samples)}function te(e){var n=i.get(e);return u&&0<e.samples&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function re(e,n){var i=e.encoding,r=e.format;return e.type,!0!==e.isCompressedTexture&&!0!==e.isVideoTexture&&1035!==e.format&&i!==Be&&i===Ie&&!1===u&&(!0===t.has("EXT_sRGB")&&r===ee?(e.format=1035,e.minFilter=Y,e.generateMipmaps=!1):n=bt.sRGBToLinear(n)),n}this.allocateTextureUnit=function(){var e=P;return P+=1,e},this.resetTextureUnits=function(){P=0},this.setTexture2D=k,this.setTexture2DArray=function(e,t){var r=i.get(e);0<e.version&&r.__version!==e.version?I(r,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(e,t){var r=i.get(e);0<e.version&&r.__version!==e.version?I(r,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=function(t,r){var a=i.get(t);if(0<t.version&&a.__version!==t.version){var s=a,l=t;t=r;if(6===l.image.length){var h=B(s,l),d=l.source;if(n.activeTexture(33984+t),n.bindTexture(34067,s.__webglTexture),d.version!==d.__currentVersion||!0===h){e.pixelStorei(37440,l.flipY),e.pixelStorei(37441,l.premultiplyAlpha),e.pixelStorei(3317,l.unpackAlignment),e.pixelStorei(37443,0);for(var f=l.isCompressedTexture||l.image[0].isCompressedTexture,p=l.image[0]&&l.image[0].isDataTexture,m=[],v=0;v<6;v++)m[v]=f||p?p?l.image[v].image:l.image[v]:_(l.image[v],!1,!0,c),m[v]=re(l,m[v]);var g,y=w(t=m[0])||u,b=o.convert(l.format,l.encoding),M=o.convert(l.type),E=A(l.internalFormat,b,M,l.encoding),T=u&&!0!==l.isVideoTexture,D=(h=void 0===d.__currentVersion||!0===h,C(l,t,y));if(L(34067,l,y),f){T&&h&&n.texStorage2D(34067,D,E,t.width,t.height);for(var P=0;P<6;P++){g=m[P].mipmaps;for(var k=0;k<g.length;k++){var O=g[k];l.format!==ee?null!==b&&(T?n.compressedTexSubImage2D(34069+P,k,0,0,O.width,O.height,b,O.data):n.compressedTexImage2D(34069+P,k,E,O.width,O.height,0,O.data)):T?n.texSubImage2D(34069+P,k,0,0,O.width,O.height,b,M,O.data):n.texImage2D(34069+P,k,E,O.width,O.height,0,b,M,O.data)}}}else{g=l.mipmaps,T&&h&&(0<g.length&&D++,n.texStorage2D(34067,D,E,m[0].width,m[0].height));for(var R=0;R<6;R++)if(p){T?n.texSubImage2D(34069+R,0,0,0,m[R].width,m[R].height,b,M,m[R].data):n.texImage2D(34069+R,0,E,m[R].width,m[R].height,0,b,M,m[R].data);for(var I=0;I<g.length;I++){var F=g[I].image[R].image;T?n.texSubImage2D(34069+R,I+1,0,0,F.width,F.height,b,M,F.data):n.texImage2D(34069+R,I+1,E,F.width,F.height,0,b,M,F.data)}}else{T?n.texSubImage2D(34069+R,0,0,0,b,M,m[R]):n.texImage2D(34069+R,0,E,b,M,m[R]);for(var z=0;z<g.length;z++){var N=g[z];T?n.texSubImage2D(34069+R,z+1,0,0,b,M,N.image[R]):n.texImage2D(34069+R,z+1,E,b,M,N.image[R])}}}x(l,y)&&S(34067),d.__currentVersion=d.version,l.onUpdate&&l.onUpdate(l)}s.__version=l.version}}else n.activeTexture(33984+r),n.bindTexture(34067,a.__webglTexture)},this.rebindTextures=function(e,t,n){var r=i.get(e);void 0!==t&&F(r.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&N(e)},this.setupRenderTarget=function(t){var s=t.texture,l=i.get(t),c=i.get(s),h=(t.addEventListener("dispose",T),!0!==t.isWebGLMultipleRenderTargets&&(void 0===c.__webglTexture&&(c.__webglTexture=e.createTexture()),c.__version=s.version,a.memory.textures++),!0===t.isWebGLCubeRenderTarget),d=!0===t.isWebGLMultipleRenderTargets,f=w(t)||u;if(h){l.__webglFramebuffer=[];for(var p=0;p<6;p++)l.__webglFramebuffer[p]=e.createFramebuffer()}else{if(l.__webglFramebuffer=e.createFramebuffer(),d&&r.drawBuffers)for(var m=t.texture,v=0,g=m.length;v<g;v++){var y=i.get(m[v]);void 0===y.__webglTexture&&(y.__webglTexture=e.createTexture(),a.memory.textures++)}if(u&&0<t.samples&&!1===te(t)){var b=d?s:[s];l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,l.__webglMultisampledFramebuffer);for(var _=0;_<b.length;_++){var C=b[_],M=(l.__webglColorRenderbuffer[_]=e.createRenderbuffer(),e.bindRenderbuffer(36161,l.__webglColorRenderbuffer[_]),o.convert(C.format,C.encoding)),E=o.convert(C.type);M=A(C.internalFormat,M,E,C.encoding),E=Q(t);e.renderbufferStorageMultisample(36161,E,M,t.width,t.height),e.framebufferRenderbuffer(36160,36064+_,36161,l.__webglColorRenderbuffer[_])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),z(l.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(h){n.bindTexture(34067,c.__webglTexture),L(34067,s,f);for(var D=0;D<6;D++)F(l.__webglFramebuffer[D],t,s,36064,34069+D);x(s,f)&&S(34067)}else if(d)for(var P=t.texture,k=0,O=P.length;k<O;k++){var R=P[k],B=i.get(R);n.bindTexture(3553,B.__webglTexture),L(3553,R,f),F(l.__webglFramebuffer,t,R,36064+k,3553),x(R,f)&&S(3553)}else h=3553,(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&u&&(h=t.isWebGL3DRenderTarget?32879:35866),n.bindTexture(h,c.__webglTexture),L(h,s,f),F(l.__webglFramebuffer,t,s,36064,h),x(s,f)&&S(h);n.unbindTexture(),t.depthBuffer&&N(t)},this.updateRenderTargetMipmap=function(e){for(var t=w(e)||u,r=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],o=0,a=r.length;o<a;o++){var s,l=r[o];x(l,t)&&(s=e.isWebGLCubeRenderTarget?34067:3553,l=i.get(l).__webglTexture,n.bindTexture(s,l),S(s),n.unbindTexture())}},this.updateMultisampleRenderTarget=function(t){if(u&&0<t.samples&&!1===te(t)){var r=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=t.width,a=t.height,s=16384,l=[],c=t.stencilBuffer?33306:36096,h=i.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(var f=0;f<r.length;f++)n.bindFramebuffer(36160,h.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+f,36161,null),n.bindFramebuffer(36160,h.__webglFramebuffer),e.framebufferTexture2D(36009,36064+f,3553,null,0);n.bindFramebuffer(36008,h.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,h.__webglFramebuffer);for(var m=0;m<r.length;m++){l.push(36064+m),t.depthBuffer&&l.push(c);var v=void 0!==h.__ignoreDepthValues&&h.__ignoreDepthValues;!1===v&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),d&&e.framebufferRenderbuffer(36008,36064,36161,h.__webglColorRenderbuffer[m]),!0===v&&(e.invalidateFramebuffer(36008,[c]),e.invalidateFramebuffer(36009,[c])),d&&(v=i.get(r[m]).__webglTexture,e.framebufferTexture2D(36009,36064,3553,v,0)),e.blitFramebuffer(0,0,o,a,0,0,o,a,s,9728),p&&e.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),d)for(var g=0;g<r.length;g++){n.bindFramebuffer(36160,h.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+g,36161,h.__webglColorRenderbuffer[g]);var y=i.get(r[g]).__webglTexture;n.bindFramebuffer(36160,h.__webglFramebuffer),e.framebufferTexture2D(36009,36064+g,3553,y,0)}n.bindFramebuffer(36009,h.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=N,this.setupFrameBufferTexture=F,this.useMultisampledRTT=te}function aa(e,t,n){var i=n.isWebGL2;return{convert:function(n){var r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(n===Q)return 5121;if(1017===n)return 32819;if(1018===n)return 32820;if(1010===n)return 5120;if(1011===n)return 5122;if(1012===n)return 5123;if(1013===n)return 5124;if(n===K)return 5125;if(n===J)return 5126;if(n===Z)return i?5131:null!==(r=t.get("OES_texture_half_float"))?r.HALF_FLOAT_OES:null;if(1021===n)return 6406;if(n===ee)return 6408;if(n===te)return 6409;if(1025===n)return 6410;if(n===ne)return 6402;if(n===ie)return 34041;if(n===re)return 6403;if(1022===n)return 6408;if(1035===n)return null!==(r=t.get("EXT_sRGB"))?r.SRGB_ALPHA_EXT:null;if(1029===n)return 36244;if(n===oe)return 33319;if(1031===n)return 33320;if(1033===n)return 36249;if(n===ae||n===se||n===le||n===ue)if(o===Ie){if(null===(r=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===ae)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===se)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===le)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===ue)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(r=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===ae)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===se)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===le)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===ue)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===ce||n===he||n===de||n===fe){if(null===(r=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===ce)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===he)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===de)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===fe)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return null!==(r=t.get("WEBGL_compressed_texture_etc1"))?r.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===pe||n===me){if(null===(r=t.get("WEBGL_compressed_texture_etc")))return null;if(n===pe)return o===Ie?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===me)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(n===ve||n===ge||n===ye||n===be||n===_e||n===we||n===xe||n===Se||n===Ae||n===Ce||n===Me||n===Ee||n===Te||n===De){if(null===(r=t.get("WEBGL_compressed_texture_astc")))return null;if(n===ve)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===ge)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===ye)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===be)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===_e)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===we)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===xe)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Se)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Ae)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Ce)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Me)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Ee)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Te)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===De)return o===Ie?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Pe){if(null===(r=t.get("EXT_texture_compression_bptc")))return null;if(n===Pe)return o===Ie?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT}return n===$?i?34042:null!==(r=t.get("WEBGL_depth_texture"))?r.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var sa=function(){h(t,Oi);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return b(this,t),(n=e.call(this)).isArrayCamera=!0,n.cameras=i,n}return w(t)}(),la=function(){h(t,On);var e=f(t);function t(){var n;return b(this,t),(n=e.call(this)).isGroup=!0,n.type="Group",n}return w(t)}(),ua={type:"move"},ca=function(){function e(){b(this,e),this._targetRay=null,this._grip=null,this._hand=null}return w(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new la,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new la,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Dt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Dt),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new la,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Dt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Dt),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var i=null,r=null,o=null,a=this._targetRay,l=this._grip,u=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(u&&e.hand){o=!0;var c,h=s(e.hand.values());try{for(h.s();!(c=h.n()).done;){var d,f=c.value,p=t.getJointPose(f,n),m=(void 0===u.joints[f.jointName]&&((d=new la).matrixAutoUpdate=!1,d.visible=!1,u.joints[f.jointName]=d,u.add(d)),u.joints[f.jointName]);null!==p&&(m.matrix.fromArray(p.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.jointRadius=p.radius),m.visible=null!==p}}catch(e){h.e(e)}finally{h.f()}var v=u.joints["index-finger-tip"],g=u.joints["thumb-tip"];v=v.position.distanceTo(g.position);u.inputState.pinching&&.025<v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&v<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&null!==(r=t.getPose(e.gripSpace,n))&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1);null!==a&&null!==(i=null===(i=t.getPose(e.targetRaySpace,n))&&null!==r?r:i)&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(ua))}return null!==a&&(a.visible=null!==i),null!==l&&(l.visible=null!==r),null!==u&&(u.visible=null!==o),this}}]),e}(),ha=function(){h(t,St);var e=f(t);function t(n,i,r,o,a,s,l,u,c,h){if(b(this,t),(h=void 0!==h?h:ne)!==ne&&h!==ie)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return(o=e.call(this,null,o,a,s,l,u,h,r=void 0===(r=void 0===r&&h===ne?K:r)&&h===ie?$:r,c)).isDepthTexture=!0,o.image={width:n,height:i},o.magFilter=void 0!==l?l:G,o.minFilter=void 0!==u?u:G,o.flipY=!1,o.generateMipmaps=!1,o}return w(t)}(),da=function(){h(t,He);var e=f(t);function t(n,i){b(this,t);var r,o=p(r=e.call(this)),s=null,l=1,u=null,c="local-floor",h=null,d=null,f=null,m=null,v=null,g=null,_=i.getContextAttributes(),w=null,x=null,S=[],A=[],C=new Oi,M=(C.layers.enable(1),C.viewport=new At,new Oi),E=(M.layers.enable(2),M.viewport=new At,[C,M]),T=new sa,D=(T.layers.enable(1),T.layers.enable(2),null),P=null;function k(e){var t=A.indexOf(e.inputSource);-1!==t&&void 0!==(t=S[t])&&t.dispatchEvent({type:e.type,data:e.inputSource})}function O(){s.removeEventListener("select",k),s.removeEventListener("selectstart",k),s.removeEventListener("selectend",k),s.removeEventListener("squeeze",k),s.removeEventListener("squeezestart",k),s.removeEventListener("squeezeend",k),s.removeEventListener("end",O),s.removeEventListener("inputsourceschange",R);for(var e=0;e<S.length;e++){var t=A[e];null!==t&&(A[e]=null,S[e].disconnect(t))}P=D=null,n.setRenderTarget(w),x=s=f=m=v=null,z.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}function R(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],i=A.indexOf(n);0<=i&&(A[i]=null,S[i].dispatchEvent({type:"disconnected",data:n}))}for(var r=0;r<e.added.length;r++){var o=e.added[r],a=A.indexOf(o);if(-1===a){for(var s=0;s<S.length;s++){if(s>=A.length){A.push(o),a=s;break}if(null===A[s]){A[s]=o,a=s;break}}if(-1===a)break}var l=S[a];l&&l.dispatchEvent({type:"connected",data:o})}}r.cameraAutoUpdate=!0,r.enabled=!1,r.isPresenting=!1,r.getController=function(e){var t=S[e];return void 0===t&&(t=new ca,S[e]=t),t.getTargetRaySpace()},r.getControllerGrip=function(e){var t=S[e];return void 0===t&&(t=new ca,S[e]=t),t.getGripSpace()},r.getHand=function(e){var t=S[e];return void 0===t&&(t=new ca,S[e]=t),t.getHandSpace()},r.setFramebufferScaleFactor=function(e){l=e,o.isPresenting},r.setReferenceSpaceType=function(e){c=e,o.isPresenting},r.getReferenceSpace=function(){return h||u},r.setReferenceSpace=function(e){h=e},r.getBaseLayer=function(){return null!==m?m:v},r.getBinding=function(){return f},r.getFrame=function(){return g},r.getSession=function(){return s},r.setSession=function(){var e=a(y().mark((function e(t){var r,a,d;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(s=t))e.next=25;else{if(w=n.getRenderTarget(),s.addEventListener("select",k),s.addEventListener("selectstart",k),s.addEventListener("selectend",k),s.addEventListener("squeeze",k),s.addEventListener("squeezestart",k),s.addEventListener("squeezeend",k),s.addEventListener("end",O),s.addEventListener("inputsourceschange",R),!0!==_.xrCompatible)return e.next=14,i.makeXRCompatible();e.next=14}break;case 14:return void 0===s.renderState.layers||!1===n.capabilities.isWebGL2?(r={antialias:void 0!==s.renderState.layers||_.antialias,alpha:_.alpha,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:l},v=new XRWebGLLayer(s,i,r),s.updateRenderState({baseLayer:v}),x=new Ct(v.framebufferWidth,v.framebufferHeight,{format:ee,type:Q,encoding:n.outputEncoding,stencilBuffer:_.stencil})):(d=a=r=null,_.depth&&(d=_.stencil?35056:33190,r=_.stencil?ie:ne,a=_.stencil?$:K),d={colorFormat:32856,depthFormat:d,scaleFactor:l},f=new XRWebGLBinding(s,i),m=f.createProjectionLayer(d),s.updateRenderState({layers:[m]}),x=new Ct(m.textureWidth,m.textureHeight,{format:ee,type:Q,depthTexture:new ha(m.textureWidth,m.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,r),stencilBuffer:_.stencil,encoding:n.outputEncoding,samples:_.antialias?4:0}),n.properties.get(x).__ignoreDepthValues=m.ignoreDepthValues),x.isXRRenderTarget=!0,this.setFoveation(1),h=null,e.next=20,s.requestReferenceSpace(c);case 20:u=e.sent,z.setContext(s),z.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"});case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();var L=new Dt,B=new Dt;function I(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}r.updateCamera=function(e){if(null!==s){T.near=M.near=C.near=e.near,T.far=M.far=C.far=e.far,D===T.near&&P===T.far||(s.updateRenderState({depthNear:T.near,depthFar:T.far}),D=T.near,P=T.far);var t=e.parent,n=T.cameras;I(T,t);for(var i=0;i<n.length;i++)I(n[i],t);T.matrixWorld.decompose(T.position,T.quaternion,T.scale),e.matrix.copy(T.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);for(var r,o,a,l,u,c,h,d,f,p,m=e.children,v=0,g=m.length;v<g;v++)m[v].updateMatrixWorld(!0);2===n.length?(e=T,r=C,o=M,L.setFromMatrixPosition(r.matrixWorld),B.setFromMatrixPosition(o.matrixWorld),a=L.distanceTo(B),l=r.projectionMatrix.elements,o=o.projectionMatrix.elements,u=l[14]/(l[10]-1),c=l[14]/(l[10]+1),h=(l[9]+1)/l[5],d=(l[9]-1)/l[5],f=u*(l=(l[8]-1)/l[0]),p=u*(o=(o[8]+1)/o[0]),l=(o=a/(o-l))*-l,r.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(l),e.translateZ(o),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),r=u+o,u=c+o,e.projectionMatrix.makePerspective(f-l,a-l+p,h*c/u*r,d*c/u*r,r,u)):T.projectionMatrix.copy(C.projectionMatrix)}},r.getCamera=function(){return T},r.getFoveation=function(){return null!==m?m.fixedFoveation:null!==v?v.fixedFoveation:void 0},r.setFoveation=function(e){null!==m&&(m.fixedFoveation=e),null!==v&&void 0!==v.fixedFoveation&&(v.fixedFoveation=e)};var F=null,z=new Gi;return z.setAnimationLoop((function(e,t){if(d=t.getViewerPose(h||u),g=t,null!==d){var i=d.views,r=(null!==v&&(n.setRenderTargetFramebuffer(x,v.framebuffer),n.setRenderTarget(x)),!1);i.length!==T.cameras.length&&(r=!(T.cameras.length=0));for(var o=0;o<i.length;o++){var a=i[o],s=null,l=(null!==v?s=v.getViewport(a):(s=(l=f.getViewSubImage(m,a)).viewport,0===o&&(n.setRenderTargetTextures(x,l.colorTexture,m.ignoreDepthValues?void 0:l.depthStencilTexture),n.setRenderTarget(x))),E[o]);void 0===l&&((l=new Oi).layers.enable(o),l.viewport=new At,E[o]=l),l.matrix.fromArray(a.transform.matrix),l.projectionMatrix.fromArray(a.projectionMatrix),l.viewport.set(s.x,s.y,s.width,s.height),0===o&&T.matrix.copy(l.matrix),!0===r&&T.cameras.push(l)}}for(var c=0;c<S.length;c++){var p=A[c],y=S[c];null!==p&&void 0!==y&&y.update(p,t,h||u)}F&&F(e,t),g=null})),r.setAnimationLoop=function(e){F=e},r.dispose=function(){},r}return w(t)}();function fa(e,t){function n(n,i){n.opacity.value=i.opacity,i.color&&n.diffuse.value.copy(i.color),i.emissive&&n.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(n.map.value=i.map),i.alphaMap&&(n.alphaMap.value=i.alphaMap),i.bumpMap&&(n.bumpMap.value=i.bumpMap,n.bumpScale.value=i.bumpScale,i.side===M&&(n.bumpScale.value*=-1)),i.displacementMap&&(n.displacementMap.value=i.displacementMap,n.displacementScale.value=i.displacementScale,n.displacementBias.value=i.displacementBias),i.emissiveMap&&(n.emissiveMap.value=i.emissiveMap),i.normalMap&&(n.normalMap.value=i.normalMap,n.normalScale.value.copy(i.normalScale),i.side===M&&n.normalScale.value.negate()),i.specularMap&&(n.specularMap.value=i.specularMap),0<i.alphaTest&&(n.alphaTest.value=i.alphaTest);var r,o,a=t.get(i).envMap;a&&(n.envMap.value=a,n.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,n.reflectivity.value=i.reflectivity,n.ior.value=i.ior,n.refractionRatio.value=i.refractionRatio),i.lightMap&&(n.lightMap.value=i.lightMap,a=!0!==e.physicallyCorrectLights?Math.PI:1,n.lightMapIntensity.value=i.lightMapIntensity*a),i.aoMap&&(n.aoMap.value=i.aoMap,n.aoMapIntensity.value=i.aoMapIntensity),i.map?r=i.map:i.specularMap?r=i.specularMap:i.displacementMap?r=i.displacementMap:i.normalMap?r=i.normalMap:i.bumpMap?r=i.bumpMap:i.roughnessMap?r=i.roughnessMap:i.metalnessMap?r=i.metalnessMap:i.alphaMap?r=i.alphaMap:i.emissiveMap?r=i.emissiveMap:i.clearcoatMap?r=i.clearcoatMap:i.clearcoatNormalMap?r=i.clearcoatNormalMap:i.clearcoatRoughnessMap?r=i.clearcoatRoughnessMap:i.iridescenceMap?r=i.iridescenceMap:i.iridescenceThicknessMap?r=i.iridescenceThicknessMap:i.specularIntensityMap?r=i.specularIntensityMap:i.specularColorMap?r=i.specularColorMap:i.transmissionMap?r=i.transmissionMap:i.thicknessMap?r=i.thicknessMap:i.sheenColorMap?r=i.sheenColorMap:i.sheenRoughnessMap&&(r=i.sheenRoughnessMap),void 0!==r&&(!0===(r=r.isWebGLRenderTarget?r.texture:r).matrixAutoUpdate&&r.updateMatrix(),n.uvTransform.value.copy(r.matrix)),i.aoMap?o=i.aoMap:i.lightMap&&(o=i.lightMap),void 0!==o&&(!0===(o=o.isWebGLRenderTarget?o.texture:o).matrixAutoUpdate&&o.updateMatrix(),n.uv2Transform.value.copy(o.matrix))}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,i,r,o,a){var s,l,u,c,h,d,f;i.isMeshBasicMaterial||i.isMeshLambertMaterial?n(e,i):i.isMeshToonMaterial?(n(e,i),d=e,(f=i).gradientMap&&(d.gradientMap.value=f.gradientMap)):i.isMeshPhongMaterial?(n(e,i),d=i,(f=e).specular.value.copy(d.specular),f.shininess.value=Math.max(d.shininess,1e-4)):i.isMeshStandardMaterial?(n(e,i),h=i,(c=e).roughness.value=h.roughness,c.metalness.value=h.metalness,h.roughnessMap&&(c.roughnessMap.value=h.roughnessMap),h.metalnessMap&&(c.metalnessMap.value=h.metalnessMap),t.get(h).envMap&&(c.envMapIntensity.value=h.envMapIntensity),i.isMeshPhysicalMaterial&&(c=i,h=a,(a=e).ior.value=c.ior,0<c.sheen&&(a.sheenColor.value.copy(c.sheenColor).multiplyScalar(c.sheen),a.sheenRoughness.value=c.sheenRoughness,c.sheenColorMap&&(a.sheenColorMap.value=c.sheenColorMap),c.sheenRoughnessMap&&(a.sheenRoughnessMap.value=c.sheenRoughnessMap)),0<c.clearcoat&&(a.clearcoat.value=c.clearcoat,a.clearcoatRoughness.value=c.clearcoatRoughness,c.clearcoatMap&&(a.clearcoatMap.value=c.clearcoatMap),c.clearcoatRoughnessMap&&(a.clearcoatRoughnessMap.value=c.clearcoatRoughnessMap),c.clearcoatNormalMap&&(a.clearcoatNormalScale.value.copy(c.clearcoatNormalScale),a.clearcoatNormalMap.value=c.clearcoatNormalMap,c.side===M&&a.clearcoatNormalScale.value.negate())),0<c.iridescence&&(a.iridescence.value=c.iridescence,a.iridescenceIOR.value=c.iridescenceIOR,a.iridescenceThicknessMinimum.value=c.iridescenceThicknessRange[0],a.iridescenceThicknessMaximum.value=c.iridescenceThicknessRange[1],c.iridescenceMap&&(a.iridescenceMap.value=c.iridescenceMap),c.iridescenceThicknessMap&&(a.iridescenceThicknessMap.value=c.iridescenceThicknessMap)),0<c.transmission&&(a.transmission.value=c.transmission,a.transmissionSamplerMap.value=h.texture,a.transmissionSamplerSize.value.set(h.width,h.height),c.transmissionMap&&(a.transmissionMap.value=c.transmissionMap),a.thickness.value=c.thickness,c.thicknessMap&&(a.thicknessMap.value=c.thicknessMap),a.attenuationDistance.value=c.attenuationDistance,a.attenuationColor.value.copy(c.attenuationColor)),a.specularIntensity.value=c.specularIntensity,a.specularColor.value.copy(c.specularColor),c.specularIntensityMap&&(a.specularIntensityMap.value=c.specularIntensityMap),c.specularColorMap&&(a.specularColorMap.value=c.specularColorMap))):i.isMeshMatcapMaterial?(n(e,i),h=e,(a=i).matcap&&(h.matcap.value=a.matcap)):i.isMeshDepthMaterial?n(e,i):i.isMeshDistanceMaterial?(n(e,i),c=i,(a=e).referencePosition.value.copy(c.referencePosition),a.nearDistance.value=c.nearDistance,a.farDistance.value=c.farDistance):i.isMeshNormalMaterial?n(e,i):i.isLineBasicMaterial?(a=i,(u=e).diffuse.value.copy(a.color),u.opacity.value=a.opacity,i.isLineDashedMaterial&&(u=i,(a=e).dashSize.value=u.dashSize,a.totalSize.value=u.dashSize+u.gapSize,a.scale.value=u.scale)):i.isPointsMaterial?(a=i,u=r,r=o,(o=e).diffuse.value.copy(a.color),o.opacity.value=a.opacity,o.size.value=a.size*u,o.scale.value=.5*r,a.map&&(o.map.value=a.map),a.alphaMap&&(o.alphaMap.value=a.alphaMap),0<a.alphaTest&&(o.alphaTest.value=a.alphaTest),a.map?s=a.map:a.alphaMap&&(s=a.alphaMap),void 0!==s&&(!0===s.matrixAutoUpdate&&s.updateMatrix(),o.uvTransform.value.copy(s.matrix))):i.isSpriteMaterial?(r=i,(a=e).diffuse.value.copy(r.color),a.opacity.value=r.opacity,a.rotation.value=r.rotation,r.map&&(a.map.value=r.map),r.alphaMap&&(a.alphaMap.value=r.alphaMap),0<r.alphaTest&&(a.alphaTest.value=r.alphaTest),r.map?l=r.map:r.alphaMap&&(l=r.alphaMap),void 0!==l&&(!0===l.matrixAutoUpdate&&l.updateMatrix(),a.uvTransform.value.copy(l.matrix))):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function pa(e,t,n,i){var r={},o={},a=[],s=n.isWebGL2?e.getParameter(35375):0;function l(t){var n=((t=t.target).removeEventListener("dispose",l),a.indexOf(t.__bindingPointIndex));a.splice(n,1),e.deleteBuffer(r[t.id]),delete r[t.id],delete o[t.id]}return{bind:function(e,t){t=t.program,i.uniformBlockBinding(e,t)},update:function(n,u){if(void 0===r[n.id]){for(var c=(b=n).uniforms,h=0,d=0,f=0,p=c.length;f<p;f++){var m,v=c[f],g=function(e){var t={boundary:0,storage:0};return"number"==typeof(e=e.value)?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture,t}(v);v.__data=new Float32Array(g.storage/Float32Array.BYTES_PER_ELEMENT),v.__offset=h,0<f&&(m=16-(d=h%16),0!==d&&m-g.boundary<0&&(h+=16-d,v.__offset=h)),h+=g.storage}0<(d=h%16)&&(h+=16-d),b.__size=h,b.__cache={},b=n,_=function(){for(var e=0;e<s;e++)if(-1===a.indexOf(e))return a.push(e),e;return 0}(),b.__bindingPointIndex=_,w=e.createBuffer(),y=b.__size,b=b.usage,e.bindBuffer(35345,w),e.bufferData(35345,y,b),e.bindBuffer(35345,null),e.bindBufferBase(35345,_,w),r[n.id]=w,n.addEventListener("dispose",l)}var y=u.program,b=(i.updateUBOMapping(n,y),t.render.frame);if(o[n.id]!==b){var _=n,w=r[_.id],x=_.uniforms,S=_.__cache;e.bindBuffer(35345,w);for(var A=0,C=x.length;A<C;A++){var M,E,T=x[A];!0===function(e,t,n){if(e=e.value,void 0===n[t])return n[t]="number"==typeof e?e:e.clone(),!0;if("number"==typeof e){if(n[t]!==e)return n[t]=e,!0}else if(!1===(n=n[t]).equals(e))return n.copy(e),!0;return!1}(T,A,S)&&(M=T.value,E=T.__offset,"number"==typeof M?T.__data[0]=M:T.value.isMatrix3?(T.__data[0]=T.value.elements[0],T.__data[1]=T.value.elements[1],T.__data[2]=T.value.elements[2],T.__data[3]=T.value.elements[0],T.__data[4]=T.value.elements[3],T.__data[5]=T.value.elements[4],T.__data[6]=T.value.elements[5],T.__data[7]=T.value.elements[0],T.__data[8]=T.value.elements[6],T.__data[9]=T.value.elements[7],T.__data[10]=T.value.elements[8],T.__data[11]=T.value.elements[0]):M.toArray(T.__data),e.bufferSubData(35345,E,T.__data))}e.bindBuffer(35345,null),o[n.id]=b}},dispose:function(){for(var t in r)e.deleteBuffer(r[t]);a=[],r={},o={}}}}function ma(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(this.isWebGLRenderer=!0,void 0!==e.canvas?e.canvas:((n=at("canvas")).style.display="block",n)),n=void 0!==e.context?e.context:null,i=void 0===e.depth||e.depth,r=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,a=void 0===e.premultipliedAlpha||e.premultipliedAlpha,s=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,c=null!==n?n.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha,h=null,d=null,f=[],p=[],m=(this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Be,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return 2},set:function(){}}}),this),v=!1,g=0,y=0,b=null,_=-1,w=null,S=new At,A=new At,T=null,D=t.width,P=t.height,k=1,O=null,R=null,L=new At(0,0,D,P),B=new At(0,0,D,P),I=!1,F=new Hi,z=!1,N=!1,U=null,j=new sn,H=new it,G=new Dt,V={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function W(){return null===b?k:1}var Y,q,K,$,te,ne,ie,re,oe,ae,se,le,ue,ce,he,de,fe,pe,me,ve,ge,ye,be,_e,we=n;function xe(e,n){for(var i=0;i<e.length;i++){var r=e[i];if(null!==(r=t.getContext(r,n)))return r}return null}try{var Se={alpha:!0,depth:i,stencil:r,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:s,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r".concat(x)),t.addEventListener("webglcontextlost",Ee,!1),t.addEventListener("webglcontextrestored",Te,!1),t.addEventListener("webglcontextcreationerror",De,!1),null===we){var Ae=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&Ae.shift(),null===(we=xe(Ae,Se)))throw xe(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===we.getShaderPrecisionFormat&&(we.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw e}function Ce(){Y=new fr(we),q=new Zi(we,Y,e),Y.init(q),ye=new aa(we,Y,q),K=new ra(we,Y,q),$=new vr,te=new Vo,ne=new oa(we,Y,K,te,q,ye,$),ie=new er(m),re=new dr(m),oe=new Vi(we,q),be=new Ki(we,Y,oe,q),ae=new pr(0,oe,$,be),se=new _r(0,ae,oe,$),me=new br(we,q,ne),de=new $i(te),le=new Go(m,ie,re,Y,q,be,de),ue=new fa(m,te),ce=new Xo,he=new ea(Y,q),pe=new Qi(m,ie,K,se,c,a),fe=new ia(m,se,q),_e=new pa(we,$,q,K),ve=new Ji(we,Y,$,q),ge=new mr(we,Y,$,q),$.programs=le.programs,m.capabilities=q,m.extensions=Y,m.properties=te,m.renderLists=ce,m.shadowMap=fe,m.state=K,m.info=$}Ce();var Me=new da(m,we);function Ee(e){e.preventDefault(),v=!0}function Te(){v=!1;var e=$.autoReset,t=fe.enabled,n=fe.autoUpdate,i=fe.needsUpdate,r=fe.type;Ce(),$.autoReset=e,fe.enabled=t,fe.autoUpdate=n,fe.needsUpdate=i,fe.type=r}function De(e){}function Pe(e){var t=((e=e.target).removeEventListener("dispose",Pe),e=e),n=te.get(t).programs;void 0!==n&&(n.forEach((function(e){le.releaseProgram(e)})),t.isShaderMaterial&&le.releaseShaderCache(t)),te.remove(e)}this.xr=Me,this.getContext=function(){return we},this.getContextAttributes=function(){return we.getContextAttributes()},this.forceContextLoss=function(){var e=Y.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=Y.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(e){void 0!==e&&(k=e,this.setSize(D,P,!1))},this.getSize=function(e){return e.set(D,P)},this.setSize=function(e,n,i){Me.isPresenting||(D=e,P=n,t.width=Math.floor(e*k),t.height=Math.floor(n*k),!1!==i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(D*k,P*k).floor()},this.setDrawingBufferSize=function(e,n,i){D=e,P=n,k=i,t.width=Math.floor(e*i),t.height=Math.floor(n*i),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(S)},this.getViewport=function(e){return e.copy(L)},this.setViewport=function(e,t,n,i){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,i),K.viewport(S.copy(L).multiplyScalar(k).floor())},this.getScissor=function(e){return e.copy(B)},this.setScissor=function(e,t,n,i){e.isVector4?B.set(e.x,e.y,e.z,e.w):B.set(e,t,n,i),K.scissor(A.copy(B).multiplyScalar(k).floor())},this.getScissorTest=function(){return I},this.setScissorTest=function(e){K.setScissorTest(I=e)},this.setOpaqueSort=function(e){O=e},this.setTransparentSort=function(e){R=e},this.getClearColor=function(e){return e.copy(pe.getClearColor())},this.setClearColor=function(){pe.setClearColor.apply(pe,arguments)},this.getClearAlpha=function(){return pe.getClearAlpha()},this.setClearAlpha=function(){pe.setClearAlpha.apply(pe,arguments)},this.clear=function(){var e=0;0<arguments.length&&void 0!==arguments[0]&&!arguments[0]||(e|=16384),1<arguments.length&&void 0!==arguments[1]&&!arguments[1]||(e|=256),2<arguments.length&&void 0!==arguments[2]&&!arguments[2]||(e|=1024),we.clear(e)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ee,!1),t.removeEventListener("webglcontextrestored",Te,!1),t.removeEventListener("webglcontextcreationerror",De,!1),ce.dispose(),he.dispose(),te.dispose(),ie.dispose(),re.dispose(),se.dispose(),be.dispose(),_e.dispose(),le.dispose(),Me.dispose(),Me.removeEventListener("sessionstart",Oe),Me.removeEventListener("sessionend",Re),U&&(U.dispose(),U=null),Le.stop()},this.renderBufferDirect=function(e,t,n,i,r,o){null===t&&(t=V);var a=r.isMesh&&r.matrixWorld.determinant()<0;e=function(e,t,n,i,r){!0!==t.isScene&&(t=V),ne.resetTextureUnits();var o=t.fog,a=i.isMeshStandardMaterial?t.environment:null,s=null===b?m.outputEncoding:!0===b.isXRRenderTarget?b.texture.encoding:Be,l=(a=(i.isMeshStandardMaterial?re:ie).get(i.envMap||a),!0===i.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize),u=!!i.normalMap&&!!n.attributes.tangent,c=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,f=!!n.morphAttributes.color,p=i.toneMapped?m.toneMapping:0,v=void 0!==(v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color)?v.length:0,g=te.get(i),y=d.state.lights;!0!==z||!0!==N&&e===w||(x=e===w&&i.id===_,de.setState(i,e,x));var x=!1;i.version===g.__version?(g.needsLights&&g.lightsStateVersion!==y.state.version||g.outputEncoding!==s||r.isInstancedMesh&&!1===g.instancing||!r.isInstancedMesh&&!0===g.instancing||r.isSkinnedMesh&&!1===g.skinning||!r.isSkinnedMesh&&!0===g.skinning||g.envMap!==a||!0===i.fog&&g.fog!==o||void 0!==g.numClippingPlanes&&(g.numClippingPlanes!==de.numPlanes||g.numIntersection!==de.numIntersection)||g.vertexAlphas!==l||g.vertexTangents!==u||g.morphTargets!==c||g.morphNormals!==h||g.morphColors!==f||g.toneMapping!==p||!0===q.isWebGL2&&g.morphTargetsCount!==v)&&(x=!0):(x=!0,g.__version=i.version);var S=g.currentProgram;if(!0===x&&(S=ze(i,t,r)),y=!1,s=!1,l=!1,u=S.getUniforms(),c=g.uniforms,K.useProgram(S.program)&&(l=s=y=!0),i.id!==_&&(_=i.id,s=!0),!y&&w===e||(u.setValue(we,"projectionMatrix",e.projectionMatrix),q.logarithmicDepthBuffer&&u.setValue(we,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,l=s=!0),(i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshStandardMaterial||i.envMap)&&void 0!==(h=u.map.cameraPosition)&&h.setValue(we,G.setFromMatrixPosition(e.matrixWorld)),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&u.setValue(we,"isOrthographic",!0===e.isOrthographicCamera),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.isShadowMaterial||r.isSkinnedMesh)&&u.setValue(we,"viewMatrix",e.matrixWorldInverse)),r.isSkinnedMesh&&(u.setOptional(we,r,"bindMatrix"),u.setOptional(we,r,"bindMatrixInverse"),(f=r.skeleton)&&q.floatVertexTextures&&(null===f.boneTexture&&f.computeBoneTexture(),u.setValue(we,"boneTexture",f.boneTexture,ne),u.setValue(we,"boneTextureSize",f.boneTextureSize))),(void 0!==(p=n.morphAttributes).position||void 0!==p.normal||void 0!==p.color&&!0===q.isWebGL2)&&me.update(r,n,i,S),!s&&g.receiveShadow===r.receiveShadow||(g.receiveShadow=r.receiveShadow,u.setValue(we,"receiveShadow",r.receiveShadow)),i.isMeshGouraudMaterial&&null!==i.envMap&&(c.envMap.value=a,c.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1),s&&(u.setValue(we,"toneMappingExposure",m.toneMappingExposure),g.needsLights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(c,l),o&&!0===i.fog&&ue.refreshFogUniforms(c,o),ue.refreshMaterialUniforms(c,i,k,P,U),Ao.upload(we,g.uniformsList,c,ne)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(Ao.upload(we,g.uniformsList,c,ne),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&u.setValue(we,"center",r.center),u.setValue(we,"modelViewMatrix",r.modelViewMatrix),u.setValue(we,"normalMatrix",r.normalMatrix),u.setValue(we,"modelMatrix",r.matrixWorld),i.isShaderMaterial||i.isRawShaderMaterial)for(var A,C=i.uniformsGroups,M=0,E=C.length;M<E;M++)q.isWebGL2&&(A=C[M],_e.update(A,S),_e.bind(A,S));return S}(e,t,n,i,r),K.setMaterial(i,a),t=n.index,a=n.attributes.position;if(null===t){if(void 0===a||0===a.count)return}else if(0===t.count)return;var s=1,l=(e=(!0===i.wireframe&&(t=ae.getWireframeAttribute(n),s=2),be.setup(r,i,e,n,t),ve),null!==t&&(l=oe.get(t),(e=ge).setIndex(l)),(null!==t?t:a).count),u=(t=n.drawRange.start*s,a=n.drawRange.count*s,null!==o?o.start*s:0);o=null!==o?o.count*s:1/0,s=Math.max(t,u),l=Math.min(l,t+a,u+o)-1;0!==(t=Math.max(0,l-s+1))&&(r.isMesh?!0===i.wireframe?(K.setLineWidth(i.wireframeLinewidth*W()),e.setMode(1)):e.setMode(4):r.isLine?(a=i.linewidth,K.setLineWidth((a=void 0===a?1:a)*W()),r.isLineSegments?e.setMode(1):r.isLineLoop?e.setMode(2):e.setMode(3)):r.isPoints?e.setMode(0):r.isSprite&&e.setMode(4),r.isInstancedMesh?e.renderInstances(s,t,r.count):n.isInstancedBufferGeometry?(u=Math.min(n.instanceCount,n._maxInstanceCount),e.renderInstances(s,t,u)):e.render(s,t))},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===E?(e.side=M,e.needsUpdate=!0,ze(e,t,n),e.side=C,e.needsUpdate=!0,ze(e,t,n),e.side=E):ze(e,t,n)}(d=he.get(e)).init(),p.push(d),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(m.physicallyCorrectLights),e.traverse((function(t){var i=t.material;if(i)if(Array.isArray(i))for(var r=0;r<i.length;r++)n(i[r],e,t);else n(i,e,t)})),p.pop(),d=null};var ke=null;function Oe(){Le.stop()}function Re(){Le.start()}var Le=new Gi;function Ie(e,t,n,i){var r=e.opaque,a=e.transmissive;e=e.transparent;if(d.setupLightsView(n),0<a.length){var s=r,l=t,u=n,c=q.isWebGL2,h=(c=(null===U&&(U=new Ct(1,1,{generateMipmaps:!0,type:Y.has("EXT_color_buffer_half_float")?Z:Q,minFilter:X,samples:c&&!0===o?4:0})),m.getDrawingBufferSize(H),c?U.setSize(H.x,H.y):U.setSize($e(H.x),$e(H.y)),m.getRenderTarget()),m.setRenderTarget(U),m.clear(),m.toneMapping);m.toneMapping=0,Fe(s,l,u),m.toneMapping=h,ne.updateMultisampleRenderTarget(U),ne.updateRenderTargetMipmap(U),m.setRenderTarget(c)}i&&K.viewport(S.copy(i)),0<r.length&&Fe(r,t,n),0<a.length&&Fe(a,t,n),0<e.length&&Fe(e,t,n),K.buffers.depth.setTest(!0),K.buffers.depth.setMask(!0),K.buffers.color.setMask(!0),K.setPolygonOffset(!1)}function Fe(e,t,n){for(var i=!0===t.isScene?t.overrideMaterial:null,r=0,o=e.length;r<o;r++){var a,s,l,u,c,h,d=(v=e[r]).object,f=v.geometry,p=null===i?v.material:i,v=v.group;d.layers.test(n.layers)&&(c=a=void 0,s=t,l=n,u=f,c=p,h=v,(a=d).onBeforeRender(m,s,l,u,c,h),a.modelViewMatrix.multiplyMatrices(l.matrixWorldInverse,a.matrixWorld),a.normalMatrix.getNormalMatrix(a.modelViewMatrix),c.onBeforeRender(m,s,l,u,a,h),!0===c.transparent&&c.side===E?(c.side=M,c.needsUpdate=!0,m.renderBufferDirect(l,s,u,c,a,h),c.side=C,c.needsUpdate=!0,m.renderBufferDirect(l,s,u,c,a,h),c.side=E):m.renderBufferDirect(l,s,u,c,a,h),a.onAfterRender(m,s,l,u,c,h))}}function ze(e,t,n){!0!==t.isScene&&(t=V);var i=te.get(e),r=d.state.lights,o=d.state.shadowsArray,a=r.state.version,s=(o=le.getParameters(e,r.state,o,t,n),le.getProgramCacheKey(o)),l=i.programs;if(void 0!==(t=(i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=(e.isMeshStandardMaterial?re:ie).get(e.envMap||i.environment),void 0===l&&(e.addEventListener("dispose",Pe),l=new Map,i.programs=l),l.get(s)))){if(i.currentProgram===t&&i.lightsStateVersion===a)return Ne(e,o),t}else o.uniforms=le.getUniforms(e),e.onBuild(n,o,m),e.onBeforeCompile(o,m),t=le.acquireProgram(o,s),l.set(s,t),i.uniforms=o.uniforms;return n=i.uniforms,(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(n.clippingPlanes=de.uniform),Ne(e,o),i.needsLights=(l=e).isMeshLambertMaterial||l.isMeshToonMaterial||l.isMeshPhongMaterial||l.isMeshStandardMaterial||l.isShadowMaterial||l.isShaderMaterial&&!0===l.lights,i.lightsStateVersion=a,i.needsLights&&(n.ambientLightColor.value=r.state.ambient,n.lightProbe.value=r.state.probe,n.directionalLights.value=r.state.directional,n.directionalLightShadows.value=r.state.directionalShadow,n.spotLights.value=r.state.spot,n.spotLightShadows.value=r.state.spotShadow,n.rectAreaLights.value=r.state.rectArea,n.ltc_1.value=r.state.rectAreaLTC1,n.ltc_2.value=r.state.rectAreaLTC2,n.pointLights.value=r.state.point,n.pointLightShadows.value=r.state.pointShadow,n.hemisphereLights.value=r.state.hemi,n.directionalShadowMap.value=r.state.directionalShadowMap,n.directionalShadowMatrix.value=r.state.directionalShadowMatrix,n.spotShadowMap.value=r.state.spotShadowMap,n.spotLightMatrix.value=r.state.spotLightMatrix,n.spotLightMap.value=r.state.spotLightMap,n.pointShadowMap.value=r.state.pointShadowMap,n.pointShadowMatrix.value=r.state.pointShadowMatrix),s=t.getUniforms(),o=Ao.seqWithValue(s.seq,n),i.currentProgram=t,i.uniformsList=o,t}function Ne(e,t){(e=te.get(e)).outputEncoding=t.outputEncoding,e.instancing=t.instancing,e.skinning=t.skinning,e.morphTargets=t.morphTargets,e.morphNormals=t.morphNormals,e.morphColors=t.morphColors,e.morphTargetsCount=t.morphTargetsCount,e.numClippingPlanes=t.numClippingPlanes,e.numIntersection=t.numClipIntersection,e.vertexAlphas=t.vertexAlphas,e.vertexTangents=t.vertexTangents,e.toneMapping=t.toneMapping}Le.setAnimationLoop((function(e){ke&&ke(e)})),"undefined"!=typeof self&&Le.setContext(self),this.setAnimationLoop=function(e){ke=e,Me.setAnimationLoop(e),null===e?Le.stop():Le.start()},Me.addEventListener("sessionstart",Oe),Me.addEventListener("sessionend",Re),this.render=function(e,t){if((void 0===t||!0===t.isCamera)&&!0!==v){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Me.enabled&&!0===Me.isPresenting&&(!0===Me.cameraAutoUpdate&&Me.updateCamera(t),t=Me.getCamera()),!0===e.isScene&&e.onBeforeRender(m,e,t,b),(d=he.get(e,p.length)).init(),p.push(d),j.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),F.setFromProjectionMatrix(j),N=this.localClippingEnabled,z=de.init(this.clippingPlanes,N,t),(h=ce.get(e,f.length)).init(),f.push(h),function e(t,n,i,r){if(!1!==t.visible){var o=t.layers.test(n.layers);if(o)if(t.isGroup)i=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(n);else if(t.isLight)d.pushLight(t),t.castShadow&&d.pushShadow(t);else if(t.isSprite){var a;t.frustumCulled&&!F.intersectsSprite(t)||(r&&G.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j),o=se.update(t),(a=t.material).visible&&h.push(t,o,a,i,G.z,null))}else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==$.render.frame&&(t.skeleton.update(),t.skeleton.frame=$.render.frame),!t.frustumCulled||F.intersectsObject(t))){r&&G.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j);var s=se.update(t),l=t.material;if(Array.isArray(l))for(var u=s.groups,c=0,f=u.length;c<f;c++){var p=u[c],m=l[p.materialIndex];m&&m.visible&&h.push(t,s,m,i,G.z,p)}else l.visible&&h.push(t,s,l,i,G.z,null)}for(var v=t.children,g=0,y=v.length;g<y;g++)e(v[g],n,i,r)}}(e,t,0,m.sortObjects),h.finish(),!0===m.sortObjects&&h.sort(O,R),!0===z&&de.beginShadows();var n=d.state.shadowsArray;if(fe.render(n,e,t),!0===z&&de.endShadows(),!0===this.info.autoReset&&this.info.reset(),pe.render(h,e),d.setupLights(m.physicallyCorrectLights),t.isArrayCamera)for(var i=t.cameras,r=0,o=i.length;r<o;r++){var a=i[r];Ie(h,e,a,a.viewport)}else Ie(h,e,t);null!==b&&(ne.updateMultisampleRenderTarget(b),ne.updateRenderTargetMipmap(b)),!0===e.isScene&&e.onAfterRender(m,e,t),be.resetDefaultState(),_=-1,w=null,p.pop(),d=0<p.length?p[p.length-1]:null,f.pop(),h=0<f.length?f[f.length-1]:null}},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(e,t,n){te.get(e.texture).__webglTexture=t,te.get(e.depthTexture).__webglTexture=n,(t=te.get(e)).__hasExternalTextures=!0,t.__hasExternalTextures&&(t.__autoAllocateDepthBuffer=void 0===n,t.__autoAllocateDepthBuffer||!0===Y.has("WEBGL_multisampled_render_to_texture")&&(t.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){(e=te.get(e)).__webglFramebuffer=t,e.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=(g=n,y=i,!0),o=((b=e)&&(void 0!==(o=te.get(e)).__useDefaultFramebuffer?(K.bindFramebuffer(36160,null),r=!1):void 0===o.__webglFramebuffer?ne.setupRenderTarget(e):o.__hasExternalTextures&&ne.rebindTextures(e,te.get(e.texture).__webglTexture,te.get(e.depthTexture).__webglTexture)),null),a=!1,s=!1;T=e?(((t=e.texture).isData3DTexture||t.isDataArrayTexture)&&(s=!0),t=te.get(e).__webglFramebuffer,e.isWebGLCubeRenderTarget?(o=t[n],a=!0):o=q.isWebGL2&&0<e.samples&&!1===ne.useMultisampledRTT(e)?te.get(e).__webglMultisampledFramebuffer:t,S.copy(e.viewport),A.copy(e.scissor),e.scissorTest):(S.copy(L).multiplyScalar(k).floor(),A.copy(B).multiplyScalar(k).floor(),I),K.bindFramebuffer(36160,o)&&q.drawBuffers&&r&&K.drawBuffers(e,o),K.viewport(S),K.scissor(A),K.setScissorTest(T),a?(t=te.get(e.texture),we.framebufferTexture2D(36160,36064,34069+n,t.__webglTexture,i)):s&&(r=te.get(e.texture),we.framebufferTextureLayer(36160,36064,r.__webglTexture,i||0,n||0)),_=-1},this.readRenderTargetPixels=function(e,t,n,i,r,o,a){if(e&&e.isWebGLRenderTarget){var s=te.get(e).__webglFramebuffer;if(s=e.isWebGLCubeRenderTarget&&void 0!==a?s[a]:s){K.bindFramebuffer(36160,s);try{var l,u=e.texture,c=u.format,h=u.type;c!==ee&&ye.convert(c)!==we.getParameter(35739)||(l=h===Z&&(Y.has("EXT_color_buffer_half_float")||q.isWebGL2&&Y.has("EXT_color_buffer_float")),(h===Q||ye.convert(h)===we.getParameter(35738)||h===J&&(q.isWebGL2||Y.has("OES_texture_float")||Y.has("WEBGL_color_buffer_float"))||l)&&0<=t&&t<=e.width-i&&0<=n&&n<=e.height-r&&we.readPixels(t,n,i,r,ye.convert(c),ye.convert(h),o))}finally{a=null!==b?te.get(b).__webglFramebuffer:null,K.bindFramebuffer(36160,a)}}}},this.copyFramebufferToTexture=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=Math.pow(2,-n),r=Math.floor(t.image.width*i);i=Math.floor(t.image.height*i);ne.setTexture2D(t,0),we.copyTexSubImage2D(3553,n,0,0,e.x,e.y,r,i),K.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,r=t.image.width,o=t.image.height,a=ye.convert(n.format),s=ye.convert(n.type);ne.setTexture2D(n,0),we.pixelStorei(37440,n.flipY),we.pixelStorei(37441,n.premultiplyAlpha),we.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?we.texSubImage2D(3553,i,e.x,e.y,r,o,a,s,t.image.data):t.isCompressedTexture?we.compressedTexSubImage2D(3553,i,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):we.texSubImage2D(3553,i,e.x,e.y,a,s,t.image),0===i&&n.generateMipmaps&&we.generateMipmap(3553),K.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,i){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;if(!m.isWebGL1Renderer){var o,a=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=ye.convert(i.format),c=ye.convert(i.type);if(i.isData3DTexture)ne.setTexture3D(i,0),o=32879;else{if(!i.isDataArrayTexture)return;ne.setTexture2DArray(i,0),o=35866}we.pixelStorei(37440,i.flipY),we.pixelStorei(37441,i.premultiplyAlpha),we.pixelStorei(3317,i.unpackAlignment);var h=we.getParameter(3314),d=we.getParameter(32878),f=we.getParameter(3316),p=we.getParameter(3315),v=we.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;we.pixelStorei(3314,g.width),we.pixelStorei(32878,g.height),we.pixelStorei(3316,e.min.x),we.pixelStorei(3315,e.min.y),we.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?we.texSubImage3D(o,r,t.x,t.y,t.z,a,s,l,u,c,g.data):n.isCompressedTexture?we.compressedTexSubImage3D(o,r,t.x,t.y,t.z,a,s,l,u,g.data):we.texSubImage3D(o,r,t.x,t.y,t.z,a,s,l,u,c,g),we.pixelStorei(3314,h),we.pixelStorei(32878,d),we.pixelStorei(3316,f),we.pixelStorei(3315,p),we.pixelStorei(32877,v),0===r&&i.generateMipmaps&&we.generateMipmap(o),K.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?ne.setTextureCube(e,0):e.isData3DTexture?ne.setTexture3D(e,0):e.isDataArrayTexture?ne.setTexture2DArray(e,0):ne.setTexture2D(e,0),K.unbindTexture()},this.resetState=function(){y=g=0,b=null,K.reset(),be.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(function(){h(t,ma);var e=f(t);function t(){return b(this,t),e.apply(this,arguments)}return w(t)})().prototype.isWebGL1Renderer=!0;var va=function(){h(t,On);var e=f(t);function t(){var n;return b(this,t),(n=e.call(this)).isScene=!0,n.type="Scene",n.background=null,n.environment=null,n.fog=null,n.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:p(n)})),n}return w(t,[{key:"copy",value:function(e,n){return c(v(t.prototype),"copy",this).call(this,e,n),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){return e=c(v(t.prototype),"toJSON",this).call(this,e),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}},{key:"autoUpdate",get:function(){return this.matrixWorldAutoUpdate},set:function(e){this.matrixWorldAutoUpdate=e}}]),t}(),ga=function(){function e(t,n){b(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=qe()}return w(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}},{key:"set",value:function(e){return this.array.set(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0),this}},{key:"clone",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=qe()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer),e=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),(e=new this.constructor(e,this.stride)).setUsage(this.usage),e}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=qe()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),ya=new Dt,ba=function(){function e(t,n,i){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];b(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=i,this.normalized=!0===r}return w(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)ya.fromBufferAttribute(this,t),ya.applyMatrix4(e),this.setXYZ(t,ya.x,ya.y,ya.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)ya.fromBufferAttribute(this,t),ya.applyNormalMatrix(e),this.setXYZ(t,ya.x,ya.y,ya.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)ya.fromBufferAttribute(this,t),ya.transformDirection(e),this.setXYZ(t,ya.x,ya.y,ya.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=tt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=tt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=tt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=tt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){return e=this.data.array[e*this.data.stride+this.offset],this.normalized?et(e,this.array):e}},{key:"getY",value:function(e){return e=this.data.array[e*this.data.stride+this.offset+1],this.normalized?et(e,this.array):e}},{key:"getZ",value:function(e){return e=this.data.array[e*this.data.stride+this.offset+2],this.normalized?et(e,this.array):e}},{key:"getW",value:function(e){return e=this.data.array[e*this.data.stride+this.offset+3],this.normalized?et(e,this.array):e}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=tt(t,this.array),n=tt(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=tt(t,this.array),n=tt(n,this.array),i=tt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}},{key:"setXYZW",value:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=tt(t,this.array),n=tt(n,this.array),i=tt(i,this.array),r=tt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}},{key:"clone",value:function(t){if(void 0!==t)return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);for(var n=[],i=0;i<this.count;i++)for(var r=i*this.data.stride+this.offset,o=0;o<this.itemSize;o++)n.push(this.data.array[r+o]);return new Qn(new this.array.constructor(n),this.itemSize,this.normalized)}},{key:"toJSON",value:function(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};for(var t=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)t.push(this.data.array[i+r]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}}]),e}(),_a=new Dt,wa=new At,xa=new At,Sa=new Dt,Aa=new sn,Ca=function(){h(t,Ai);var e=f(t);function t(n,i){return b(this,t),(n=e.call(this,n,i)).isSkinnedMesh=!0,n.type="SkinnedMesh",n.bindMode="attached",n.bindMatrix=new sn,n.bindMatrixInverse=new sn,n}return w(t,[{key:"copy",value:function(e,n){return c(v(t.prototype),"copy",this).call(this,e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new At,t=this.geometry.attributes.skinWeight,n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);var r=1/e.manhattanLength();r!=1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){c(v(t.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,i=this.geometry;wa.fromBufferAttribute(i.attributes.skinIndex,e),xa.fromBufferAttribute(i.attributes.skinWeight,e),_a.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var r=0;r<4;r++){var o,a=xa.getComponent(r);0!==a&&(o=wa.getComponent(r),Aa.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(Sa.copy(_a).applyMatrix4(Aa),a))}return t.applyMatrix4(this.bindMatrixInverse)}}]),t}(),Ma=function(){h(t,On);var e=f(t);function t(){var n;return b(this,t),(n=e.call(this)).isBone=!0,n.type="Bone",n}return w(t)}(),Ea=function(){h(t,St);var e=f(t);function t(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0,s=5<arguments.length?arguments[5]:void 0,l=6<arguments.length?arguments[6]:void 0,u=7<arguments.length?arguments[7]:void 0,c=8<arguments.length&&void 0!==arguments[8]?arguments[8]:G,h=9<arguments.length&&void 0!==arguments[9]?arguments[9]:G,d=10<arguments.length?arguments[10]:void 0,f=11<arguments.length?arguments[11]:void 0;return b(this,t),(s=e.call(this,null,s,l,u,c,h,o,a,d,f)).isDataTexture=!0,s.image={data:n,width:i,height:r},s.generateMipmaps=!1,s.flipY=!1,s.unpackAlignment=1,s}return w(t)}(),Ta=new sn,Da=new sn,Pa=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];b(this,e),this.uuid=qe(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return w(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new sn)}}},{key:"calculateInverses",value:function(){for(var e=this.boneInverses.length=0,t=this.bones.length;e<t;e++){var n=new sn;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var i=0,r=this.bones.length;i<r;i++){var o=this.bones[i];o&&(o.parent&&o.parent.isBone?(o.matrix.copy(o.parent.matrixWorld).invert(),o.matrix.multiply(o.matrixWorld)):o.matrix.copy(o.matrixWorld),o.matrix.decompose(o.position,o.quaternion,o.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,o=e.length;r<o;r++){var a=e[r]?e[r].matrixWorld:Da;Ta.multiplyMatrices(a,t[r]),Ta.toArray(n,16*r)}null!==i&&(i.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Ze(Math.sqrt(4*this.bones.length)),t=(e=Math.max(e,4),new Float32Array(e*e*4)),n=(t.set(this.boneMatrices),new Ea(t,e,e,ee,J));return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var i=this.bones[t];if(i.name===e)return i}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,i=e.bones.length;n<i;n++){var r;void 0===(r=t[r=e.bones[n]])&&(r=new Ma),this.bones.push(r),this.boneInverses.push((new sn).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){for(var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]},t=(e.uuid=this.uuid,this.bones),n=this.boneInverses,i=0,r=t.length;i<r;i++){var o=t[i];o=(e.bones.push(o.uuid),n[i]);e.boneInverses.push(o.toArray())}return e}}]),e}(),ka=function(){h(t,Qn);var e=f(t);function t(n,i,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return b(this,t),(n=e.call(this,n,i,r)).isInstancedBufferAttribute=!0,n.meshPerAttribute=o,n}return w(t,[{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=c(v(t.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),t}(),Oa=new sn,Ra=new sn,La=[],Ba=new Ai,Ia=function(){h(t,Ai);var e=f(t);function t(n,i,r){return b(this,t),(n=e.call(this,n,i)).isInstancedMesh=!0,n.instanceMatrix=new ka(new Float32Array(16*r),16),n.instanceColor=null,n.count=r,n.frustumCulled=!1,n}return w(t,[{key:"copy",value:function(e,n){return c(v(t.prototype),"copy",this).call(this,e,n),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,i=this.count;if(Ba.geometry=this.geometry,Ba.material=this.material,void 0!==Ba.material)for(var r=0;r<i;r++){this.getMatrixAt(r,Oa),Ra.multiplyMatrices(n,Oa),Ba.matrixWorld=Ra,Ba.raycast(e,La);for(var o=0,a=La.length;o<a;o++){var s=La[o];s.instanceId=r,s.object=this,t.push(s)}La.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new ka(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),t}(),Fa=function(){h(t,Wn);var e=f(t);function t(n){var i;return b(this,t),(i=e.call(this)).isLineBasicMaterial=!0,i.type="LineBasicMaterial",i.color=new yt(16777215),i.linewidth=1,i.linecap="round",i.linejoin="round",i.fog=!0,i.setValues(n),i}return w(t,[{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),t}(),za=new Dt,Na=new Dt,Ua=new sn,ja=new an,Ha=new Jt,Ga=function(){h(t,On);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ai,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Fa;return b(this,t),(n=e.call(this)).isLine=!0,n.type="Line",n.geometry=i,n.material=r,n.updateMorphTargets(),n}return w(t,[{key:"copy",value:function(e,n){return c(v(t.prototype),"copy",this).call(this,e,n),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],i=1,r=t.count;i<r;i++)za.fromBufferAttribute(t,i-1),Na.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=za.distanceTo(Na);e.setAttribute("lineDistance",new Zn(n,1))}return this}},{key:"raycast",value:function(e,t){var n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ha.copy(n.boundingSphere),Ha.applyMatrix4(i),Ha.radius+=r,!1!==e.ray.intersectsSphere(Ha)){Ua.copy(i).invert(),ja.copy(e.ray).applyMatrix4(Ua);var a=(i=r/((this.scale.x+this.scale.y+this.scale.z)/3))*i,s=new Dt,l=new Dt,u=new Dt,c=new Dt,h=this.isLineSegments?2:1,d=n.index,f=n.attributes.position;if(null!==d)for(var p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count)-1;p<m;p+=h){var v=d.getX(p),g=d.getX(p+1);s.fromBufferAttribute(f,v),l.fromBufferAttribute(f,g),a<ja.distanceSqToSegment(s,l,c,u)||(c.applyMatrix4(this.matrixWorld),(v=e.ray.origin.distanceTo(c))<e.near||v>e.far||t.push({distance:v,point:u.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this}))}else for(var y,b=Math.max(0,o.start),_=Math.min(f.count,o.start+o.count)-1;b<_;b+=h)s.fromBufferAttribute(f,b),l.fromBufferAttribute(f,b+1),a<ja.distanceSqToSegment(s,l,c,u)||(c.applyMatrix4(this.matrixWorld),(y=e.ray.origin.distanceTo(c))<e.near||y>e.far||t.push({distance:y,point:u.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this}))}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(0<t.length){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,r=n.length;i<r;i++){var o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}}]),t}(),Va=new Dt,Wa=new Dt,Ya=function(){h(t,Ga);var e=f(t);function t(n,i){return b(this,t),(n=e.call(this,n,i)).isLineSegments=!0,n.type="LineSegments",n}return w(t,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],i=0,r=t.count;i<r;i+=2)Va.fromBufferAttribute(t,i),Wa.fromBufferAttribute(t,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+Va.distanceTo(Wa);e.setAttribute("lineDistance",new Zn(n,1))}return this}}]),t}(),qa=function(){h(t,Ga);var e=f(t);function t(n,i){return b(this,t),(n=e.call(this,n,i)).isLineLoop=!0,n.type="LineLoop",n}return w(t)}(),Xa=function(){h(t,Wn);var e=f(t);function t(n){var i;return b(this,t),(i=e.call(this)).isPointsMaterial=!0,i.type="PointsMaterial",i.color=new yt(16777215),i.map=null,i.alphaMap=null,i.size=1,i.sizeAttenuation=!0,i.fog=!0,i.setValues(n),i}return w(t,[{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),t}(),Qa=new sn,Ka=new an,Ja=new Jt,Za=new Dt,$a=function(){h(t,On);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ai,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Xa;return b(this,t),(n=e.call(this)).isPoints=!0,n.type="Points",n.geometry=i,n.material=r,n.updateMorphTargets(),n}return w(t,[{key:"copy",value:function(e,n){return c(v(t.prototype),"copy",this).call(this,e,n),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ja.copy(n.boundingSphere),Ja.applyMatrix4(i),Ja.radius+=r,!1!==e.ray.intersectsSphere(Ja)){Qa.copy(i).invert(),Ka.copy(e.ray).applyMatrix4(Qa);var a=(r=r/((this.scale.x+this.scale.y+this.scale.z)/3))*r,s=n.index,l=n.attributes.position;if(null!==s)for(var u=Math.max(0,o.start),c=Math.min(s.count,o.start+o.count);u<c;u++){var h=s.getX(u);Za.fromBufferAttribute(l,h),es(Za,h,a,i,e,t,this)}else for(var d=Math.max(0,o.start),f=Math.min(l.count,o.start+o.count);d<f;d++)Za.fromBufferAttribute(l,d),es(Za,d,a,i,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(0<t.length){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,r=n.length;i<r;i++){var o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}}]),t}();function es(e,t,n,i,r,o,a){var s=Ka.distanceSqToPoint(e);s<n&&(n=new Dt,Ka.closestPointToPoint(e,n),n.applyMatrix4(i),(e=r.ray.origin.distanceTo(n))<r.near||e>r.far||o.push({distance:e,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:a}))}var ts=function(){function e(){b(this,e),this.type="Curve",this.arcLengthDivisions=200}return w(e,[{key:"getPoint",value:function(){return null}},{key:"getPointAt",value:function(e,t){return e=this.getUtoTmapping(e),this.getPoint(e,t)}},{key:"getPoints",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],i=this.getPoint(0),r=0;n.push(0);for(var o=1;o<=e;o++)r+=(t=this.getPoint(o/e)).distanceTo(i),n.push(r),i=t;return this.cacheArcLengths=n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){for(var n,i=this.getLengths(),r=0,o=i.length,a=t||e*i[o-1],s=0,l=o-1;s<=l;)if((n=i[r=Math.floor(s+(l-s)/2)]-a)<0)s=r+1;else{if(!(0<n)){l=r;break}l=r-1}return i[r=l]===a?r/(o-1):(r+(a-(t=i[r]))/(i[r+1]-t))/(o-1)}},{key:"getTangent",value:function(e,t){var n=e-1e-4;1<(e=e+1e-4)&&(e=1),n=this.getPoint(n=n<0?0:n),e=this.getPoint(e);return(t=t||new(n.isVector2?it:Dt)).copy(e).sub(n).normalize(),t}},{key:"getTangentAt",value:function(e,t){return e=this.getUtoTmapping(e),this.getTangent(e,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new Dt,i=[],r=[],o=[],a=new Dt,s=new sn,l=0;l<=e;l++)i[l]=this.getTangentAt(l/e,new Dt);r[0]=new Dt,o[0]=new Dt;var u=Number.MAX_VALUE,c=Math.abs(i[0].x),h=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=u&&(u=c,n.set(1,0,0)),h<=u&&(u=h,n.set(0,1,0)),d<=u&&n.set(0,0,1),a.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],a),o[0].crossVectors(i[0],r[0]);for(var f,p=1;p<=e;p++)r[p]=r[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(i[p-1],i[p]),a.length()>Number.EPSILON&&(a.normalize(),f=Math.acos(Xe(i[p-1].dot(i[p]),-1,1)),r[p].applyMatrix4(s.makeRotationAxis(a,f))),o[p].crossVectors(i[p],r[p]);if(!0===t){var m=Math.acos(Xe(r[0].dot(r[e]),-1,1));m/=e,0<i[0].dot(a.crossVectors(r[0],r[e]))&&(m=-m);for(var v=1;v<=e;v++)r[v].applyMatrix4(s.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],r[v])}return{tangents:i,normals:r,binormals:o}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),ns=function(){h(t,ts);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=6<arguments.length&&void 0!==arguments[6]&&arguments[6],c=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0;return b(this,t),(n=e.call(this)).isEllipseCurve=!0,n.type="EllipseCurve",n.aX=i,n.aY=r,n.xRadius=o,n.yRadius=a,n.aStartAngle=s,n.aEndAngle=l,n.aClockwise=u,n.aRotation=c,n}return w(t,[{key:"getPoint",value:function(e,t){t=t||new it;for(var n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,r=Math.abs(i)<Number.EPSILON;i<0;)i+=n;for(;n<i;)i-=n;i<Number.EPSILON&&(i=r?0:n),!0!==this.aClockwise||r||(i===n?i=-n:i-=n);var o,a,s,l;r=this.aStartAngle+e*i,e=this.aX+this.xRadius*Math.cos(r),r=this.aY+this.yRadius*Math.sin(r);return 0!==this.aRotation&&(o=Math.cos(this.aRotation),a=Math.sin(this.aRotation),e=(s=e-this.aX)*o-(l=r-this.aY)*a+this.aX,r=s*a+l*o+this.aY),t.set(e,r)}},{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=c(v(t.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return c(v(t.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),t}();t=function(){h(t,ns);var e=f(t);function t(n,i,r,o,a,s){return b(this,t),(n=e.call(this,n,i,r,r,o,a,s)).isArcCurve=!0,n.type="ArcCurve",n}return w(t)}();function is(){var e=0,t=0,n=0,i=0;function r(r,o,a,s){n=-3*(e=r)+3*o-2*(t=a)-s,i=2*r-2*o+a+s}return{initCatmullRom:function(e,t,n,i,o){r(t,n,o*(n-e),o*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,o,a,s){e=(t-e)/o-(n-e)/(o+a)+(n-t)/a,o=(n-t)/a-(i-t)/(a+s)+(i-n)/s,r(t,n,e*=a,o*=a)},calc:function(r){var o=r*r;return e+t*r+n*o+i*(o*r)}}}var rs=new Dt,os=new is,as=new is,ss=new is,ls=function(){h(t,ts);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"centripetal",a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.5;return b(this,t),(n=e.call(this)).isCatmullRomCurve3=!0,n.type="CatmullRomCurve3",n.points=i,n.closed=r,n.curveType=o,n.tension=a,n}return w(t,[{key:"getPoint",value:function(e){var t,n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Dt,r=this.points,o=r.length,a=(e=(e=(o-(this.closed?0:1))*e)-(l=Math.floor(e)),this.closed?l+=0<l?0:(Math.floor(Math.abs(l)/o)+1)*o:0===e&&l===o-1&&(l=o-2,e=1),t=this.closed||0<l?r[(l-1)%o]:(rs.subVectors(r[0],r[1]).add(r[0]),rs),r[l%o]),s=r[(l+1)%o],l=this.closed||l+2<o?r[(l+2)%o]:(rs.subVectors(r[o-1],r[o-2]).add(r[o-1]),rs);return"centripetal"===this.curveType||"chordal"===this.curveType?(r="chordal"===this.curveType?.5:.25,o=Math.pow(t.distanceToSquared(a),r),(n=Math.pow(a.distanceToSquared(s),r))<1e-4&&(n=1),o<1e-4&&(o=n),(r=Math.pow(s.distanceToSquared(l),r))<1e-4&&(r=n),os.initNonuniformCatmullRom(t.x,a.x,s.x,l.x,o,n,r),as.initNonuniformCatmullRom(t.y,a.y,s.y,l.y,o,n,r),ss.initNonuniformCatmullRom(t.z,a.z,s.z,l.z,o,n,r)):"catmullrom"===this.curveType&&(os.initCatmullRom(t.x,a.x,s.x,l.x,this.tension),as.initCatmullRom(t.y,a.y,s.y,l.y,this.tension),ss.initCatmullRom(t.z,a.z,s.z,l.z,this.tension)),i.set(os.calc(e),as.calc(e),ss.calc(e)),i}},{key:"copy",value:function(e){c(v(t.prototype),"copy",this).call(this,e),this.points=[];for(var n=0,i=e.points.length;n<i;n++){var r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=c(v(t.prototype),"toJSON",this).call(this);e.points=[];for(var n=0,i=this.points.length;n<i;n++){var r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){c(v(t.prototype),"fromJSON",this).call(this,e),this.points=[];for(var n=0,i=e.points.length;n<i;n++){var r=e.points[n];this.points.push((new Dt).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),t}();function us(e,t,n,i,r){var o=e*e;return(2*n-2*i+(t=.5*(i-t))+(r=.5*(r-n)))*(e*o)+(-3*n+3*i-2*t-r)*o+t*e+n}function cs(e,t,n,i){return(r=1-(r=e))*r*t+2*(1-e)*e*n+e*e*i;var r}function hs(e,t,n,i,r){return(o=1-(o=e))*o*o*t+3*(o=1-e)*o*e*n+3*(1-e)*e*e*i+e*e*e*r;var o}n=function(){h(t,ts);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new it,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new it,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new it,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new it;return b(this,t),(n=e.call(this)).isCubicBezierCurve=!0,n.type="CubicBezierCurve",n.v0=i,n.v1=r,n.v2=o,n.v3=a,n}return w(t,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new it,n=this.v0,i=this.v1,r=this.v2,o=this.v3;return t.set(hs(e,n.x,i.x,r.x,o.x),hs(e,n.y,i.y,r.y,o.y)),t}},{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=c(v(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return c(v(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),t}();var ds=function(){h(t,ts);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Dt,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Dt,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Dt,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new Dt;return b(this,t),(n=e.call(this)).isCubicBezierCurve3=!0,n.type="CubicBezierCurve3",n.v0=i,n.v1=r,n.v2=o,n.v3=a,n}return w(t,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Dt,n=this.v0,i=this.v1,r=this.v2,o=this.v3;return t.set(hs(e,n.x,i.x,r.x,o.x),hs(e,n.y,i.y,r.y,o.y),hs(e,n.z,i.z,r.z,o.z)),t}},{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=c(v(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return c(v(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),t}(),fs=function(){h(t,ts);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new it,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new it;return b(this,t),(n=e.call(this)).isLineCurve=!0,n.type="LineCurve",n.v1=i,n.v2=r,n}return w(t,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new it;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){return(t=t||new it).copy(this.v2).sub(this.v1).normalize(),t}},{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=c(v(t.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return c(v(t.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),t}(),ps=function(){h(t,ts);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Dt,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Dt;return b(this,t),(n=e.call(this)).isLineCurve3=!0,n.type="LineCurve3",n.v1=i,n.v2=r,n}return w(t,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Dt;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=c(v(t.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return c(v(t.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),t}(),ms=function(){h(t,ts);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new it,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new it,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new it;return b(this,t),(n=e.call(this)).isQuadraticBezierCurve=!0,n.type="QuadraticBezierCurve",n.v0=i,n.v1=r,n.v2=o,n}return w(t,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new it,n=this.v0,i=this.v1,r=this.v2;return t.set(cs(e,n.x,i.x,r.x),cs(e,n.y,i.y,r.y)),t}},{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=c(v(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return c(v(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),t}(),vs=function(){h(t,ts);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Dt,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Dt,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Dt;return b(this,t),(n=e.call(this)).isQuadraticBezierCurve3=!0,n.type="QuadraticBezierCurve3",n.v0=i,n.v1=r,n.v2=o,n}return w(t,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Dt,n=this.v0,i=this.v1,r=this.v2;return t.set(cs(e,n.x,i.x,r.x),cs(e,n.y,i.y,r.y),cs(e,n.z,i.z,r.z)),t}},{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=c(v(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return c(v(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),t}(),gs=function(){h(t,ts);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return b(this,t),(n=e.call(this)).isSplineCurve=!0,n.type="SplineCurve",n.points=i,n}return w(t,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new it,n=(e=((a=this.points).length-1)*e,Math.floor(e)),i=(e=e-n,a[0===n?n:n-1]),r=a[n],o=a[n>a.length-2?a.length-1:n+1],a=a[n>a.length-3?a.length-1:n+2];return t.set(us(e,i.x,r.x,o.x,a.x),us(e,i.y,r.y,o.y,a.y)),t}},{key:"copy",value:function(e){c(v(t.prototype),"copy",this).call(this,e),this.points=[];for(var n=0,i=e.points.length;n<i;n++){var r=e.points[n];this.points.push(r.clone())}return this}},{key:"toJSON",value:function(){var e=c(v(t.prototype),"toJSON",this).call(this);e.points=[];for(var n=0,i=this.points.length;n<i;n++){var r=this.points[n];e.points.push(r.toArray())}return e}},{key:"fromJSON",value:function(e){c(v(t.prototype),"fromJSON",this).call(this,e),this.points=[];for(var n=0,i=e.points.length;n<i;n++){var r=e.points[n];this.points.push((new it).fromArray(r))}return this}}]),t}(),ys=Object.freeze({__proto__:null,ArcCurve:t,CatmullRomCurve3:ls,CubicBezierCurve:n,CubicBezierCurve3:ds,EllipseCurve:ns,LineCurve:fs,LineCurve3:ps,QuadraticBezierCurve:ms,QuadraticBezierCurve3:vs,SplineCurve:gs}),bs=function(){h(t,ai);var e=f(t);function t(){for(var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=(b(this,t),(n=e.call(this)).type="PolyhedronGeometry",n.parameters={vertices:i,indices:r,radius:o,detail:a},[]),l=[],u=a,c=new Dt,h=new Dt,d=new Dt,f=0;f<r.length;f+=3){$(r[f+0],c),$(r[f+1],h),$(r[f+2],d),T=E=M=C=A=S=x=w=_=y=g=v=m=p=void 0;for(var p=c,m=h,v=d,g=u,y=g+1,_=[],w=0;w<=y;w++){_[w]=[];for(var x=p.clone().lerp(v,w/y),S=m.clone().lerp(v,w/y),A=y-w,C=0;C<=A;C++)_[w][C]=0===C&&w===y?x:x.clone().lerp(S,C/A)}for(var M=0;M<y;M++)for(var E=0;E<2*(y-M)-1;E++){var T=Math.floor(E/2);E%2==0?(Z(_[M][T+1]),Z(_[M+1][T]),Z(_[M][T])):(Z(_[M][T+1]),Z(_[M+1][T+1]),Z(_[M+1][T]))}}for(var D=o,P=new Dt,k=0;k<s.length;k+=3)P.x=s[k+0],P.y=s[k+1],P.z=s[k+2],P.normalize().multiplyScalar(D),s[k+0]=P.x,s[k+1]=P.y,s[k+2]=P.z;for(var O=new Dt,R=0;R<s.length;R+=3){O.x=s[R+0],O.y=s[R+1],O.z=s[R+2];var L=te(O)/2/Math.PI+.5,B=function(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}(O)/Math.PI+.5;l.push(L,1-B)}for(var I=new Dt,F=new Dt,z=new Dt,N=new Dt,U=new it,j=new it,H=new it,G=0,V=0;G<s.length;G+=9,V+=6){I.set(s[G+0],s[G+1],s[G+2]),F.set(s[G+3],s[G+4],s[G+5]),z.set(s[G+6],s[G+7],s[G+8]),U.set(l[V+0],l[V+1]),j.set(l[V+2],l[V+3]),H.set(l[V+4],l[V+5]),N.copy(I).add(F).add(z).divideScalar(3);var W=te(N);ee(U,V+0,I,W),ee(j,V+2,F,W),ee(H,V+4,z,W)}for(var Y=0;Y<l.length;Y+=6){var q=l[Y+0],X=l[Y+2],Q=l[Y+4],K=Math.max(q,X,Q),J=Math.min(q,X,Q);.9<K&&J<.1&&(q<.2&&(l[Y+0]+=1),X<.2&&(l[Y+2]+=1),Q<.2&&(l[Y+4]+=1))}function Z(e){s.push(e.x,e.y,e.z)}function $(e,t){e*=3,t.x=i[0+e],t.y=i[1+e],t.z=i[2+e]}function ee(e,t,n,i){i<0&&1===e.x&&(l[t]=e.x-1),0===n.x&&0===n.z&&(l[t]=i/2/Math.PI+.5)}function te(e){return Math.atan2(e.z,-e.x)}return n.setAttribute("position",new Zn(s,3)),n.setAttribute("normal",new Zn(s.slice(),3)),n.setAttribute("uv",new Zn(l,2)),0===a?n.computeVertexNormals():n.normalizeNormals(),n}return w(t,null,[{key:"fromJSON",value:function(e){return new t(e.vertices,e.indices,e.radius,e.details)}}]),t}(),_s=function(){h(t,bs);var e=f(t);function t(){var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=1/(n=(b(this,t),(1+Math.sqrt(5))/2));return(n=e.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-n,0,-o,n,0,o,-n,0,o,n,-o,-n,0,-o,n,0,o,-n,0,o,n,0,-n,0,-o,n,0,-o,-n,0,o,n,0,o],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],i,r)).type="DodecahedronGeometry",n.parameters={radius:i,detail:r},n}return w(t,null,[{key:"fromJSON",value:function(e){return new t(e.radius,e.detail)}}]),t}(),ws=function(){h(t,ai);var e=f(t);function t(){for(var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:32,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,u=6<arguments.length&&void 0!==arguments[6]?arguments[6]:Math.PI,c=(b(this,t),(n=e.call(this)).type="SphereGeometry",n.parameters={radius:i,widthSegments:r,heightSegments:o,phiStart:a,phiLength:s,thetaStart:l,thetaLength:u},r=Math.max(3,Math.floor(r)),o=Math.max(2,Math.floor(o)),Math.min(l+u,Math.PI)),h=0,d=[],f=new Dt,p=new Dt,m=[],v=[],g=[],y=[],_=0;_<=o;_++){var w=[],x=_/o,S=0;0==_&&0==l?S=.5/r:_==o&&c==Math.PI&&(S=-.5/r);for(var A=0;A<=r;A++){var C=A/r;f.x=-i*Math.cos(a+C*s)*Math.sin(l+x*u),f.y=i*Math.cos(l+x*u),f.z=i*Math.sin(a+C*s)*Math.sin(l+x*u),v.push(f.x,f.y,f.z),p.copy(f).normalize(),g.push(p.x,p.y,p.z),y.push(C+S,1-x),w.push(h++)}d.push(w)}for(var M=0;M<o;M++)for(var E=0;E<r;E++){var T=d[M][E+1],D=d[M][E],P=d[M+1][E],k=d[M+1][E+1];(0!==M||0<l)&&m.push(T,D,k),(M!==o-1||c<Math.PI)&&m.push(D,P,k)}return n.setIndex(m),n.setAttribute("position",new Zn(v,3)),n.setAttribute("normal",new Zn(g,3)),n.setAttribute("uv",new Zn(y,2)),n}return w(t,null,[{key:"fromJSON",value:function(e){return new t(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),t}(),xs=function(){h(t,ai);var e=f(t);function t(){for(var n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new vs(new Dt(-1,-1,0),new Dt(-1,1,0),new Dt(1,1,0)),r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:64,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:8,s=4<arguments.length&&void 0!==arguments[4]&&arguments[4],l=(b(this,t),(n=e.call(this)).type="TubeGeometry",n.parameters={path:i,tubularSegments:r,radius:o,radialSegments:a,closed:s},i.computeFrenetFrames(r,s)),u=(n.tangents=l.tangents,n.normals=l.normals,n.binormals=l.binormals,new Dt),c=new Dt,h=new it,d=new Dt,f=[],p=[],m=[],v=[],g=0;g<r;g++)E(g);E(!1===s?r:0);for(var y=0;y<=r;y++)for(var _=0;_<=a;_++)h.x=y/r,h.y=_/a,m.push(h.x,h.y);for(var w=1;w<=r;w++)for(var x=1;x<=a;x++){var S=(a+1)*(w-1)+(x-1),A=(a+1)*w+(x-1),C=(a+1)*w+x,M=(a+1)*(w-1)+x;v.push(S,A,M),v.push(A,C,M)}function E(e){d=i.getPointAt(e/r,d);for(var t=l.normals[e],n=l.binormals[e],s=0;s<=a;s++){var h=s/a*Math.PI*2,m=Math.sin(h);h=-Math.cos(h);c.x=h*t.x+m*n.x,c.y=h*t.y+m*n.y,c.z=h*t.z+m*n.z,c.normalize(),p.push(c.x,c.y,c.z),u.x=d.x+o*c.x,u.y=d.y+o*c.y,u.z=d.z+o*c.z,f.push(u.x,u.y,u.z)}}return n.setIndex(v),n.setAttribute("position",new Zn(f,3)),n.setAttribute("normal",new Zn(p,3)),n.setAttribute("uv",new Zn(m,2)),n}return w(t,[{key:"toJSON",value:function(){var e=c(v(t.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new t((new ys[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),t}(),Ss=function(){h(t,Wn);var e=f(t);function t(n){var i;return b(this,t),(i=e.call(this)).isMeshStandardMaterial=!0,i.defines={STANDARD:""},i.type="MeshStandardMaterial",i.color=new yt(16777215),i.roughness=1,i.metalness=0,i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new yt(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=Ne,i.normalScale=new it(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.roughnessMap=null,i.metalnessMap=null,i.alphaMap=null,i.envMap=null,i.envMapIntensity=1,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.flatShading=!1,i.fog=!0,i.setValues(n),i}return w(t,[{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),t}(),As=function(){h(t,Ss);var e=f(t);function t(n){var i;return b(this,t),(i=e.call(this)).isMeshPhysicalMaterial=!0,i.defines={STANDARD:"",PHYSICAL:""},i.type="MeshPhysicalMaterial",i.clearcoatMap=null,i.clearcoatRoughness=0,i.clearcoatRoughnessMap=null,i.clearcoatNormalScale=new it(1,1),i.clearcoatNormalMap=null,i.ior=1.5,Object.defineProperty(p(i),"reflectivity",{get:function(){return Xe(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),i.iridescenceMap=null,i.iridescenceIOR=1.3,i.iridescenceThicknessRange=[100,400],i.iridescenceThicknessMap=null,i.sheenColor=new yt(0),i.sheenColorMap=null,i.sheenRoughness=1,i.sheenRoughnessMap=null,i.transmissionMap=null,i.thickness=0,i.thicknessMap=null,i.attenuationDistance=0,i.attenuationColor=new yt(1,1,1),i.specularIntensity=1,i.specularIntensityMap=null,i.specularColor=new yt(1,1,1),i.specularColorMap=null,i._sheen=0,i._clearcoat=0,i._iridescence=0,i._transmission=0,i.setValues(n),i}return w(t,[{key:"sheen",get:function(){return this._sheen},set:function(e){0<this._sheen!=0<e&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){0<this._clearcoat!=0<e&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){0<this._iridescence!=0<e&&this.version++,this._iridescence=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){0<this._transmission!=0<e&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=function(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),t}(),Cs=function(){h(t,Wn);var e=f(t);function t(n){var i;return b(this,t),(i=e.call(this)).isMeshNormalMaterial=!0,i.type="MeshNormalMaterial",i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=Ne,i.normalScale=new it(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.flatShading=!1,i.setValues(n),i}return w(t,[{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),t}();function Ms(e,t,n){return Ts(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function Es(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Ts(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ds(e){for(var t=e.length,n=new Array(t),i=0;i!==t;++i)n[i]=i;return n.sort((function(t,n){return e[t]-e[n]})),n}function Ps(e,t,n){for(var i=e.length,r=new e.constructor(i),o=0,a=0;a!==i;++o)for(var s=n[o]*t,l=0;l!==t;++l)r[a++]=e[s+l];return r}function ks(e,t,n,i){for(var r=1,o=e[0];void 0!==o&&void 0===o[i];)o=e[r++];if(void 0!==o){var a=o[i];if(void 0!==a)if(Array.isArray(a))for(;void 0!==(a=o[i])&&(t.push(o.time),n.push.apply(n,a)),void 0!==(o=e[r++]););else if(void 0!==a.toArray)for(;void 0!==(a=o[i])&&(t.push(o.time),a.toArray(n,n.length)),void 0!==(o=e[r++]););else for(;void 0!==(a=o[i])&&(t.push(o.time),n.push(a)),void 0!==(o=e[r++]););}}var Os=function(){function e(t,n,i,r){b(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}return w(e,[{key:"evaluate",value:function(e){var t,n=this.parameterPositions,i=this._cachedIndex,r=n[i],o=n[i-1];e:{t:{n:{i:if(!(e<r)){for(var a=i+2;;){if(void 0===r){if(e<o)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(o=r,e<(r=n[++i]))break t}t=n.length;break n}if(o<=e)break e;var s=n[1];e<s&&(i=2,o=s);for(var l=i-2;;){if(void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=o,(o=n[--i-1])<=e)break t}t=i,i=0}for(;i<t;){var u=i+t>>>1;e<n[u]?t=u:i=1+u}if(r=n[i],void 0===(o=n[i-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,o,r)}return this.interpolate_(i,o,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i,o=0;o!==i;++o)t[o]=n[r+o];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),Rs=function(){h(t,Os);var e=f(t);function t(n,i,r,o){return b(this,t),(n=e.call(this,n,i,r,o))._weightPrev=-0,n._offsetPrev=-0,n._weightNext=-0,n._offsetNext=-0,n.DefaultSettings_={endingStart:2400,endingEnd:2400},n}return w(t,[{key:"intervalChanged_",value:function(e,t,n){var i=this.parameterPositions,r=e-2,o=e+1,a=i[r],s=i[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:r=e,a=2*t-n;break;case 2402:a=t+i[r=i.length-2]-i[r+1];break;default:r=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=e,s=2*n-t;break;case 2402:s=n+i[o=1]-i[0];break;default:o=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=r*u,this._offsetNext=o*u}},{key:"interpolate_",value:function(e,t,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=this._offsetPrev,c=this._offsetNext,h=(e=this._weightPrev,this._weightNext),d=-e*(t=(i=(n=(n-t)/(i-t))*n)*n)+2*e*i-e*n,f=(1+e)*t+(-1.5-2*e)*i+(-.5+e)*n+1,p=(-1-h)*t+(1.5+h)*i+.5*n,m=h*t-h*i,v=0;v!==a;++v)r[v]=d*o[u+v]+f*o[l+v]+p*o[s+v]+m*o[c+v];return r}}]),t}(),Ls=function(){h(t,Os);var e=f(t);function t(n,i,r,o){return b(this,t),e.call(this,n,i,r,o)}return w(t,[{key:"interpolate_",value:function(e,t,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=(n-t)/(i-t),c=1-u,h=0;h!==a;++h)r[h]=o[l+h]*c+o[s+h]*u;return r}}]),t}(),Bs=function(){h(t,Os);var e=f(t);function t(n,i,r,o){return b(this,t),e.call(this,n,i,r,o)}return w(t,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),t}(),Is=function(){function e(t,n,i,r){if(b(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Es(n,this.TimeBufferType),this.values=Es(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}return w(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Bs(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Ls(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new Rs(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case ke:t=this.InterpolantFactoryMethodDiscrete;break;case Oe:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}}else this.createInterpolant=t;return this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ke;case this.InterpolantFactoryMethodLinear:return Oe;case this.InterpolantFactoryMethodSmooth:return 2302}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n,i=this.times,r=i.length,o=0,a=r-1;o!==r&&i[o]<e;)++o;for(;-1!==a&&i[a]>t;)--a;return++a,0===o&&a===r||(a<=o&&(o=(a=Math.max(a,1))-1),n=this.getValueSize(),this.times=Ms(i,o,a),this.values=Ms(this.values,o*n,a*n)),this}},{key:"validate",value:function(){for(var e=!0,t=this.getValueSize(),n=(t-Math.floor(t)!=0&&(e=!1),this.times),i=this.values,r=n.length,o=(0===r&&(e=!1),null),a=0;a!==r;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){e=!1;break}if(null!==o&&s<o){e=!1;break}o=s}if(void 0!==i&&Ts(i))for(var l=0,u=i.length;l!==u;++l){var c=i[l];if(isNaN(c)){e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Ms(this.times),t=Ms(this.values),n=this.getValueSize(),i=2302===this.getInterpolation(),r=e.length-1,o=1,a=1;a<r;++a){var s=!1,l=e[a];if(l!==e[a+1]&&(1!==a||l!==e[0]))if(i)s=!0;else for(var u=a*n,c=u-n,h=u+n,d=0;d!==n;++d){var f=t[u+d];if(f!==t[c+d]||f!==t[h+d]){s=!0;break}}if(s){if(a!==o){e[o]=e[a];for(var p=a*n,m=o*n,v=0;v!==n;++v)t[m+v]=t[p+v]}++o}}if(0<r){e[o]=e[r];for(var g=r*n,y=o*n,b=0;b!==n;++b)t[y+b]=t[g+b];++o}return o!==e.length?(this.times=Ms(e,0,o),this.values=Ms(t,0,o*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Ms(this.times,0),t=Ms(this.values,0);return(e=new this.constructor(this.name,e,t)).createInterpolant=this.createInterpolant,e}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;return n.toJSON!==this.toJSON?t=n.toJSON(e):(t={name:e.name,times:Es(e.times,Array),values:Es(e.values,Array)},(n=e.getInterpolation())!==e.DefaultInterpolation&&(t.interpolation=n)),t.type=e.ValueTypeName,t}}]),e}(),Fs=(Is.prototype.TimeBufferType=Float32Array,Is.prototype.ValueBufferType=Float32Array,Is.prototype.DefaultInterpolation=Oe,function(){h(t,Is);var e=f(t);function t(){return b(this,t),e.apply(this,arguments)}return w(t)}()),zs=(Fs.prototype.ValueTypeName="bool",Fs.prototype.ValueBufferType=Array,Fs.prototype.DefaultInterpolation=ke,Fs.prototype.InterpolantFactoryMethodLinear=void 0,Fs.prototype.InterpolantFactoryMethodSmooth=void 0,function(){h(t,Is);var e=f(t);function t(){return b(this,t),e.apply(this,arguments)}return w(t)}()),Ns=(zs.prototype.ValueTypeName="color",function(){h(t,Is);var e=f(t);function t(){return b(this,t),e.apply(this,arguments)}return w(t)}()),Us=(Ns.prototype.ValueTypeName="number",function(){h(t,Os);var e=f(t);function t(n,i,r,o){return b(this,t),e.call(this,n,i,r,o)}return w(t,[{key:"interpolate_",value:function(e,t,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(i-t),l=e*a,u=l+a;l!==u;l+=4)Tt.slerpFlat(r,0,o,l-a,o,l,s);return r}}]),t}()),js=function(){h(t,Is);var e=f(t);function t(){return b(this,t),e.apply(this,arguments)}return w(t,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Us(this.times,this.values,this.getValueSize(),e)}}]),t}(),Hs=(js.prototype.ValueTypeName="quaternion",js.prototype.DefaultInterpolation=Oe,js.prototype.InterpolantFactoryMethodSmooth=void 0,function(){h(t,Is);var e=f(t);function t(){return b(this,t),e.apply(this,arguments)}return w(t)}()),Gs=(Hs.prototype.ValueTypeName="string",Hs.prototype.ValueBufferType=Array,Hs.prototype.DefaultInterpolation=ke,Hs.prototype.InterpolantFactoryMethodLinear=void 0,Hs.prototype.InterpolantFactoryMethodSmooth=void 0,function(){h(t,Is);var e=f(t);function t(){return b(this,t),e.apply(this,arguments)}return w(t)}()),Vs=(Gs.prototype.ValueTypeName="vector",function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,i=2<arguments.length?arguments[2]:void 0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2500;b(this,e),this.name=t,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=qe(),this.duration<0&&this.resetDuration()}return w(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var i=this.tracks[t];e=Math.max(e,i.times[i.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,o=n.length;r!==o;++r)t.push(function(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t,n,i=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ns;case"vector":case"vector2":case"vector3":case"vector4":return Gs;case"color":return zs;case"quaternion":return js;case"bool":case"boolean":return Fs;case"string":return Hs}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);return void 0===e.times&&(t=[],n=[],ks(e.keys,t,n,"value"),e.times=t,e.values=n),void 0!==i.parse?i.parse(e):new i(e.name,e.times,e.values,e.interpolation)}(n[r]).scale(i));var a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,i=(e={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},0),r=n.length;i!==r;++i)t.push(Is.toJSON(n[i]));return e}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,i){for(var r=t.length,o=[],a=0;a<r;a++){var s=[],l=((u=[]).push((a+r-1)%r,a,(a+1)%r),s.push(0,1,0),Ds(u)),u=Ps(u,1,l);s=Ps(s,1,l);i||0!==u[0]||(u.push(r),s.push(s[0])),o.push(new Ns(".morphTargetInfluences["+t[a].name+"]",u,s).scale(1/n))}return new this(e,-1,o)}},{key:"findByName",value:function(e,t){var n=e;Array.isArray(e)||(n=e.geometry&&e.geometry.animations||e.animations);for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s,l=e[o],u=l.name.match(r);u&&1<u.length&&((s=i[u=u[1]])||(i[u]=s=[]),s.push(l))}var c,h=[];for(c in i)h.push(this.CreateFromMorphTargetSequence(c,i[c],t,n));return h}},{key:"parseAnimation",value:function(e,t){if(!e)return null;for(var n=function(e,t,n,i,r){var o;0!==n.length&&(ks(n,n=[],o=[],i),0!==n.length&&r.push(new e(t,n,o)))},i=[],r=e.name||"default",o=e.fps||30,a=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h,d={},f=void 0;for(f=0;f<c.length;f++)if(c[f].morphTargets)for(var p=0;p<c[f].morphTargets.length;p++)d[c[f].morphTargets[p]]=-1;for(h in d){for(var m=[],v=[],g=0;g!==c[f].morphTargets.length;++g){var y=c[f];m.push(y.time),v.push(y.morphTarget===h?1:0)}i.push(new Ns(".morphTargetInfluence["+h+"]",m,v))}s=d.length*o}else{var b=".bones["+t[u].name+"]";n(Gs,b+".position",c,"pos",i),n(js,b+".quaternion",c,"rot",i),n(Gs,b+".scale",c,"scl",i)}}return 0===i.length?null:new this(r,s,i,a)}}]),e}()),Ws={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Ys=w((function e(t,n,i){b(this,e);var r=this,o=!1,a=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=i,this.itemStart=function(e){s++,!1===o&&void 0!==r.onStart&&r.onStart(e,a,s),o=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,s),a===s&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){return-1!==(e=u.indexOf(e))&&u.splice(e,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var i=u[t],r=u[t+1];if(i.global&&(i.lastIndex=0),i.test(e))return r}return null}})),qs=new Ys,Xs=function(){function e(t){b(this,e),this.manager=void 0!==t?t:qs,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return w(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(i,r){n.load(e,i,t,r)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),Qs={},Ks=function(){h(t,function(e){var t="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return r(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)}(e)}(Error));var e=f(t);function t(n,i){return b(this,t),(n=e.call(this,n)).response=i,n}return w(t)}(),Js=function(){h(t,Xs);var e=f(t);function t(n){return b(this,t),e.call(this,n)}return w(t,[{key:"load",value:function(e,t,n,i){var r,o,a=this,s=(void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),Ws.get(e));if(void 0!==s)return this.manager.itemStart(e),setTimeout((function(){t&&t(s),a.manager.itemEnd(e)}),0),s;void 0!==Qs[e]?Qs[e].push({onLoad:t,onProgress:n,onError:i}):(Qs[e]=[],Qs[e].push({onLoad:t,onProgress:n,onError:i}),n=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),r=this.mimeType,o=this.responseType,fetch(n).then((function(t){var n,i,r,o,a,s;if(200===t.status||0===t.status)return t.status,"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader?t:(n=Qs[e],i=t.body.getReader(),s=t.headers.get("Content-Length"),r=s?parseInt(s):0,o=0!==r,a=0,s=new ReadableStream({start:function(e){!function t(){i.read().then((function(i){var s=i.done;i=i.value;if(s)e.close();else{a+=i.byteLength;for(var l=new ProgressEvent("progress",{lengthComputable:o,loaded:a,total:r}),u=0,c=n.length;u<c;u++){var h=n[u];h.onProgress&&h.onProgress(l)}e.enqueue(i),t()}}))}()}}),new Response(s));throw new Ks('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(o){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,r)}));case"json":return e.json();default:var t,n;return void 0===r?e.text():(t=(t=/charset="?([^;"\s]*)"?/i.exec(r))&&t[1]?t[1].toLowerCase():void 0,n=new TextDecoder(t),e.arrayBuffer().then((function(e){return n.decode(e)})))}})).then((function(t){Ws.add(e,t);var n=Qs[e];delete Qs[e];for(var i=0,r=n.length;i<r;i++){var o=n[i];o.onLoad&&o.onLoad(t)}})).catch((function(t){var n=Qs[e];if(void 0===n)throw a.manager.itemError(e),t;delete Qs[e];for(var i=0,r=n.length;i<r;i++){var o=n[i];o.onError&&o.onError(t)}a.manager.itemError(e)})).finally((function(){a.manager.itemEnd(e)})),this.manager.itemStart(e))}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),t}(),Zs=function(){h(t,Xs);var e=f(t);function t(n){return b(this,t),e.call(this,n)}return w(t,[{key:"load",value:function(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r,o=this,a=Ws.get(e);return void 0!==a?(o.manager.itemStart(e),setTimeout((function(){t&&t(a),o.manager.itemEnd(e)}),0),a):((r=at("img")).addEventListener("load",s,!1),r.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(r.crossOrigin=this.crossOrigin),o.manager.itemStart(e),r.src=e,r);function s(){u(),Ws.add(e,this),t&&t(this),o.manager.itemEnd(e)}function l(t){u(),i&&i(t),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){r.removeEventListener("load",s,!1),r.removeEventListener("error",l,!1)}}}]),t}(),$s=function(){h(t,Xs);var e=f(t);function t(n){return b(this,t),e.call(this,n)}return w(t,[{key:"load",value:function(e,t,n,i){for(var r=new Li,o=new Zs(this.manager),a=(o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),0),s=0;s<e.length;++s)!function(n){o.load(e[n],(function(e){r.images[n]=e,6==++a&&(r.needsUpdate=!0,t&&t(r))}),void 0,i)}(s);return r}}]),t}(),el=function(){h(t,Xs);var e=f(t);function t(n){return b(this,t),e.call(this,n)}return w(t,[{key:"load",value:function(e,t,n,i){var r=new St,o=new Zs(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(e){r.image=e,r.needsUpdate=!0,void 0!==t&&t(r)}),n,i),r}}]),t}(),tl=function(){h(t,On);var e=f(t);function t(n){var i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return b(this,t),(i=e.call(this)).isLight=!0,i.type="Light",i.color=new yt(n),i.intensity=r,i}return w(t,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,n){return c(v(t.prototype),"copy",this).call(this,e,n),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){return(e=c(v(t.prototype),"toJSON",this).call(this,e)).object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}]),t}(),nl=new sn,il=new Dt,rl=new Dt,ol=function(){function e(t){b(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new it(512,512),this.map=null,this.mapPass=null,this.matrix=new sn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Hi,this._frameExtents=new it(1,1),this._viewportCount=1,this._viewports=[new At(0,0,1,1)]}return w(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;il.setFromMatrixPosition(e.matrixWorld),t.position.copy(il),rl.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(rl),t.updateMatrixWorld(),nl.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nl),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),al=function(){h(t,ol);var e=f(t);function t(){var n;return b(this,t),(n=e.call(this,new Oi(50,1,.5,500))).isSpotLightShadow=!0,n.focus=1,n}return w(t,[{key:"updateMatrices",value:function(e){var n=this.camera,i=2*Ye*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;i===n.fov&&r===n.aspect&&o===n.far||(n.fov=i,n.aspect=r,n.far=o,n.updateProjectionMatrix()),c(v(t.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),t}(),sl=function(){h(t,tl);var e=f(t);function t(n,i){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Math.PI/3,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1;return b(this,t),(n=e.call(this,n,i)).isSpotLight=!0,n.type="SpotLight",n.position.copy(On.DefaultUp),n.updateMatrix(),n.target=new On,n.distance=r,n.angle=o,n.penumbra=a,n.decay=s,n.map=null,n.shadow=new al,n}return w(t,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,n){return c(v(t.prototype),"copy",this).call(this,e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),t}(),ll=new sn,ul=new Dt,cl=new Dt,hl=function(){h(t,ol);var e=f(t);function t(){var n;return b(this,t),(n=e.call(this,new Oi(90,1,.5,500))).isPointLightShadow=!0,n._frameExtents=new it(4,2),n._viewportCount=6,n._viewports=[new At(2,1,1,1),new At(0,1,1,1),new At(3,1,1,1),new At(1,1,1,1),new At(3,0,1,1),new At(1,0,1,1)],n._cubeDirections=[new Dt(1,0,0),new Dt(-1,0,0),new Dt(0,0,1),new Dt(0,0,-1),new Dt(0,1,0),new Dt(0,-1,0)],n._cubeUps=[new Dt(0,1,0),new Dt(0,1,0),new Dt(0,1,0),new Dt(0,1,0),new Dt(0,0,1),new Dt(0,0,-1)],n}return w(t,[{key:"updateMatrices",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),ul.setFromMatrixPosition(e.matrixWorld),n.position.copy(ul),cl.copy(n.position),cl.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(cl),n.updateMatrixWorld(),i.makeTranslation(-ul.x,-ul.y,-ul.z),ll.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ll)}}]),t}(),dl=function(){h(t,tl);var e=f(t);function t(n,i){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return b(this,t),(n=e.call(this,n,i)).isPointLight=!0,n.type="PointLight",n.distance=r,n.decay=o,n.shadow=new hl,n}return w(t,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,n){return c(v(t.prototype),"copy",this).call(this,e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),t}(),fl=function(){h(t,ol);var e=f(t);function t(){var n;return b(this,t),(n=e.call(this,new tr(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,n}return w(t)}(),pl=function(){h(t,tl);var e=f(t);function t(n,i){return b(this,t),(n=e.call(this,n,i)).isDirectionalLight=!0,n.type="DirectionalLight",n.position.copy(On.DefaultUp),n.updateMatrix(),n.target=new On,n.shadow=new fl,n}return w(t,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return c(v(t.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),t}(),ml=function(){h(t,tl);var e=f(t);function t(n,i){return b(this,t),(n=e.call(this,n,i)).isAmbientLight=!0,n.type="AmbientLight",n}return w(t)}(),vl=function(){function e(){b(this,e)}return w(e,null,[{key:"decodeText",value:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),gl=function(){h(t,Xs);var e=f(t);function t(n){return b(this,t),(n=e.call(this,n)).isImageBitmapLoader=!0,n.options={premultiplyAlpha:"none"},n}return w(t,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,o=Ws.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout((function(){t&&t(o),r.manager.itemEnd(e)}),0),o;var a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(r.options,{colorSpaceConversion:"none"}))})).then((function(n){Ws.add(e,n),t&&t(n),r.manager.itemEnd(e)})).catch((function(t){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)})),r.manager.itemStart(e)}}]),t}(),yl=function(){function e(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];b(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return w(e,[{key:"start",value:function(){this.startTime=bl(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e,t=0;return this.autoStart&&!this.running?(this.start(),0):(this.running&&(t=((e=bl())-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t),t)}}]),e}();function bl(){return("undefined"==typeof performance?Date:performance).now()}t="\\[\\]\\.:\\/";var _l=new RegExp("["+t+"]","g"),wl=(n="[^"+t+"]",ds="[^"+t.replace("\\.","")+"]",new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",n)+/(WCOD+)?/.source.replace("WCOD",ds)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",n)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",n)+"$")),xl=["material","materials","bones","map"],Sl=(fs=function(){function e(t,n,i){b(this,e),i=i||Sl.parseTrackName(n),this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return w(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_;void 0!==(n=this._bindings[n])&&n.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),function(){function e(t,n,i){b(this,e),this.path=n,this.parsedPath=i||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return w(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)e[t++]=n[i]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=(l=this.parsedPath).objectName,i=l.propertyName,r=l.propertyIndex;if(t||(t=e.findNode(this.rootNode,l.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var o=l.objectIndex;switch(n){case"materials":if(!t.material)return;if(!t.material.materials)return;t=t.material.materials;break;case"bones":if(!t.skeleton)return;t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;case"map":if(!t.material)return;if(!t.material.map)return;t=t.material.map;break;default:if(void 0===t[n])return;t=t[n]}if(void 0!==o){if(void 0===t[o])return;t=t[o]}}var s=t[i];if(void 0===s)l.nodeName;else{var l=this.Versioning.None,u=(void 0!==(this.targetObject=t).needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate),this.BindingType.Direct);if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return;if(!t.geometry.morphAttributes)return;void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}}}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,i){return new(t&&t.isAnimationObjectGroup?e.Composite:e)(t,n,i)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(_l,"")}},{key:"parseTrackName",value:function(e){if(null===(n=wl.exec(e)))throw new Error("PropertyBinding: Cannot parse trackName: "+e);var t,n,i=(n={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]}).nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i&&(t=n.nodeName.substring(i+1),-1!==xl.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t)),null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}return e.children&&(n=function e(n){for(var i=0;i<n.length;i++){var r=n[i];if(r.name===t||r.uuid===t)return r;if(r=e(r.children))return r}return null}(e.children))?n:null}}]),e}()),Al=(Sl.Composite=fs,Sl.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Sl.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Sl.prototype.GetterByBindingType=[Sl.prototype._getValue_direct,Sl.prototype._getValue_array,Sl.prototype._getValue_arrayElement,Sl.prototype._getValue_toArray],Sl.prototype.SetterByBindingTypeAndVersioning=[[Sl.prototype._setValue_direct,Sl.prototype._setValue_direct_setNeedsUpdate,Sl.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Sl.prototype._setValue_array,Sl.prototype._setValue_array_setNeedsUpdate,Sl.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Sl.prototype._setValue_arrayElement,Sl.prototype._setValue_arrayElement_setNeedsUpdate,Sl.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Sl.prototype._setValue_fromArray,Sl.prototype._setValue_fromArray_setNeedsUpdate,Sl.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1),function(){function e(t){b(this,e),this.value=t}return w(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}()),Cl=function(){function e(t,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1/0;b(this,e),this.ray=new an(t,n),this.near=i,this.far=r,this.camera=null,this.layers=new yn,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return w(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera&&(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t)}},{key:"intersectObject",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return El(e,this,n,t),n.sort(Ml),n}},{key:"intersectObjects",value:function(e){for(var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],i=0,r=e.length;i<r;i++)El(e[i],this,n,t);return n.sort(Ml),n}}]),e}();function Ml(e,t){return e.distance-t.distance}function El(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===i)for(var r=e.children,o=0,a=r.length;o<a;o++)El(r[o],t,n,!0)}var Tl=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return b(this,e),this.radius=t,this.phi=n,this.theta=i,this}return w(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Xe(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Dl=function(){h(t,Ct);var e=f(t);function t(n,i,r){return b(this,t),(n=e.call(this,n,i,r)).samples=4,n}return w(t)}(),Pl=function(){h(t,Et);var e=f(t);function t(n,i,r,o){return b(this,t),e.call(this,n,i,r,o)}return w(t)}(),kl=function(){h(t,ws);var e=f(t);function t(n,i,r,o,a,s,l){return b(this,t),e.call(this,n,i,r,o,a,s,l)}return w(t)}(),Ol=function(){h(t,xs);var e=f(t);function t(n,i,r,o,a){return b(this,t),e.call(this,n,i,r,o,a)}return w(t)}();"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:x}})),"undefined"==typeof window||window.__THREE__||(window.__THREE__=x)},,function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function a(e){return!1!==e}function s(){return"undefined"!=typeof window}function l(e){return ze(e)||Fe(e)}function u(e){return(Ze=g(e,Je))&&On}function c(e,t){return e&&(Je[e]=t)&&Ze&&(Ze[e]=t)||Je}function h(){return 0}function d(e,t){return(e=e.split(",")).forEach(t)||e}function f(e,t,n,i){ot.length&&yt(),e.render(t,n,i||ne&&t<0&&(e._initted||e._startAt)),ot.length&&yt()}function p(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(Qe).length<2?t:Fe(e)?e.trim():e}function m(e){return e}function v(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}function g(e,t){for(var n in t)e[n]=t[n];return e}function y(e,t){for(var n in t)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=je(t[n])?y(e[n]||(e[n]={}),t[n]):t[n]);return e}function b(e,t){var n,i={};for(n in e)n in t||(i[n]=e[n]);return i}function _(e){var t,n=e.parent||re,i=e.keyframes?(t=Ge(e.keyframes),function(e,n){for(var i in n)i in e||"duration"===i&&t||"ease"===i||(e[i]=n[i])}):v;if(a(e.inherit))for(;n;)i(e,n.vars.defaults),n=n.parent||n._dp;return e}function w(e,t,n,i,r){void 0===n&&(n="_first");var o,a=e[i=void 0===i?"_last":i];if(r)for(o=t[r];a&&a[r]>o;)a=a._prev;a?(t._next=a._next,a._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=a,t.parent=t._dp=e}function x(e,t){!e.parent||t&&!e.parent.autoRemoveChildren||e.parent.remove(e),e._act=0}function S(e,t,n,i){e._startAt&&(ne?e._startAt.revert(nt):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))}function A(e){return e._repeat?C(e._tTime,e=e.duration()+e._rDelay)*e:0}function C(e,t){return t=Math.floor(e/=t),e&&t===e?t-1:t}function M(e,t){return(e-t._start)*t._ts+(0<=t._ts?0:t._dirty?t.totalDuration():t._tDur)}function E(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=M(e.rawTime(),t),(!t._dur||I(0,t.totalDuration(),n)-t._tTime>Pe)&&t.render(n,!0)),_t(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)0<=n.rawTime()&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Pe}}function T(e,t,n,i){return t.parent&&x(t),t._start=vt((Ne(n)?n:n||e!==re?L(e,n,t):e._time)+t._delay),t._end=vt(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),w(e,t,"_first","_last",e._sort?"_start":0),k(t)||(e._recent=t),i||E(e,t),e._ts<0&&xt(e,e._tTime),e}function D(e,t){(Je.ScrollTrigger||$e("scrollTrigger",t))&&Je.ScrollTrigger.create(t,e)}function P(e,t,n,i,r){return hn(e,t,r),e._initted?!n&&e._pt&&!ne&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&ue!==Ft.frame?(ot.push(e),e._lazy=[r,i]):void 0:1}function k(e){return"isFromStart"===(e=e.data)||"isStart"===e}function O(e,t,n,i){var r=e._repeat,o=(t=vt(t)||0,e._tTime/e._tDur);return o&&!i&&(e._time*=t/e._dur),e._dur=t,e._tDur=r?r<0?1e10:vt(t*(r+1)+e._rDelay*r):t,0<o&&!i&&xt(e,e._tTime=e._tDur*o),e.parent&&wt(e),n||_t(e.parent,e),e}function R(e){return e instanceof ln?_t(e):O(e,e._dur)}function L(e,t,n){var i,r,o,a=e.labels,s=e._recent||St,l=e.duration()>=De?s.endTime(!1):e._dur;return Fe(t)&&(isNaN(t)||t in a)?(r=t.charAt(0),o="%"===t.substr(-1),i=t.indexOf("="),"<"===r||">"===r?(0<=i&&(t=t.replace(/=/,"")),("<"===r?s._start:s.endTime(0<=s._repeat))+(parseFloat(t.substr(1))||0)*(o?(i<0?s:n).totalDuration()/100:1)):i<0?(t in a||(a[t]=l),a[t]):(r=parseFloat(t.charAt(i-1)+t.substr(i+1)),o&&n&&(r=r/100*(Ge(n)?n[0]:n).totalDuration()),1<i?L(e,t.substr(0,i-1),n)+r:l+r)):null==t?l:+t}function B(e,t,n){var i,r,o=Ne(t[1]),s=(o?2:1)+(e<2?0:1),l=t[s];if(o&&(l.duration=t[1]),l.parent=n,e){for(i=l,r=n;r&&!("immediateRender"in i);)i=r.vars.defaults||{},r=a(r.vars.inherit)&&r.parent;l.immediateRender=a(i.immediateRender),e<2?l.runBackwards=1:l.startAt=t[s-1]}return new pn(t[0],l,t[1+s])}function I(e,t,n){return n<e?e:t<n?t:n}function F(e){return e=Tt(e)[0]||et("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Tt(t,n.querySelectorAll?n:n===e?et("Invalid scope")||se.createElement("div"):e)}}function z(e){var t,n,i,r,o,a,s,l,u;return ze(e)?e:(t=je(e)?e:{each:e},n=Gt(t.ease),i=t.from||0,r=parseFloat(t.base)||0,o={},e=0<i&&i<1,a=isNaN(i)||e,s=t.axis,Fe(u=l=i)?l=u={center:.5,edges:.5,end:1}[i]||0:!e&&a&&(l=i[0],u=i[1]),function(e,c,h){var d,f,p,m,v,g,y,b,_=(h||t).length,w=o[_];if(!w){if(!(b="auto"===t.grid?0:(t.grid||[1,De])[1])){for(g=-De;g<(g=h[b++].getBoundingClientRect().left)&&b<_;);b--}for(w=o[_]=[],d=a?Math.min(b,_)*l-.5:i%b,f=b===De?0:a?_*u/b-.5:i/b|0,y=De,v=g=0;v<_;v++)m=v%b-d,p=f-(v/b|0),w[v]=m=s?Math.abs("y"===s?p:m):Le(m*m+p*p),g<m&&(g=m),m<y&&(y=m);"random"===i&&Dt(w),w.max=g-y,w.min=y,w.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(_<b?_-1:s?"y"===s?_/b:b:Math.max(b,_/b))||0)*("edges"===i?-1:1),w.b=_<0?r-_:r,w.u=Ct(t.amount||t.each)||0,n=n&&_<0?Ht(n):n}return _=(w[e]-w.min)/w.max||0,vt(w.b+(n?n(_):_)*w.v)+w.u})}function N(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=vt(Math.round(parseFloat(n)/e)*e*t);return(i-i%1)/t+(Ne(n)?0:Ct(n))}}function U(e,t){var n,i,r=Ge(e);return!r&&je(e)&&(n=r=e.radius||De,e.values?(e=Tt(e.values),(i=!Ne(e[0]))&&(n*=n)):e=N(e.increment)),At(t,r?ze(e)?function(t){return i=e(t),Math.abs(i-t)<=n?i:t}:function(t){for(var r,o,a=parseFloat(i?t.x:t),s=parseFloat(i?t.y:0),l=De,u=0,c=e.length;c--;)(r=i?(r=e[c].x-a)*r+(o=e[c].y-s)*o:Math.abs(e[c]-a))<l&&(l=r,u=c);return u=!n||l<=n?e[u]:t,i||u===t||Ne(t)?u:u+Ct(t)}:N(e))}function j(e,t,n,i){return At(Ge(e)?!t:!0===n?!!(n=0):!i,(function(){return Ge(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*i)/i}))}function H(e,t,n){return At(n,(function(n){return e[~~t(n)]}))}function G(e,t,n,i,r){var o=t-e,a=i-n;return At(r,(function(t){return n+((t-e)/o*a||0)}))}function V(e,t,n){var i,r,o,a=e.labels,s=De;for(i in a)(r=a[i]-t)<0==!!n&&r&&s>(r=Math.abs(r))&&(o=i,s=r);return o}function W(e,t,n){var i=e.vars,r=i[t],o=ie,a=e._ctx;r&&(t=i[t+"Params"],i=i.callbackScope||e,n&&ot.length&&yt(),a&&(ie=a),e=t?r.apply(i,t):r.call(i),ie=o)}function Y(e){return x(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ne),e.progress()<1&&W(e,"onInterrupt"),e}function q(e,t,n){return(6*(e+=e<0?1:1<e?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*kt+.5|0}function X(e,t,n){var i,r,o,a,s="",l=(e+s).match(Bt),u=t?"hsla(":"rgba(",c=0;if(!l)return e;if(l=l.map((function(e){return(e=Rt(e,t,1))&&u+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(o=Lt(e),(i=n.c).join(s)!==o.c.join(s)))for(a=(r=e.replace(Bt,"1").split(Ye)).length-1;c<a;c++)s+=r[c]+(~i.indexOf(c)?l.shift()||u+"0,0,0,0)":(o.length?o:l.length?l:n).shift());if(!r)for(a=(r=e.split(Bt)).length-1;c<a;c++)s+=r[c]+l[c];return s+r[a]}function Q(e){var t=e.join(" ");if(Bt.lastIndex=0,Bt.test(t))return t=It.test(t),e[1]=X(e[1],t),e[0]=X(e[0],t,Lt(e[1])),!0}function K(e,t){for(var n,i=e._first;i;)i instanceof ln?K(i,t):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===t||(i.timeline?K(i.timeline,t):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=t)),i=i._next}function J(e,t,n,i){var r,o={easeIn:t,easeOut:n=void 0===n?function(e){return 1-t(1-e)}:n,easeInOut:i=void 0===i?function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2}:i};d(e,(function(e){for(var t in Nt[e]=Je[e]=o,Nt[r=e.toLowerCase()]=n,o)Nt[r+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=Nt[e+"."+t]=o[t]}))}function Z(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}}function $(e,t,n){function i(e){return 1===e?1:r*Math.pow(2,-10*e)*Ie((e-o)*a)+1}var r=1<=t?t:1,o=(a=(n||(e?.3:.45))/(t<1?t:1))/ke*(Math.asin(1/r)||0),a=(n="out"===e?i:"in"===e?function(e){return 1-i(1-e)}:Z(i),ke/a);return n.config=function(t,n){return $(e,t,n)},n}function ee(e,t){function n(e){return e?--e*e*((t+1)*e+t)+1:0}void 0===t&&(t=1.70158);var i="out"===e?n:"in"===e?function(e){return 1-n(1-e)}:Z(n);return i.config=function(t){return ee(e,t)},i}n.d(t,"a",(function(){return Ki}));var te,ne,ie,re,oe,ae,se,le,ue,ce,he,de,fe,pe,me,ve,ge,ye,be,_e,we,xe,Se,Ae,Ce,Me,Ee={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Te={duration:.5,overwrite:!1,delay:0},De=1e8,Pe=1/De,ke=2*Math.PI,Oe=ke/4,Re=0,Le=Math.sqrt,Be=Math.cos,Ie=Math.sin,Fe=function(e){return"string"==typeof e},ze=function(e){return"function"==typeof e},Ne=function(e){return"number"==typeof e},Ue=function(e){return void 0===e},je=function(e){return"object"===i(e)},He="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Ge=Array.isArray,Ve=/(?:-?\.?\d|\.)+/gi,We=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ye=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,qe=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Xe=/[+-]=-?[.\d]+/,Qe=/[^,'"\[\]\s]+/gi,Ke=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Je={},Ze={},$e=function(e,t){},et=function(e,t){return!t&&void 0},tt={suppressEvents:!0,isStart:!0,kill:!1},nt={suppressEvents:!0,kill:!1},it={suppressEvents:!0},rt={},ot=[],at={},st={},lt={},ut=30,ct=[],ht="",dt=function(e){var t,n,i=e[0];if(je(i)||ze(i)||(e=[e]),!(t=(i._gsap||{}).harness)){for(n=ct.length;n--&&!ct[n].targetTest(i););t=ct[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new an(e[n],t)))||e.splice(n,1);return e},ft=function(e){return e._gsap||dt(Tt(e))[0]._gsap},pt=function(e,t,n){return(n=e[t])&&ze(n)?e[t]():Ue(n)&&e.getAttribute&&e.getAttribute(t)||n},mt=function(e){return Math.round(1e5*e)/1e5||0},vt=function(e){return Math.round(1e7*e)/1e7||0},gt=function(e,t){var n=t.charAt(0);t=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+t:"-"===n?e-t:"*"===n?e*t:e/t},yt=function(){var e,t,n=ot.length,i=ot.slice(0);for(at={},e=ot.length=0;e<n;e++)(t=i[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},bt=function(e,t,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r=t._prev,o=t._next;r?r._next=o:e[n]===t&&(e[n]=o),o?o._prev=r:e[i]===t&&(e[i]=r),t._next=t._prev=t.parent=null},_t=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},wt=function(e){return e._end=vt(e._start+(e._tDur/Math.abs(e._ts||e._rts||Pe)||0))},xt=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=vt(n._time-(0<e._ts?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),wt(e),n._dirty||_t(n,e)),e},St={_start:0,endTime:h,totalDuration:h},At=function(e,t){return e||0===e?t(e):t},Ct=function(e,t){return Fe(e)&&(t=Ke.exec(e))?t[1]:""},Mt=[].slice,Et=function(e,t){return e&&je(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&je(e[0]))&&!e.nodeType&&e!==oe},Tt=function(e,t,n){return ie&&!t&&ie.selector?ie.selector(e):!Fe(e)||n||!ae&&zt()?Ge(e)?(i=n,void 0===r&&(r=[]),e.forEach((function(e){return Fe(e)&&!i||Et(e,1)?r.push.apply(r,Tt(e)):r.push(e)}))||r):Et(e)?Mt.call(e,0):e?[e]:[]:Mt.call((t||se).querySelectorAll(e),0);var i,r},Dt=function(e){return e.sort((function(){return.5-Math.random()}))},Pt=function(e){for(var t,n,i,r,o=0,a="";~(t=e.indexOf("random(",o));)i=e.indexOf(")",t),r="["===e.charAt(t+7),n=e.substr(t+7,i-t-7).match(r?Qe:Ve),a+=e.substr(o,t-o)+j(r?n:+n[0],r?0:+n[1],+n[2]||1e-5),o=i+1;return a+e.substr(o,e.length-o)},kt=255,Ot={aqua:[0,kt,kt],lime:[0,kt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,kt],navy:[0,0,128],white:[kt,kt,kt],olive:[128,128,0],yellow:[kt,kt,0],orange:[kt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[kt,0,0],pink:[kt,192,203],cyan:[0,kt,kt],transparent:[kt,kt,kt,0]},Rt=function(e,t,n){var i,r,o,a,s,l,u,c=e?Ne(e)?[e>>16,e>>8&kt,e&kt]:0:Ot.black;if(!c){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),Ot[e])c=Ot[e];else if("#"===e.charAt(0)){if(9===(e=e.length<6?"#"+(i=e.charAt(1))+i+(r=e.charAt(2))+r+(o=e.charAt(3))+o+(5===e.length?e.charAt(4)+e.charAt(4):""):e).length)return[(c=parseInt(e.substr(1,6),16))>>16,c>>8&kt,c&kt,parseInt(e.substr(7),16)/255];c=[(e=parseInt(e.substr(1),16))>>16,e>>8&kt,e&kt]}else if("hsl"===e.substr(0,3))if(c=u=e.match(Ve),t){if(~e.indexOf("="))return c=e.match(We),n&&c.length<4&&(c[3]=1),c}else a=+c[0]%360/360,s=+c[1]/100,i=2*(l=+c[2]/100)-(r=l<=.5?l*(s+1):l+s-l*s),3<c.length&&(c[3]*=1),c[0]=q(a+1/3,i,r),c[1]=q(a,i,r),c[2]=q(a-1/3,i,r);else c=e.match(Ve)||Ot.transparent;c=c.map(Number)}return t&&!u&&(i=c[0]/kt,r=c[1]/kt,o=c[2]/kt,l=((e=Math.max(i,r,o))+(t=Math.min(i,r,o)))/2,e===t?a=s=0:(u=e-t,s=.5<l?u/(2-e-t):u/(e+t),a=e===i?(r-o)/u+(r<o?6:0):e===r?(o-i)/u+2:(i-r)/u+4,a*=60),c[0]=~~(a+.5),c[1]=~~(100*s+.5),c[2]=~~(100*l+.5)),n&&c.length<4&&(c[3]=1),c},Lt=function(e){var t=[],n=[],i=-1;return e.split(Bt).forEach((function(e){e=e.match(Ye)||[],t.push.apply(t,e),n.push(i+=e.length+1)})),t.c=n,t},Bt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in Ot)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),It=/hsl[a]?\(/,Ft=(ge=Date.now,ye=500,be=33,_e=ge(),we=_e,Se=xe=1e3/240,Ce={time:0,frame:0,tick:function(){Vt(!0)},deltaRatio:function(e){return me/(1e3/(e||60))},wake:function(){le&&(!ae&&s()&&(oe=ae=window,se=oe.document||{},Je.gsap=On,(oe.gsapVersions||(oe.gsapVersions=[])).push(On.version),u(Ze||oe.GreenSockGlobals||!oe.gsap&&oe||{}),pe=oe.requestAnimationFrame),de&&Ce.sleep(),fe=pe||function(e){return setTimeout(e,Se-1e3*Ce.time+1|0)},he=1,Vt(2))},sleep:function(){(pe?oe.cancelAnimationFrame:clearTimeout)(de),he=0,fe=h},lagSmoothing:function(e,t){ye=e||1/Pe,be=Math.min(t,ye,0)},fps:function(e){xe=1e3/(e||240),Se=1e3*Ce.time+xe},add:function(e,t,n){var i=t?function(t,n,r,o){e(t,n,r,o),Ce.remove(i)}:e;return Ce.remove(e),Ae[n?"unshift":"push"](i),zt(),i},remove:function(e,t){~(t=Ae.indexOf(e))&&Ae.splice(t,1)&&t<=ve&&ve--},_listeners:Ae=[]}),zt=function(){return!he&&Ft.wake()},Nt={},Ut=/^[\d.\-M][\d.\-,\s]/,jt=/["']/g,Ht=function(e){return function(t){return 1-e(1-t)}},Gt=function(e,t){return e&&(ze(e)?e:Nt[e]||function(e){var t,n,i,r=(e+"").split("("),o=Nt[r[0]];return o&&1<r.length&&o.config?o.config.apply(null,~e.indexOf("{")?[function(e){for(var t,n,i,r={},o=e.substr(1,e.length-3).split(":"),a=o[0],s=1,l=o.length;s<l;s++)n=o[s],t=s!==l-1?n.lastIndexOf(","):n.length,i=n.substr(0,t),r[a]=isNaN(i)?i.replace(jt,"").trim():+i,a=n.substr(t+1).trim();return r}(r[1])]:(t=(r=e).indexOf("(")+1,n=r.indexOf(")"),i=r.indexOf("(",t),r.substring(t,~i&&i<n?r.indexOf(")",n+1):n).split(",").map(p))):Nt._CE&&Ut.test(e)?Nt._CE("",e):o}(e))||t};function Vt(e){var t,n,i,r=ge()-we,o=!0===e;if(ye<r&&(_e+=r-be),(0<(r=(n=(we+=r)-_e)-Se)||o)&&(i=++Ce.frame,me=n-1e3*Ce.time,Ce.time=n/=1e3,Se+=r+(xe<=r?4:xe-r),t=1),o||(de=fe(Vt)),t)for(ve=0;ve<Ae.length;ve++)Ae[ve](n,me,i,e)}function Wt(e){return e<1/2.75?Me*e*e:e<1/2.75*2?Me*Math.pow(e-1.5/2.75,2)+.75:e<1/2.75*2.5?Me*(e-=2.25/2.75)*e+.9375:Me*Math.pow(e-2.625/2.75,2)+.984375}function Yt(e,t,n,i,r,o,a,s,l,u){ze(i)&&(i=i(r||0,e,o));var c;r=e[t],o="get"!==n?n:ze(r)?l?e[t.indexOf("set")||!ze(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():r,n=ze(r)?l?gn:vn:mn;if(!Fe(i)||"="!==(i=~i.indexOf("random(")?Pt(i):i).charAt(1)||!(c=gt(o,i)+(Ct(o)||0))&&0!==c||(i=c),!u||o!==i||on)return isNaN(o*i)||""===i?(r||t in e||$e(t,i),un.call(this,e,t,o,i,n,s||Ee.stringFilter,l)):(c=new Sn(this._pt,e,t,+o||0,i-(o||0),"boolean"==typeof r?wn:_n,0,n),l&&(c.fp=l),a&&c.modifier(a,this,e),this._pt=c)}function qt(e,t,n,i,r,o){var a,s,l,u;if(st[e]&&!1!==(a=new st[e]).init(r,a.rawVars?t[e]:cn(t[e],i,r,o,n),n,i,o)&&(n._pt=s=new Sn(n._pt,r,e,0,1,a.render,a,0,a.priority),n!==ce))for(l=n._ptLookup[n._targets.indexOf(r)],u=a._props.length;u--;)l[a._props[u]]=s;return a}function Xt(e,t,n,i,r){return ze(e)?e.call(t,n,i,r):Fe(e)&&~e.indexOf("random(")?Pt(e):e}function Qt(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(1===e&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)}function Kt(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next}function Jt(e,t,n,i){for(var r,o=this._pt;o;)r=o._next,o.p===i&&o.modifier(e,t,n),o=r}function Zt(e){for(var t,n,i=this._pt;i;)n=i._next,i.p===e&&!i.op||i.op===e?bt(this,i,"_pt"):i.dep||(t=1),i=n;return!t}function $t(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)}function en(e){(Cn[e]||Mn).map((function(e){return e()}))}function tn(){var e=Date.now(),t=[];2<e-En&&(en("matchMediaInit"),An.forEach((function(e){var n,i,r,o,a=e.queries,s=e.conditions;for(i in a)(n=oe.matchMedia(a[i]).matches)&&(r=1),n!==s[i]&&(s[i]=n,o=1);o&&(e.revert(),r&&t.push(e))})),en("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e)})),En=e,en("matchMedia"))}function nn(e,t){return{name:e,rawVars:1,init:function(e,n,i){i._onInit=function(e){var i,r;if(Fe(n)&&(i={},d(n,(function(e){return i[e]=1})),n=i),t){for(r in i={},n)i[r]=t(n[r]);n=i}var o,a,s,l=e,u=n,c=l._targets;for(o in u)for(a=c.length;a--;)(s=(s=l._ptLookup[a][o])&&s.d)&&(s=s._pt?kn(s,o):s)&&s.modifier&&s.modifier(u[o],l,c[a],o)}}}}d("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;J(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),Nt.Linear.easeNone=Nt.none=Nt.Linear.easeIn,J("Elastic",$("in"),$("out"),$()),Me=7.5625,J("Bounce",(function(e){return 1-Wt(1-e)}),Wt),J("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),J("Circ",(function(e){return-(Le(1-e*e)-1)})),J("Sine",(function(e){return 1===e?1:1-Be(e*Oe)})),J("Back",ee("in"),ee("out"),ee()),Nt.SteppedEase=Nt.steps=Je.SteppedEase={config:function(e,t){var n=1/(e=void 0===e?1:e),i=e+(t?0:1),r=t?1:0,o=1-Pe;return function(e){return((i*I(0,o,e)|0)+r)*n}}},Te.ease=Nt["quad.out"],d("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return ht+=e+","+e+"Params,"}));var rn,on,an=function(e,t){this.id=Re++,(e._gsap=this).target=e,this.harness=t,this.get=t?t.get:pt,this.set=t?t.getSetter:bn},sn=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,O(this,+e.duration,1,1),this.data=e.data,ie&&(this._ctx=ie).data.push(this),he||Ft.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(0<this._repeat?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,O(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(zt(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(xt(this,e),n._dp&&!n.parent&&E(n,this);n&&n.parent;)n.parent._time!==n._start+(0<=n._ts?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&e<this._tDur||this._ts<0&&0<e||!this._tDur&&!e)&&T(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===Pe||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),f(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+A(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+A(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?C(this._tTime,n)+1:1},t.timeScale=function(e){if(!arguments.length)return this._rts===-Pe?0:this._rts;if(this._rts===e)return this;for(var t=this.parent&&this._ts?M(this.parent._time,this):this._tTime,n=(e=(this._rts=+e||0,this._ts=this._ps||e===-Pe?0:this._rts,this.totalTime(I(-this._delay,this._tDur,t),!0),wt(this),this)).parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},t.paused=function(e){return arguments.length?(this._ps!==e&&((this._ps=e)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(zt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Pe&&(this._tTime-=Pe)))),this):this._ps},t.startTime=function(e){var t;return arguments.length?(this._start=e,!(t=this.parent||this._dp)||!t._sort&&this.parent||T(t,this,e-this._delay),this):this._start},t.endTime=function(e){return this._start+(a(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?M(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){var t=ne;return ne=e=void 0===e?it:e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),ne=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(t._ts||1),t=t._dp;return!this.parent&&this.vars.immediateRender?-1:n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,R(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){var t;return arguments.length?(t=this._time,this._rDelay=e,R(this),t?this.time(t):this):this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(L(this,e),a(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,a(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-Pe:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Pe,this},t.isActive=function(){var e=this.parent||this._dp,t=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(e=e.rawTime(!0))>=t&&e<this.endTime(!0)-Pe))},t.eventCallback=function(e,t,n){var i=this.vars;return 1<arguments.length?(t?(i[e]=t,n&&(i[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete i[e],this):i[e]},t.then=function(e){var t=this;return new Promise((function(n){function i(){var e=t.then;t.then=null,ze(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e}var r=ze(e)?e:m;t._initted&&1===t.totalProgress()&&0<=t._ts||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){Y(this)},e}(),ln=(v(sn.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Pe,_prom:0,_ps:!1,_rts:1}),function(e){function t(t,n){var i;return(i=e.call(this,t=void 0===t?{}:t)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=a(t.sortChildren),re&&T(t.parent||re,r(i),n),t.reversed&&i.reverse(),t.paused&&i.paused(!0),t.scrollTrigger&&D(r(i),t.scrollTrigger),i}o(t,e);var n=t.prototype;return n.to=function(e,t,n){return B(0,arguments,this),this},n.from=function(e,t,n){return B(1,arguments,this),this},n.fromTo=function(e,t,n,i){return B(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,_(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new pn(e,t,L(this,n),1),this},n.call=function(e,t,n){return T(this,pn.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,i,r,o,a){return n.duration=t,n.stagger=n.stagger||i,n.onComplete=o,n.onCompleteParams=a,n.parent=this,new pn(e,n,L(this,r)),this},n.staggerFrom=function(e,t,n,i,r,o,s){return n.runBackwards=1,_(n).immediateRender=a(n.immediateRender),this.staggerTo(e,t,n,i,r,o,s)},n.staggerFromTo=function(e,t,n,i,r,o,s,l){return i.startAt=n,_(i).immediateRender=a(i.immediateRender),this.staggerTo(e,t,i,r,o,s,l)},n.render=function(e,t,n){var i,r,o,a,s,l,u,c,h,d,f=this._time,p=this._dirty?this.totalDuration():this._tDur,m=this._dur,v=e<=0?0:vt(e),g=this._zTime<0!=e<0&&(this._initted||!m);if((v=this!==re&&p<v&&0<=e?p:v)!==this._tTime||n||g){if(f!==this._time&&m&&(v+=this._time-f,e+=this._time-f),i=v,c=this._start,s=!(u=this._ts),g&&(m||(f=this._zTime),!e&&t||(this._zTime=e)),this._repeat){if(g=this._yoyo,a=m+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,t,n);if(i=vt(v%a),v===p?(o=this._repeat,i=m):((o=~~(v/a))&&o===v/a&&(i=m,o--),m<i&&(i=m)),h=C(this._tTime,a),g&&1&o&&(i=m-i,d=1),o!==(h=!f&&this._tTime&&h!==o?o:h)&&!this._lock){var y=g&&1&h;g=y===(g&&1&o),f=(y=o<h?!y:y)?0:m;if(this._lock=1,this.render(f||(d?0:vt(o*a)),t,!m)._lock=0,this._tTime=v,!t&&this.parent&&W(this,"onRepeat"),this.vars.repeatRefresh&&!d&&(this.invalidate()._lock=1),f&&f!==this._time||s!=!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(m=this._dur,p=this._tDur,g&&(this._lock=2,this.render(f=y?m:-1e-4,!0),this.vars.repeatRefresh&&!d&&this.invalidate()),this._lock=0,!this._ts&&!s)return this;K(this,d)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(e,t,n){var i;if(t<n)for(i=e._first;i&&i._start<=n;){if("isPause"===i.data&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if("isPause"===i.data&&i._start<t)return i;i=i._prev}}(this,vt(f),vt(i)))&&(v-=i-(i=l._start)),this._tTime=v,this._time=i,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,f=0),!f&&i&&!t&&(W(this,"onStart"),this._tTime!==v))return this;if(f<=i&&0<=e)for(b=this._first;b;){if(r=b._next,(b._act||i>=b._start)&&b._ts&&l!==b){if(b.parent!==this)return this.render(e,t,n);if(b.render(0<b._ts?(i-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(i-b._start)*b._ts,t,n),i!==this._time||!this._ts&&!s){l=0,r&&(v+=this._zTime=-Pe);break}}b=r}else for(var b=this._last,_=e<0?e:i;b;){if(r=b._prev,(b._act||_<=b._end)&&b._ts&&l!==b){if(b.parent!==this)return this.render(e,t,n);if(b.render(0<b._ts?(_-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(_-b._start)*b._ts,t,n||ne&&(b._initted||b._startAt)),i!==this._time||!this._ts&&!s){l=0,r&&(v+=this._zTime=_?-Pe:Pe);break}}b=r}if(l&&!t&&(this.pause(),l.render(f<=i?0:-Pe)._zTime=f<=i?1:-1,this._ts))return this._start=c,wt(this),this.render(e,t,n);this._onUpdate&&!t&&W(this,"onUpdate",!0),!(v===p&&this._tTime>=this.totalDuration()||!v&&f)||c!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||(!e&&m||!(v===p&&0<this._ts||!v&&this._ts<0)||x(this,1),t||e<0&&!f||!v&&!f&&p||(W(this,v===p&&0<=e?"onComplete":"onReverseComplete",!0),!this._prom||v<p&&0<this.timeScale()||this._prom()))}return this},n.add=function(e,t){var n=this;if(Ne(t)||(t=L(this,t,e)),!(e instanceof sn)){if(Ge(e))return e.forEach((function(e){return n.add(e,t)})),this;if(Fe(e))return this.addLabel(e,t);if(!ze(e))return this;e=pn.delayedCall(0,e)}return this!==e?T(this,e,t):this},n.getChildren=function(e,t,n,i){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===i&&(i=-De);for(var r=[],o=this._first;o;)o._start>=i&&(o instanceof pn?t&&r.push(o):(n&&r.push(o),e&&r.push.apply(r,o.getChildren(!0,t,n)))),o=o._next;return r},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return Fe(e)?this.removeLabel(e):ze(e)?this.killTweensOf(e):(bt(this,e),e===this._recent&&(this._recent=this._last),_t(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=vt(Ft.time-(0<this._ts?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=L(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){return(t=pn.delayedCall(0,t||h,n)).data="isPause",this._hasPause=1,T(this,t,L(this,e))},n.removePause=function(e){var t=this._first;for(e=L(this,e);t;)t._start===e&&"isPause"===t.data&&x(t),t=t._next},n.killTweensOf=function(e,t,n){for(var i=this.getTweensOf(e,n),r=i.length;r--;)rn!==i[r]&&i[r].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,i=[],r=Tt(e),o=this._first,a=Ne(t);o;)o instanceof pn?function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n}(o._targets,r)&&(a?(!rn||o._initted&&o._ts)&&o.globalTime(0)<=t&&o.globalTime(o.totalDuration())>t:!t||o.isActive())&&i.push(o):(n=o.getTweensOf(r,t)).length&&i.push.apply(i,n),o=o._next;return i},n.tweenTo=function(e,t){t=t||{};var n,i=this,r=L(i,e),o=(e=t).startAt,a=e.onStart,s=e.onStartParams,l=(e=e.immediateRender,pn.to(i,v({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:t.duration||Math.abs((r-(o&&"time"in o?o.time:i._time))/i.timeScale())||Pe,onStart:function(){var e;i.pause(),n||(e=t.duration||Math.abs((r-(o&&"time"in o?o.time:i._time))/i.timeScale()),l._dur!==e&&O(l,e,0,1).render(l._time,!0,!0),n=1),a&&a.apply(l,s||[])}},t)));return e?l.render(0):l},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,v({startAt:{time:L(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),V(this,L(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),V(this,L(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+Pe)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var i,r=this._first,o=this.labels;r;)r._start>=n&&(r._start+=e,r._end+=e),r=r._next;if(t)for(i in o)o[i]>=n&&(o[i]+=e);return _t(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),_t(this)},n.totalDuration=function(e){var t,n,i,r=0,o=this,a=o._last,s=De;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(i=o.parent;a;)t=a._prev,a._dirty&&a.totalDuration(),s<(n=a._start)&&o._sort&&a._ts&&!o._lock?(o._lock=1,T(o,a,n-a._delay,1)._lock=0):s=n,n<0&&a._ts&&(r-=n,(!i&&!o._dp||i&&i.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-1/0),s=0),a._end>r&&a._ts&&(r=a._end),a=t;O(o,o===re&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(e){if(re._ts&&(f(re,M(e,re)),ue=Ft.frame),Ft.frame>=ut){ut+=Ee.autoSleep||120;var t=re._first;if((!t||!t._ts)&&Ee.autoSleep&&Ft._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||Ft.sleep()}}},t}(sn)),un=(v(ln.prototype,{_lock:0,_hasPause:0,_forcing:0}),function(e,t,n,i,r,o,a){var s,l,u,c,h,d=new Sn(this._pt,e,t,0,1,Qt,null,r),f=0,p=0;for(d.b=n,d.e=i,n+="",(r=~(i+="").indexOf("random("))&&(i=Pt(i)),o&&(o(o=[n,i],e,t),n=o[0],i=o[1]),s=n.match(qe)||[];c=qe.exec(i);)u=c[0],c=i.substring(f,c.index),l?l=(l+1)%5:"rgba("===c.substr(-5)&&(l=1),u!==s[p++]&&(h=parseFloat(s[p-1])||0,d._pt={_next:d._pt,p:c||1===p?c:",",s:h,c:"="===u.charAt(1)?gt(h,u)-h:parseFloat(u)-h,m:l&&l<4?Math.round:0},f=qe.lastIndex);return d.c=f<i.length?i.substring(f,i.length):"",d.fp=a,(Xe.test(i)||r)&&(d.e=0),this._pt=d}),cn=function(e,t,n,i,r){if(ze(e)&&(e=Xt(e,r,t,n,i)),!je(e)||e.style&&e.nodeType||Ge(e)||He(e))return Fe(e)?Xt(e,r,t,n,i):e;var o,a={};for(o in e)a[o]=Xt(e[o],r,t,n,i);return a},hn=function e(t,n,i){var r,o,s,l,u,c,h,d,f,p,m,g,y,_=t.vars,w=_.ease,S=_.startAt,A=_.immediateRender,C=_.lazy,M=_.onUpdate,E=_.onUpdateParams,T=_.callbackScope,D=_.runBackwards,P=_.yoyoEase,k=_.keyframes,O=_.autoRevert,R=t._dur,L=t._startAt,B=t._targets,I=t.parent,F=I&&"nested"===I.data?I.vars.targets:B,z="auto"===t._overwrite&&!te,N=t.timeline;if(t._ease=Gt(w=!N||k&&w?w:"none",Te.ease),t._yEase=P?Ht(Gt(!0===P?w:P,Te.ease)):0,P&&t._yoyo&&!t._repeat&&(P=t._yEase,t._yEase=t._ease,t._ease=P),t._from=!N&&!!_.runBackwards,!N||k&&!_.stagger){if(g=(d=B[0]?ft(B[0]).harness:0)&&_[d.prop],r=b(_,rt),L&&(L._zTime<0&&L.progress(1),n<0&&D&&A&&!O?L.render(-1,!0):L.revert(D&&R?nt:tt),L._lazy=0),S){if(x(t._startAt=pn.set(B,v({data:"isStart",overwrite:!1,parent:I,immediateRender:!0,lazy:a(C),startAt:null,delay:0,onUpdate:M,onUpdateParams:E,callbackScope:T,stagger:0},S))),n<(t._startAt._dp=0)&&(ne||!A&&!O)&&t._startAt.revert(nt),A&&R&&n<=0&&i<=0)return void(n&&(t._zTime=n))}else if(D&&R&&!L)if(s=v({overwrite:!1,data:"isFromStart",lazy:(A=!n&&A)&&a(C),immediateRender:A,stagger:0,parent:I},r),g&&(s[d.prop]=g),x(t._startAt=pn.set(B,s)),n<(t._startAt._dp=0)&&(ne?t._startAt.revert(nt):t._startAt.render(-1,!0)),t._zTime=n,A){if(!n)return}else e(t._startAt,Pe,Pe);for(t._pt=t._ptCache=0,C=R&&a(C)||C&&!R,o=0;o<B.length;o++){if(h=(u=B[o])._gsap||dt(B)[o]._gsap,t._ptLookup[o]=p={},at[h.id]&&ot.length&&yt(),m=F===B?o:F.indexOf(u),d&&!1!==(f=new d).init(u,g||r,t,m,F)&&(t._pt=l=new Sn(t._pt,u,f.name,0,1,f.render,f,0,f.priority),f._props.forEach((function(e){p[e]=l})),f.priority&&(c=1)),!d||g)for(s in r)st[s]&&(f=qt(s,r,t,m,u,F))?f.priority&&(c=1):p[s]=l=Yt.call(t,u,s,"get",r[s],m,F,0,_.stringFilter);t._op&&t._op[o]&&t.kill(u,t._op[o]),z&&t._pt&&(rn=t,re.killTweensOf(u,p,t.globalTime(n)),y=!t.parent,rn=0),t._pt&&C&&(at[h.id]=1)}c&&xn(t),t._onInit&&t._onInit(t)}t._onUpdate=M,t._initted=(!t._op||t._pt)&&!y,k&&n<=0&&N.render(De,!0,!0)},dn=ht+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",fn={},pn=(d(dn+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return fn[e]=1})),function(e){function t(t,n,i,o){"number"==typeof n&&(i.duration=n,n=i,i=null);var s,u,c,h,d,f,p,m,y,w=(o=(s=e.call(this,o?n:_(n))||this).vars).duration,x=o.delay,S=o.immediateRender,A=o.stagger,C=o.overwrite,M=o.keyframes,E=o.defaults,P=o.scrollTrigger,k=o.yoyoEase,O=(o=n.parent||re,(Ge(t)||He(t)?Ne(t[0]):"length"in n)?[t]:Tt(t));if(s._targets=O.length?dt(O):et("GSAP target "+t+" not found. https://greensock.com",!Ee.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=C,M||A||l(w)||l(x)){if(n=s.vars,(u=s.timeline=new ln({data:"nested",defaults:E||{},targets:o&&"nested"===o.data?o.vars.targets:O})).kill(),u.parent=u._dp=r(s),u._start=0,A||l(w)||l(x)){if(d=O.length,m=A&&z(A),je(A))for(f in A)~dn.indexOf(f)&&((y=y||{})[f]=A[f]);for(c=0;c<d;c++)(h=b(n,fn)).stagger=0,k&&(h.yoyoEase=k),y&&g(h,y),p=O[c],h.duration=+Xt(w,r(s),c,p,O),h.delay=(+Xt(x,r(s),c,p,O)||0)-s._delay,!A&&1===d&&h.delay&&(s._delay=x=h.delay,s._start+=x,h.delay=0),u.to(p,h,m?m(c,p,O):0),u._ease=Nt.none;u.duration()?w=x=0:s.timeline=0}else if(M){_(v(u.vars.defaults,{ease:"none"})),u._ease=Gt(M.ease||n.ease||"none");var R,L,B,I=0;if(Ge(M))M.forEach((function(e){return u.to(O,e,">")})),u.duration();else{for(f in h={},M)"ease"!==f&&"easeEach"!==f&&function(e,t,n,i){var r,o,a=t.ease||i||"power1.inOut";if(Ge(t))o=n[e]||(n[e]=[]),t.forEach((function(e,n){return o.push({t:n/(t.length-1)*100,v:e,e:a})}));else for(r in t)o=n[r]||(n[r]=[]),"ease"!==r&&o.push({t:parseFloat(e),v:t[r],e:a})}(f,M[f],h,M.easeEach);for(f in h)for(R=h[f].sort((function(e,t){return e.t-t.t})),c=I=0;c<R.length;c++)(B={ease:(L=R[c]).e,duration:(L.t-(c?R[c-1].t:0))/100*w})[f]=L.v,u.to(O,B,I),I+=B.duration;u.duration()<w&&u.to({},{duration:w-u.duration()})}}w||s.duration(w=u.duration())}else s.timeline=0;return!0!==C||te||(rn=r(s),re.killTweensOf(O),rn=0),T(o,r(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),(S||!w&&!M&&s._start===vt(o._time)&&a(S)&&function e(t){return!t||t._ts&&e(t.parent)}(r(s))&&"nested"!==o.data)&&(s._tTime=-Pe,s.render(Math.max(0,-x)||0)),P&&D(r(s),P),s}o(t,e);var n=t.prototype;return n.render=function(e,t,n){var i,r,o,a=this._time,s=this._tDur,l=this._dur,u=e<0,c=s-Pe<e&&!u?s:e<Pe?0:e;if(l){if(c!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=u){if(v=c,m=this.timeline,this._repeat){if(f=l+this._rDelay,this._repeat<-1&&u)return this.totalTime(100*f+e,t,n);if(v=vt(c%f),c===s?(g=this._repeat,v=l):((g=~~(c/f))&&g===c/f&&(v=l,g--),l<v&&(v=l)),(r=this._yoyo&&1&g)&&(p=this._yEase,v=l-v),b=C(this._tTime,f),v===a&&!n&&this._initted)return this._tTime=c,this;g!==b&&(m&&this._yEase&&K(m,r),!this.vars.repeatRefresh||r||this._lock||(this._lock=n=1,this.render(vt(f*g),!0).invalidate()._lock=0))}if(!this._initted){if(P(this,u?e:v,n,t,c))return this._tTime=0,this;if(a!==this._time)return this;if(l!==this._dur)return this.render(e,t,n)}if(this._tTime=c,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=o=(p||this._ease)(v/l),this._from&&(this.ratio=o=1-o),v&&!a&&!t&&(W(this,"onStart"),this._tTime!==c))return this;for(i=this._pt;i;)i.r(o,i.d),i=i._next;m&&m.render(e<0?e:!v&&r?-Pe:m._dur*m._ease(v/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(u&&S(this,e,0,n),W(this,"onUpdate")),this._repeat&&g!==b&&this.vars.onRepeat&&!t&&this.parent&&W(this,"onRepeat"),c!==this._tDur&&c||this._tTime!==c||(u&&!this._onUpdate&&S(this,e,0,!0),!e&&l||!(c===this._tDur&&0<this._ts||!c&&this._ts<0)||x(this,1),t||u&&!a||!(c||a||r)||(W(this,c===s?"onComplete":"onReverseComplete",!0),!this._prom||c<s&&0<this.timeScale()||this._prom()))}}else{var h,d,f=this,p=e,m=t,v=n,g=f.ratio,y=p<0||!p&&(!f._start&&function e(t){return(t=t.parent)&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||e(t))}(f)&&(f._initted||!k(f))||(f._ts<0||f._dp._ts<0)&&!k(f))?0:1,b=f._rDelay;l=0;if(b&&f._repeat&&(d=C(l=I(0,f._tDur,p),b),f._yoyo&&1&d&&(y=1-y),d!==C(f._tTime,b)&&(g=1-y,f.vars.repeatRefresh&&f._initted&&f.invalidate())),y!==g||ne||v||f._zTime===Pe||!p&&f._zTime){if(f._initted||!P(f,p,v,m,l)){for(d=f._zTime,f._zTime=p||(m?Pe:0),m=m||p&&!d,f.ratio=y,f._from&&(y=1-y),f._time=0,f._tTime=l,h=f._pt;h;)h.r(y,h.d),h=h._next;p<0&&S(f,p,0,!0),f._onUpdate&&!m&&W(f,"onUpdate"),l&&f._repeat&&!m&&f.parent&&W(f,"onRepeat"),(p>=f._tDur||p<0)&&f.ratio===y&&(y&&x(f,1),m||ne||(W(f,y?"onComplete":"onReverseComplete",!0),f._prom&&f._prom()))}}else f._zTime||(f._zTime=p)}return this},n.targets=function(){return this._targets},n.invalidate=function(t){return t&&this.vars.runBackwards||(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,i){he||Ft.wake(),this._ts||this.play();var r=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||hn(this,r),function(e,t,n,i,r,o,a){var s,l,u,c,h=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!h)for(h=e._ptCache[t]=[],u=e._ptLookup,c=e._targets.length;c--;){if((s=u[c][t])&&s.d&&s.d._pt)for(s=s.d._pt;s&&s.p!==t&&s.fp!==t;)s=s._next;if(!s)return on=1,e.vars[t]="+=0",hn(e,a),on=0,1;h.push(s)}for(c=h.length;c--;)(s=(l=h[c])._pt||l).s=!i&&0!==i||r?s.s+(i||0)+o*s.c:i,s.c=n-s.s,l.e&&(l.e=mt(n)+Ct(l.e)),l.b&&(l.b=s.s+Ct(l.b))}(this,e,t,n,i,this._ease(r/this._dur),r)?this.resetTo(e,t,n,i):(xt(this,0),this.parent||w(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?Y(this):this;if(this.timeline)f=this.timeline.totalDuration(),this.timeline.killTweensOf(e,t,rn&&!0!==rn.vars.overwrite)._first||Y(this),this.parent&&f!==this.timeline.totalDuration()&&O(this,this._dur*this.timeline._tDur/f,0,1);else{var n,i,r,o,a,s,l,u=this._targets,c=e?Tt(e):u,h=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0}(u,c))return"all"===t&&(this._pt=0),Y(this);for(n=this._op=this._op||[],"all"!==t&&(Fe(t)&&(a={},d(t,(function(e){return a[e]=1})),t=a),t=function(e,t){var n,i,r,o,a=(e=e[0]?ft(e[0]).harness:0)&&e.aliases;if(!a)return t;for(i in n=g({},t),a)if(i in n)for(r=(o=a[i].split(",")).length;r--;)n[o[r]]=n[i];return n}(u,t)),l=u.length;l--;)if(~c.indexOf(u[l]))for(a in i=h[l],"all"===t?(n[l]=t,o=i,r={}):(r=n[l]=n[l]||{},o=t),o)(s=i&&i[a])&&("kill"in s.d&&!0!==s.d.kill(a)||bt(this,s,"_pt"),delete i[a]),"all"!==r&&(r[a]=1);this._initted&&!this._pt&&f&&Y(this)}return this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return B(1,arguments)},t.delayedCall=function(e,n,i,r){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:r})},t.fromTo=function(e,t,n){return B(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return re.killTweensOf(e,t,n)},t}(sn)),mn=(v(pn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),d("staggerTo,staggerFrom,staggerFromTo",(function(e){pn[e]=function(){var t=new ln,n=Mt.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}})),function(e,t,n){return e[t]=n}),vn=function(e,t,n){return e[t](n)},gn=function(e,t,n,i){return e[t](i.fp,n)},yn=function(e,t,n){return e.setAttribute(t,n)},bn=function(e,t){return ze(e[t])?vn:Ue(e[t])&&e.setAttribute?yn:mn},_n=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},wn=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},xn=function(e){for(var t,n,i,r,o=e._pt;o;){for(t=o._next,n=i;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:r)?o._prev._next=o:i=o,(o._next=n)?n._prev=o:r=o,o=t}e._pt=i},Sn=function(){function e(e,t,n,i,r,o,a,s,l){this.t=t,this.s=i,this.c=r,this.p=n,this.r=o||_n,this.d=a||this,this.set=s||mn,this.pr=l||0,(this._next=e)&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=$t,this.m=e,this.mt=n,this.tween=t},e}(),An=(d(ht+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return rt[e]=1})),Je.TweenMax=Je.TweenLite=pn,Je.TimelineLite=Je.TimelineMax=ln,re=new ln({sortChildren:!1,defaults:Te,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Ee.stringFilter=Q,[]),Cn={},Mn=[],En=0,Tn=function(){function e(e,t){this.selector=t&&F(t),this.data=[],this._r=[],this.isReverted=!1,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){function i(){var e,i=ie,o=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=F(n)),ie=r,e=t.apply(r,arguments),ze(e)&&r._r.push(e),ie=i,r.selector=o,r.isReverted=!1,e}ze(e)&&(n=t,t=e,e=ze);var r=this;return r.last=i,e===ze?i(r):e?r[e]=i:i},t.ignore=function(e){var t=ie;ie=null,e(this),ie=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof pn&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n,i=this;e?(n=this.getTweens(),this.data.forEach((function(e){"isFlip"===e.data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(e){return n.splice(n.indexOf(e),1)})))})),n.map((function(e){return{g:e.globalTime(0),t:e}})).sort((function(e,t){return t.g-e.g||-1})).forEach((function(t){return t.t.revert(e)})),this.data.forEach((function(t){return!(t instanceof sn)&&t.revert&&t.revert(e)})),this._r.forEach((function(t){return t(e,i)})),this.isReverted=!0):this.data.forEach((function(e){return e.kill&&e.kill()})),this.clear(),t&&~(t=An.indexOf(this))&&An.splice(t,1)},t.revert=function(e){this.kill(e||{})},e}(),Dn=function(){function e(e){this.contexts=[],this.scope=e}var t=e.prototype;return t.add=function(e,t,n){je(e)||(e={matches:e});var i,r,o,a=new Tn(0,n||this.scope),s=a.conditions={};for(r in this.contexts.push(a),t=a.add("onMatch",t),a.queries=e)"all"===r?o=1:(i=oe.matchMedia(e[r]))&&(An.indexOf(a)<0&&An.push(a),(s[r]=i.matches)&&(o=1),i.addListener?i.addListener(tn):i.addEventListener("change",tn));return o&&t(a),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),Pn={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){var t=(e=!e.name&&e.default||e).name,n=ze(e),i=(n=t&&!n&&e.init?function(){this._props=[]}:e,{init:h,render:Kt,add:Yt,kill:Zt,modifier:Jt,rawVars:0}),r={targetTest:0,get:0,getSetter:bn,aliases:{},register:0};if(zt(),e!==n){if(st[t])return;v(n,v(b(e,i),r)),g(n.prototype,g(i,b(e,r))),st[n.prop=t]=n,e.targetTest&&(ct.push(n),rt[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}c(t,n),e.register&&e.register(On,n,Sn)}))},timeline:function(e){return new ln(e)},getTweensOf:function(e,t){return re.getTweensOf(e,t)},getProperty:function(e,t,n,i){Fe(e)&&(e=Tt(e)[0]);var r=ft(e||{}).get,o=n?m:p;return"native"===n&&(n=""),e&&(t?o((st[t]&&st[t].get||r)(e,t,n,i)):function(t,n,i){return o((st[t]&&st[t].get||r)(e,t,n,i))})},quickSetter:function(e,t,n){var i,r;if(1<(e=Tt(e)).length)return i=e.map((function(e){return On.quickSetter(e,t,n)})),r=i.length,function(e){for(var t=r;t--;)i[t](e)};e=e[0]||{};var o=st[t],a=ft(e),s=a.harness&&(a.harness.aliases||{})[t]||t,l=o?function(t){var i=new o;ce._pt=0,i.init(e,n?t+n:t,ce,0,[e]),i.render(1,i),ce._pt&&Kt(1,ce)}:a.set(e,s);return o?l:function(t){return l(e,s,n?t+n:t,a,1)}},quickTo:function(e,t,n){function i(e,n,i){return r.resetTo(t,e,n,i)}var r=On.to(e,g(((e={})[t]="+=0.1",e.paused=!0,e),n||{}));return i.tween=r,i},isTweening:function(e){return 0<re.getTweensOf(e,!0).length},defaults:function(e){return e&&e.ease&&(e.ease=Gt(e.ease,Te.ease)),y(Te,e||{})},config:function(e){return y(Ee,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,r=e.defaults;e=e.extendTimeline;(i||"").split(",").forEach((function(e){return e&&!st[e]&&!Je[e]&&et(t+" effect requires "+e+" plugin.")})),lt[t]=function(e,t,i){return n(Tt(e),v(t||{},r),i)},e&&(ln.prototype[t]=function(e,n,i){return this.add(lt[t](e,je(n)?n:(i=n)&&{},this),i)})},registerEase:function(e,t){Nt[e]=Gt(t)},parseEase:function(e,t){return arguments.length?Gt(e,t):Nt},getById:function(e){return re.getById(e)},exportRoot:function(e,t){var n,i,r=new ln(e=void 0===e?{}:e);for(r.smoothChildTiming=a(e.smoothChildTiming),re.remove(r),r._dp=0,r._time=r._tTime=re._time,n=re._first;n;)i=n._next,!t&&!n._dur&&n instanceof pn&&n.vars.onComplete===n._targets[0]||T(r,n,n._start-n._delay),n=i;return T(re,r,0),r},context:function(e,t){return e?new Tn(e,t):ie},matchMedia:function(e){return new Dn(e)},matchMediaRefresh:function(){return An.forEach((function(e){var t,n,i=e.conditions;for(n in i)i[n]&&(i[n]=!1,t=1);t&&e.revert()}))||tn()},addEventListener:function(e,t){~(e=Cn[e]||(Cn[e]=[])).indexOf(t)||e.push(t)},removeEventListener:function(e,t){0<=(t=(e=Cn[e])&&e.indexOf(t))&&e.splice(t,1)},utils:{wrap:function e(t,n,i){var r=n-t;return Ge(t)?H(t,e(0,t.length),n):At(i,(function(e){return(r+(e-t)%r)%r+t}))},wrapYoyo:function e(t,n,i){var r=n-t,o=2*r;return Ge(t)?H(t,e(0,t.length-1),n):At(i,(function(e){return t+(r<(e=(o+(e-t)%o)%o||0)?o-e:e)}))},distribute:z,random:j,snap:U,normalize:function(e,t,n){return G(e,t,0,1,n)},getUnit:Ct,clamp:function(e,t,n){return At(n,(function(n){return I(e,t,n)}))},splitColor:Rt,toArray:Tt,selector:F,mapRange:G,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||Ct(n))}},interpolate:function e(t,n,i,r){var o=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!o){var a,s,l,u,c,h=Fe(t),d={};if(!0===i&&(r=1)&&(i=null),h)t={p:t},n={p:n};else if(Ge(t)&&!Ge(n)){for(l=[],u=t.length,c=u-2,s=1;s<u;s++)l.push(e(t[s-1],t[s]));u--,o=function(e){e*=u;var t=Math.min(c,~~e);return l[t](e-t)},i=n}else r||(t=g(Ge(t)?[]:{},t));if(!l){for(a in n)Yt.call(d,t,a,"get",n[a]);o=function(e){return Kt(e,d),h?t.p:t}}}return At(i,o)},shuffle:Dt},install:u,effects:lt,ticker:Ft,updateRoot:ln.updateRoot,plugins:st,globalTimeline:re,core:{PropTween:Sn,globals:c,Tween:pn,Timeline:ln,Animation:sn,getCache:ft,_removeLinkedListItem:bt,reverting:function(){return ne},context:function(e){return e&&ie&&(ie.data.push(e),e._ctx=ie),ie},suppressOverwrites:function(e){return te=e}}},kn=(d("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return Pn[e]=pn[e]})),Ft.add(ln.updateRoot),ce=Pn.to({},{duration:0}),function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n}),On=Pn.registerPlugin({name:"attr",init:function(e,t,n,i,r){var o,a,s;for(o in this.tween=n,t)s=e.getAttribute(o)||"",(a=this.add(e,"setAttribute",(s||0)+"",t[o],i,r,0,0,o)).op=o,a.b=s,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)ne?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},nn("roundProps",N),nn("modifiers"),nn("snap",U))||Pn;function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)}function Bn(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)}function In(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)}function Fn(e,t){e=t.s+t.c*e,t.set(t.t,t.p,~~(e+(e<0?-.5:.5))+t.u,t)}function zn(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)}function Nn(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)}function Un(e,t,n){return e.style[t]=n}function jn(e,t,n){return e.style.setProperty(t,n)}function Hn(e,t,n){return e._gsap[t]=n}function Gn(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n}function Vn(e,t,n,i,r){(e=e._gsap).scaleX=e.scaleY=n,e.renderTransform(r,e)}function Wn(e,t,n,i,r){(e=e._gsap)[t]=n,e.renderTransform(r,e)}function Yn(e,t){var n=this,i=this.target,r=i.style;if(e in mi){if(this.tfm=this.tfm||{},"transform"!==e&&(~(e=xi[e]||e).indexOf(",")?e.split(",").forEach((function(e){return n.tfm[e]=Fi(i,e)})):this.tfm[e]=i._gsap.x?i._gsap[e]:Fi(i,e)),0<=this.props.indexOf(Si))return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Ai,t,"")),e=Si}(r||t)&&this.props.push(e,t,r[e])}function qn(){for(var e,t=this.props,n=this.target,i=n.style,r=n._gsap,o=0;o<t.length;o+=3)t[o+1]?n[t[o]]=t[o+2]:t[o+2]?i[t[o]]=t[o+2]:i.removeProperty(t[o].replace(bi,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)r[e]=this.tfm[e];r.svg&&(r.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),!(o=ci())||o.isStart||i[Si]||(Ci(i),r.uncache=1)}}function Xn(e,t){var n={target:e,props:[],revert:qn,save:Yn};return t&&t.split(",").forEach((function(e){return n.save(e)})),n}function Qn(){pi()&&window.document&&(ri=window,oi=ri.document,ai=oi.documentElement,li=Mi("div")||{style:{}},Mi("div"),Si=Di(Si),Ai=Si+"Origin",li.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",hi=!!Di("perspective"),ci=On.core.reverting,si=1)}function Kn(e){var t,n=Mi("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(ai.appendChild(n),n.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=Kn}catch(e){}else this._gsapBBox&&(t=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),ai.removeChild(n),this.style.cssText=o,t}function Jn(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])}function Zn(e,t,n,i){n&&"none"!==n||((r=(o=Di(t,e,1))&&Ei(e,o,1))&&r!==n?(t=o,n=r):"borderColor"===t&&(n=Ei(e,"borderTopColor")));var r,o,a,s,l,u,c,h,d,f,p=new Sn(this._pt,e.style,t,0,1,Qt),m=0,v=0;if(p.b=n,p.e=i,n+="","auto"==(i+="")&&(e.style[t]=i,i=Ei(e,t)||i,e.style[t]=n),Q(o=[n,i]),i=o[1],a=(n=o[0]).match(Ye)||[],(i.match(Ye)||[]).length){for(;h=Ye.exec(i);)d=h[0],h=i.substring(m,h.index),l?l=(l+1)%5:"rgba("!==h.substr(-5)&&"hsla("!==h.substr(-5)||(l=1),d!==(u=a[v++]||"")&&(s=parseFloat(u)||0,f=u.substr((s+"").length),"="===d.charAt(1)&&(d=gt(s,d)+f),c=parseFloat(d),d=d.substr((c+"").length),m=Ye.lastIndex-d.length,d||(d=d||Ee.units[t]||f,m===i.length&&(i+=d,p.e+=d)),f!==d&&(s=Ii(e,t,u,d)||0),p._pt={_next:p._pt,p:h||1===v?h:",",s:s,c:c-s,m:l&&l<4||"zIndex"===t?Math.round:0});p.c=m<i.length?i.substring(m,i.length):""}else p.r="display"===t&&"none"===i?Nn:zn;return Xe.test(i)&&(p.e=0),this._pt=p}function $n(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,i,r,o=t.t,a=o.style,s=t.u;t=o._gsap;if("all"===s||!0===s)a.cssText="",i=1;else for(r=(s=s.split(",")).length;-1<--r;)n=s[r],mi[n]&&(i=1,n="transformOrigin"===n?Ai:Si),Oi(o,n);i&&(Oi(o,Si),t&&(t.svg&&o.removeAttribute("transform"),Vi(o,1),t.uncache=1,Ci(a)))}}function ei(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e}function ti(e,t,n,i,r,o){var a,s=e._gsap,l=(r=r||Gi(e,!0),s.xOrigin||0),u=s.yOrigin||0,c=s.xOffset||0,h=s.yOffset||0,d=r[0],f=r[1],p=r[2],m=r[3],v=r[4],g=r[5],y=t.split(" "),b=parseFloat(y[0])||0,_=parseFloat(y[1])||0;n?r!==Ui&&(r=d*m-f*p)&&(a=b*(-f/r)+_*(d/r)-(d*g-f*v)/r,b=b*(m/r)+_*(-p/r)+(p*g-m*v)/r,_=a):(b=(r=Pi(e)).x+(~y[0].indexOf("%")?b/100*r.width:b),_=r.y+(~(y[1]||y[0]).indexOf("%")?_/100*r.height:_)),i||!1!==i&&s.smooth?(s.xOffset=c+((v=b-l)*d+(g=_-u)*p)-v,s.yOffset=h+(v*f+g*m)-g):s.xOffset=s.yOffset=0,s.xOrigin=b,s.yOrigin=_,s.smooth=!!i,s.origin=t,s.originIsAbsolute=!!n,e.style[Ai]="0px 0px",o&&(Ri(o,s,"xOrigin",l,b),Ri(o,s,"yOrigin",u,_),Ri(o,s,"xOffset",c,s.xOffset),Ri(o,s,"yOffset",h,s.yOffset)),e.setAttribute("data-svg-origin",b+" "+_)}function ni(e,t,n){var i=Ct(t);return mt(parseFloat(t)+parseFloat(Ii(e,"x",n+"px",i)))+i}function ii(e,t){for(var n in t)e[n]=t[n];return e}pn.version=ln.version=On.version="3.11.3",le=1,s()&&zt(),Nt.Power0,Nt.Power1,Nt.Power2,Nt.Power3,Nt.Power4,Nt.Linear,Nt.Quad,Nt.Cubic,Nt.Quart,Nt.Quint,Nt.Strong,Nt.Elastic,Nt.Back,Nt.SteppedEase,Nt.Bounce,Nt.Sine,Nt.Expo,Nt.Circ;var ri,oi,ai,si,li,ui,ci,hi,di,fi,pi=function(){return"undefined"!=typeof window},mi={},vi=180/Math.PI,gi=Math.PI/180,yi=Math.atan2,bi=/([A-Z])/g,_i=/(left|right|width|margin|padding|x)/i,wi=/[\s,\(]\S/,xi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Si="transform",Ai=Si+"Origin",Ci=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Mi=function(e,t){return(t=oi.createElementNS?oi.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):oi.createElement(e)).style?t:oi.createElement(e)},Ei=function e(t,n,i){var r=getComputedStyle(t);return r[n]||r.getPropertyValue(n.replace(bi,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&e(t,Di(n)||n,1)||""},Ti="O,Moz,ms,Ms,Webkit".split(","),Di=function(e,t,n){var i=(t||li).style,r=5;if(e in i&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);r--&&!(Ti[r]+e in i););return r<0?null:(3===r?"ms":0<=r?Ti[r]:"")+e},Pi=function(e){var t;try{t=e.getBBox()}catch(n){t=Kn.call(e,!0)}return!(t=t&&(t.width||t.height)||e.getBBox===Kn?t:Kn.call(e,!0))||t.width||t.x||t.y?t:{x:+Jn(e,["x","cx","x1"])||0,y:+Jn(e,["y","cy","y1"])||0,width:0,height:0}},ki=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Pi(e))},Oi=function(e,t){t&&(e=e.style,t in mi&&t!==Ai&&(t=Si),e.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),e.removeProperty(t.replace(bi,"-$1").toLowerCase())):e.removeAttribute(t))},Ri=function(e,t,n,i,r,o){return t=new Sn(e._pt,t,n,0,1,o?Nn:zn),(e._pt=t).b=i,t.e=r,e._props.push(n),t},Li={deg:1,rad:1,turn:1},Bi={grid:1,flex:1},Ii=function e(t,n,i,r){var o,a=parseFloat(i)||0,s=(i+"").trim().substr((a+"").length)||"px",l=li.style,u=_i.test(n),c="svg"===t.tagName.toLowerCase(),h=(c?"client":"offset")+(u?"Width":"Height"),d="px"===r,f="%"===r;return r===s||!a||Li[r]||Li[s]?a:("px"===s||d||(a=e(t,n,i,"px")),i=t.getCTM&&ki(t),!f&&"%"!==s||!mi[n]&&!~n.indexOf("adius")?(l[u?"width":"height"]=100+(d?s:r),n=~n.indexOf("adius")||"em"===r&&t.appendChild&&!c?t:t.parentNode,(r=(n=(n=i?(t.ownerSVGElement||{}).parentNode:n)&&n!==oi&&n.appendChild?n:oi.body)._gsap)&&f&&r.width&&u&&r.time===Ft.time&&!r.uncache?mt(a/r.width*100):(!f&&"%"!==s||Bi[Ei(n,"display")]||(l.position=Ei(t,"position")),n===t&&(l.position="static"),n.appendChild(li),o=li[h],n.removeChild(li),l.position="absolute",u&&f&&((r=ft(n)).time=Ft.time,r.width=n[h]),mt(d?o*a/100:o&&a?100/o*a:0))):(o=i?t.getBBox()[u?"width":"height"]:t[h],mt(f?a/o*100:a/100*o)))},Fi=function(e,t,n,i){var r;return si||Qn(),t in xi&&"transform"!==t&&~(t=xi[t]).indexOf(",")&&(t=t.split(",")[0]),mi[t]&&"transform"!==t?(r=Vi(e,i),r="transformOrigin"!==t?r[t]:r.svg?r.origin:Wi(Ei(e,Ai))+" "+r.zOrigin+"px"):(r=e.style[t])&&"auto"!==r&&!i&&!~(r+"").indexOf("calc(")||(r=Ni[t]&&Ni[t](e,t,n)||Ei(e,t)||pt(e,t)||("opacity"===t?1:0)),n&&!~(r+"").trim().indexOf(" ")?Ii(e,t,r,n)+n:r},zi={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ni={clearProps:function(e,t,n,i,r){if("isFromStart"!==r.data)return(t=e._pt=new Sn(e._pt,t,n,0,0,$n)).u=i,t.pr=-10,t.tween=r,e._props.push(n),1}},Ui=[1,0,0,1,0,0],ji={},Hi=function(e){return ei(e=Ei(e,Si))?Ui:e.substr(7).match(We).map(mt)},Gi=function(e,t){var n,i,r,o=e._gsap||ft(e),a=e.style,s=Hi(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(s=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?Ui:s:(s!==Ui||e.offsetParent||e===ai||o.svg||(i=a.display,a.display="block",(o=e.parentNode)&&e.offsetParent||(r=1,n=e.nextElementSibling,ai.appendChild(e)),s=Hi(e),i?a.display=i:Oi(e,"display"),r&&(n?o.insertBefore(e,n):o?o.appendChild(e):ai.removeChild(e))),t&&6<s.length?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Vi=function(e,t){var n,i,r,o,a,s,l,u,c,h,d,f,p,m,v,g,y,b,_,w,x,S,A,C,M,E,T,D,P,k,O,R=e._gsap||new an(e);return"x"in R&&!t&&!R.uncache||(n=e.style,i=R.scaleX<0,f=getComputedStyle(e),r=Ei(e,Ai)||"0",k=o=a=l=u=c=h=d=0,O=s=1,R.svg=!(!e.getCTM||!ki(e)),f.translate&&("none"===f.translate&&"none"===f.scale&&"none"===f.rotate||(n[Si]=("none"!==f.translate?"translate3d("+(f.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==f.rotate?"rotate("+f.rotate+") ":"")+("none"!==f.scale?"scale("+f.scale.split(" ").join(",")+") ":"")+("none"!==f[Si]?f[Si]:"")),n.scale=n.rotate=n.translate="none"),f=Gi(e,R.svg),R.svg&&(x=R.uncache?(S=e.getBBox(),r=R.xOrigin-S.x+"px "+(R.yOrigin-S.y)+"px",""):!t&&e.getAttribute("data-svg-origin"),ti(e,x||r,!!x||R.originIsAbsolute,!1!==R.smooth,f)),P=R.xOrigin||0,T=R.yOrigin||0,f!==Ui&&(v=f[0],g=f[1],y=f[2],b=f[3],k=_=f[4],o=w=f[5],6===f.length?(O=Math.sqrt(v*v+g*g),s=Math.sqrt(b*b+y*y),l=v||g?yi(g,v)*vi:0,(h=y||b?yi(y,b)*vi+l:0)&&(s*=Math.abs(Math.cos(h*gi))),R.svg&&(k-=P-(P*v+T*y),o-=T-(P*g+T*b))):(P=f[6],T=f[7],C=f[8],M=f[9],E=f[10],D=f[11],k=f[12],o=f[13],a=f[14],u=(f=yi(P,E))*vi,f&&(x=_*(p=Math.cos(-f))+C*(m=Math.sin(-f)),S=w*p+M*m,A=P*p+E*m,C=_*-m+C*p,M=w*-m+M*p,E=P*-m+E*p,D=T*-m+D*p,_=x,w=S,P=A),c=(f=yi(-y,E))*vi,f&&(p=Math.cos(-f),D=b*(m=Math.sin(-f))+D*p,v=x=v*p-C*m,g=S=g*p-M*m,y=A=y*p-E*m),l=(f=yi(g,v))*vi,f&&(x=v*(p=Math.cos(f))+g*(m=Math.sin(f)),S=_*p+w*m,g=g*p-v*m,w=w*p-_*m,v=x,_=S),u&&359.9<Math.abs(u)+Math.abs(l)&&(u=l=0,c=180-c),O=mt(Math.sqrt(v*v+g*g+y*y)),s=mt(Math.sqrt(w*w+P*P)),f=yi(_,w),h=2e-4<Math.abs(f)?f*vi:0,d=D?1/(D<0?-D:D):0),R.svg&&(x=e.getAttribute("transform"),R.forceCSS=e.setAttribute("transform","")||!ei(Ei(e,Si)),x&&e.setAttribute("transform",x))),90<Math.abs(h)&&Math.abs(h)<270&&(i?(O*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,h+=h<=0?180:-180)),t=t||R.uncache,R.x=k-((R.xPercent=k&&(!t&&R.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-k)?-50:0)))?e.offsetWidth*R.xPercent/100:0)+"px",R.y=o-((R.yPercent=o&&(!t&&R.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-o)?-50:0)))?e.offsetHeight*R.yPercent/100:0)+"px",R.z=a+"px",R.scaleX=mt(O),R.scaleY=mt(s),R.rotation=mt(l)+"deg",R.rotationX=mt(u)+"deg",R.rotationY=mt(c)+"deg",R.skewX=h+"deg",R.skewY="0deg",R.transformPerspective=d+"px",(R.zOrigin=parseFloat(r.split(" ")[2])||0)&&(n[Ai]=Wi(r)),R.xOffset=R.yOffset=0,R.force3D=Ee.force3D,R.renderTransform=R.svg?Qi:hi?Xi:Yi,R.uncache=0),R},Wi=function(e){return(e=e.split(" "))[0]+" "+e[1]},Yi=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Xi(e,t)},qi="0deg",Xi=function(e,t){var n,i,r,o=(t=t||this).xPercent,a=t.yPercent,s=t.x,l=t.y,u=t.z,c=t.rotation,h=t.rotationY,d=t.rotationX,f=t.skewX,p=t.skewY,m=t.scaleX,v=t.scaleY,g=t.transformPerspective,y=t.force3D,b=t.target,_="";e="auto"===y&&e&&1!==e||!0===y;!(t=t.zOrigin)||d===qi&&h===qi||(y=parseFloat(h)*gi,n=Math.sin(y),i=Math.cos(y),y=parseFloat(d)*gi,s=ni(b,s,n*(r=Math.cos(y))*-t),l=ni(b,l,-Math.sin(y)*-t),u=ni(b,u,i*r*-t+t)),"0px"!==g&&(_+="perspective("+g+") "),(o||a)&&(_+="translate("+o+"%, "+a+"%) "),!e&&"0px"===s&&"0px"===l&&"0px"===u||(_+="0px"!==u||e?"translate3d("+s+", "+l+", "+u+") ":"translate("+s+", "+l+") "),c!==qi&&(_+="rotate("+c+") "),h!==qi&&(_+="rotateY("+h+") "),d!==qi&&(_+="rotateX("+d+") "),f===qi&&p===qi||(_+="skew("+f+", "+p+") "),1===m&&1===v||(_+="scale("+m+", "+v+") "),b.style[Si]=_||"translate(0, 0)"},Qi=function(e,t){var n,i,r,o,a,s=(t=t||this).xPercent,l=t.yPercent,u=t.x,c=t.y,h=t.rotation,d=t.skewX,f=t.skewY,p=t.scaleX,m=t.scaleY,v=t.target,g=t.xOrigin,y=t.yOrigin,b=t.xOffset,_=t.yOffset,w=(t=t.forceCSS,parseFloat(u)),x=parseFloat(c);h=parseFloat(h),d=parseFloat(d);(f=parseFloat(f))&&(d+=f=parseFloat(f),h+=f),h||d?(h*=gi,d*=gi,n=Math.cos(h)*p,i=Math.sin(h)*p,r=Math.sin(h-d)*-m,o=Math.cos(h-d)*m,d&&(f*=gi,a=Math.tan(d-f),r*=a=Math.sqrt(1+a*a),o*=a,f&&(a=Math.tan(f),n*=a=Math.sqrt(1+a*a),i*=a)),n=mt(n),i=mt(i),r=mt(r),o=mt(o)):(n=p,o=m,i=r=0),(w&&!~(u+"").indexOf("px")||x&&!~(c+"").indexOf("px"))&&(w=Ii(v,"x",u,"px"),x=Ii(v,"y",c,"px")),(g||y||b||_)&&(w=mt(w+g-(g*n+y*r)+b),x=mt(x+y-(g*i+y*o)+_)),(s||l)&&(a=v.getBBox(),w=mt(w+s/100*a.width),x=mt(x+l/100*a.height)),v.setAttribute("transform",a="matrix("+n+","+i+","+r+","+o+","+w+","+x+")"),t&&(v.style[Si]=a)},Ki=(n=(d("padding,margin,Width,Radius",(function(e,t){var n="Bottom",i=(t<3?["Top","Right",n,"Left"]:["TopLeft","TopRight",n+"Right",n+"Left"]).map((function(n){return t<2?e+n:"border"+n+e}));Ni[1<t?"border"+e:e]=function(e,t,n,r,o){var a,s;if(arguments.length<4)return a=i.map((function(t){return Fi(e,t,n)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(r+"").split(" "),s={},i.forEach((function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]})),e.init(t,s,o)}})),{name:"css",register:Qn,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,r){var o,a,s,l,u,c,h,d,f,p,m,v,g,y,b,_,w,x,S,A,C=this._props,M=e.style,E=n.vars.startAt;for(u in si||Qn(),this.styles=this.styles||Xn(e),y=this.styles.props,this.tween=n,t)if("autoRound"!==u&&(a=t[u],!st[u]||!qt(u,t,n,i,e,r)))if(d=Rn(a),l=Ni[u],"string"===(d="function"===d?Rn(a=a.call(n,i,e,r)):d)&&~a.indexOf("random(")&&(a=Pt(a)),l)l(this,e,u,a,n)&&(g=1);else if("--"===u.substr(0,2))o=(getComputedStyle(e).getPropertyValue(u)+"").trim(),a+="",Bt.lastIndex=0,Bt.test(o)||(c=Ct(o),h=Ct(a)),h?c!==h&&(o=Ii(e,u,o,h)+h):c&&(a+=c),this.add(M,"setProperty",o,a,i,r,0,0,u),C.push(u),y.push(u,0,M[u]);else if("undefined"!==d){if((!(E&&u in E)||(o="function"==typeof E[u]?E[u].call(n,i,e,r):E[u],Fe(o)&&~o.indexOf("random(")&&(o=Pt(o)),Ct(o+"")||(o+=Ee.units[u]||Ct(Fi(e,u))||""),"="===(o+"").charAt(1)))&&(o=Fi(e,u)),l=parseFloat(o),(d="string"===d&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),s=parseFloat(a),u in xi&&("autoAlpha"===u&&(1===l&&"hidden"===Fi(e,"visibility")&&s&&(l=0),y.push("visibility",0,M.visibility),Ri(this,M,"visibility",l?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==u&&"transform"!==u&&~(u=xi[u]).indexOf(",")&&(u=u.split(",")[0])),f=u in mi)if(this.styles.save(u),p||((m=e._gsap).renderTransform&&!t.parseTransform||Vi(e,t.parseTransform),v=!1!==t.smoothOrigin&&m.smooth,(p=this._pt=new Sn(this._pt,M,Si,0,1,m.renderTransform,m,0,-1)).dep=1),"scale"===u)this._pt=new Sn(this._pt,m,"scaleY",l,(d?gt(l,d+s):s)-l||0,Ln),this._pt.u=0,C.push("scaleY",u),u+="X";else{if("transformOrigin"===u){y.push(Ai,0,M[Ai]),A=S=x=void 0,S=(x=(w=a).split(" "))[0],A=x[1]||"50%","top"!==S&&"bottom"!==S&&"left"!==A&&"right"!==A||(w=S,S=A,A=w),x[0]=zi[S]||S,x[1]=zi[A]||A,a=x.join(" "),m.svg?ti(e,a,0,v,0,this):((h=parseFloat(a.split(" ")[2])||0)!==m.zOrigin&&Ri(this,m,"zOrigin",m.zOrigin,h),Ri(this,M,u,Wi(o),Wi(a)));continue}if("svgOrigin"===u){ti(e,a,1,v,0,this);continue}if(u in ji){w=this,S=m,A=u,x=l,b=d?gt(l,d+a):a,B=z=void 0,z=Fe(b),_=x+(B=parseFloat(b)*(z&&~b.indexOf("rad")?vi:1)-x)+"deg",z&&("short"===(z=b.split("_")[1])&&(B%=360)!=B%180&&(B+=B<0?360:-360),"cw"===z&&B<0?B=(B+36e9)%360-360*~~(B/360):"ccw"===z&&0<B&&(B=(B-36e9)%360-360*~~(B/360))),w._pt=b=new Sn(w._pt,S,A,x,B,Bn),b.e=_,b.u="deg",w._props.push(A);continue}if("smoothOrigin"===u){Ri(this,m,"smooth",m.smooth,a);continue}if("force3D"===u){m[u]=a;continue}if("transform"===u){R=O=k=O=P=D=T=z=void 0;var T,D,P,k,O,R,L=this,B=a,I=e,F=ii({},I._gsap),z=I.style;for(D in F.svg?(P=I.getAttribute("transform"),I.setAttribute("transform",""),z[Si]=B,T=Vi(I,1),Oi(I,Si),I.setAttribute("transform",P)):(P=getComputedStyle(I)[Si],z[Si]=B,T=Vi(I,1),z[Si]=P),mi)(P=F[D])!==(O=T[D])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(D)<0&&(k=Ct(P)!==(R=Ct(O))?Ii(I,D,P,R):parseFloat(P),O=parseFloat(O),L._pt=new Sn(L._pt,T,D,k,O-k,Ln),L._pt.u=R||0,L._props.push(D));ii(T,F);continue}}else u in M||(u=Di(u)||u);if(f||(s||0===s)&&(l||0===l)&&!wi.test(a)&&u in M)s=s||0,(c=(o+"").substr((l+"").length))!==(h=Ct(a)||(u in Ee.units?Ee.units[u]:c))&&(l=Ii(e,u,o,h)),this._pt=new Sn(this._pt,f?m:M,u,l,(d?gt(l,d+s):s)-l,f||"px"!==h&&"zIndex"!==u||!1===t.autoRound?Ln:Fn),this._pt.u=h||0,c!==h&&"%"!==h&&(this._pt.b=o,this._pt.r=In);else if(u in M)Zn.call(this,e,u,o,d?d+a:a);else{if(!(u in e)){$e(u,a);continue}this.add(e,u,o||e[u],d?d+a:a,i,r)}f||(u in M?y.push(u,0,M[u]):y.push(u,1,o||e[u])),C.push(u)}g&&xn(this)},render:function(e,t){if(t.tween._time||!ci())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Fi,aliases:xi,getSetter:function(e,t,n){var i=xi[t];return(t=i&&i.indexOf(",")<0?i:t)in mi&&t!==Ai&&(e._gsap.x||Fi(e,"x"))?n&&ui===n?"scale"===t?Gn:Hn:(ui=n||{})&&("scale"===t?Vn:Wn):e.style&&!Ue(e.style[t])?Un:~t.indexOf("-")?jn:bn(e,t)},core:{_removeProperty:Oi,_getMatrix:Gi}}),On.utils.checkPrefix=Di,On.core.getStyleSaver=Xn,fi=d((t="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(di="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){mi[e]=1})),d(di,(function(e){Ee.units[e]="deg",ji[e]=1})),xi[fi[13]]=t+","+di,d("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){e=e.split(":"),xi[e[1]]=fi[e[0]]})),d("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){Ee.units[e]="px"})),On.registerPlugin(n),On.registerPlugin(n)||On);Ki.core.Tween},,,,function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return null!==e&&"object"===i(e)&&"constructor"in e&&e.constructor===Object}function o(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length&&void 0!==t?t:{};Object.keys(i).forEach((function(e){void 0===n[e]?n[e]=i[e]:r(i[e])&&r(n[e])&&0<Object.keys(i[e]).length&&o(n[e],i[e])}))}n.d(t,"f",(function(){return he})),n.d(t,"c",(function(){return de})),n.d(t,"d",(function(){return pe})),n.d(t,"e",(function(){return ve})),n.d(t,"a",(function(){return ge})),n.d(t,"b",(function(){return be}));var a={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function s(){var e="undefined"!=typeof document?document:{};return o(e,a),e}var l={document:a,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function u(){var e="undefined"!=typeof window?window:{};return o(e,l),e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?d(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return(m=v()?Reflect.construct.bind():function(e,t,n){var i=[null];return i.push.apply(i,t),t=new(Function.bind.apply(e,i)),n&&g(t,n.prototype),t}).apply(null,arguments)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e),n=o,i=v();var n,i,r=function(){var e,t=y(n);return f(this,i?(e=y(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))};function o(e){var t,n;if(this instanceof o)return"number"==typeof e?t=r.call(this,e):(e=p(t=r.call.apply(r,[this].concat(h(e||[])))),n=e.__proto__,Object.defineProperty(e,"__proto__",{get:function(){return n},set:function(e){n.__proto__=e}})),f(t);throw new TypeError("Cannot call a class as a function")}return t=o,Object.defineProperty(t,"prototype",{writable:!1}),t}(function(e){var t="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return m(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)}(e)}(Array));function _(e){var t=[];return(0<arguments.length&&void 0!==e?e:[]).forEach((function(e){Array.isArray(e)?t.push.apply(t,h(_(e))):t.push(e)})),t}function w(e,t){return Array.prototype.filter.call(e,t)}function x(e,t){var n=u(),i=s(),r=[];if(!t&&e instanceof b)return e;if(!e)return new b(r);if("string"==typeof e){var o=e.trim();if(0<=o.indexOf("<")&&0<=o.indexOf(">")){var a="div",l=(0===o.indexOf("<li")&&(a="ul"),0===o.indexOf("<tr")&&(a="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(a="tr"),0===o.indexOf("<tbody")&&(a="table"),0===o.indexOf("<option")&&(a="select"),i.createElement(a));l.innerHTML=o;for(var c=0;c<l.childNodes.length;c+=1)r.push(l.childNodes[c])}else r=function(e,t){if("string"!=typeof e)return[e];for(var n=[],i=t.querySelectorAll(e),r=0;r<i.length;r+=1)n.push(i[r]);return n}(e.trim(),t||i)}else if(e.nodeType||e===n||e===i)r.push(e);else if(Array.isArray(e)){if(e instanceof b)return e;r=e}return new b(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(r))}x.fn=b.prototype;var S="resize scroll".split(" ");function A(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(void 0!==n[0])return this.on.apply(this,[e].concat(n));for(var r=0;r<this.length;r+=1)S.indexOf(e)<0&&(e in this[r]?this[r][e]():x(this[r]).trigger(e));return this}}A("click"),A("blur"),A("focus"),A("focusin"),A("focusout"),A("keyup"),A("keydown"),A("keypress"),A("submit"),A("change"),A("mousedown"),A("mousemove"),A("mouseup"),A("mouseenter"),A("mouseleave"),A("mouseout"),A("mouseover"),A("touchstart"),A("touchend"),A("touchmove"),A("resize"),A("scroll");var C,M,E,T={addClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=_(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){(e=e.classList).add.apply(e,h(i))})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=_(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){(e=e.classList).remove.apply(e,h(i))})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=_(t.map((function(e){return e.split(" ")})));return 0<w(this,(function(e){return 0<i.filter((function(t){return e.classList.contains(t)})).length})).length},toggleClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=_(t.map((function(e){return e.split(" ")})));this.forEach((function(e){i.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var i in e)this[n][i]=e[i],this[n].setAttribute(i,e[i]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?"".concat(e,"ms"):e;return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],r=t[1],o=t[2],a=t[3];function s(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),x(t).is(r))o.apply(t,n);else for(var i=x(t).parents(),a=0;a<i.length;a+=1)x(i[a]).is(r)&&o.apply(i[a],n)}}function l(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),o.apply(this,t)}"function"==typeof t[1]&&(i=t[0],o=t[1],a=t[2],r=void 0);a=a||!1;for(var u,c=i.split(" "),h=0;h<this.length;h+=1){var d=this[h];if(r)for(u=0;u<c.length;u+=1){var f=c[u];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[f]||(d.dom7LiveListeners[f]=[]),d.dom7LiveListeners[f].push({listener:o,proxyListener:s}),d.addEventListener(f,s,a)}else for(u=0;u<c.length;u+=1){var p=c[u];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[p]||(d.dom7Listeners[p]=[]),d.dom7Listeners[p].push({listener:o,proxyListener:l}),d.addEventListener(p,l,a)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=t[0],r=t[1],o=t[2],a=t[3],s=("function"==typeof t[1]&&(i=t[0],o=t[1],a=t[2],r=void 0),a=a||!1,i.split(" ")),l=0;l<s.length;l+=1)for(var u=s[l],c=0;c<this.length;c+=1){var h=this[c],d=void 0;if(!r&&h.dom7Listeners?d=h.dom7Listeners[u]:r&&h.dom7LiveListeners&&(d=h.dom7LiveListeners[u]),d&&d.length)for(var f=d.length-1;0<=f;--f){var p=d[f];(o&&p.listener===o||o&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===o||!o)&&(h.removeEventListener(u,p.proxyListener,a),d.splice(f,1))}}return this},trigger:function(){for(var e=u(),t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=n[0].split(" "),o=n[1],a=0;a<r.length;a+=1)for(var s=r[a],l=0;l<this.length;l+=1){var c,h=this[l];e.CustomEvent&&(c=new e.CustomEvent(s,{detail:o,bubbles:!0,cancelable:!0}),h.dom7EventData=n.filter((function(e,t){return 0<t})),h.dispatchEvent(c),h.dom7EventData=[],delete h.dom7EventData)}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function n(i){i.target===this&&(e.call(this,i),t.off("transitionend",n))})),this},outerWidth:function(e){return 0<this.length?e?(e=this.styles(),this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))):this[0].offsetWidth:null},outerHeight:function(e){return 0<this.length?e?(e=this.styles(),this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))):this[0].offsetHeight:null},styles:function(){var e=u();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){var e,t,n,i,r,o;return 0<this.length?(o=u(),i=s(),t=(e=this[0]).getBoundingClientRect(),i=i.body,n=e.clientTop||i.clientTop||0,i=e.clientLeft||i.clientLeft||0,r=e===o?o.scrollY:e.scrollTop,o=e===o?o.scrollX:e.scrollLeft,{top:t.top+r-n,left:t.left+o-i}):null},css:function(e,t){var n,i=u();if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(var r in e)this[n].style[r]=e[r];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e)for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this},each:function(e){return e&&this.forEach((function(t,n){e.apply(t,[t,n])})),this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,n,i=u(),r=s(),o=this[0];if(o&&void 0!==e)if("string"==typeof e){if(o.matches)return o.matches(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);for(t=x(e),n=0;n<t.length;n+=1)if(t[n]===o)return!0}else{if(e===r)return o===r;if(e===i)return o===i;if(e.nodeType||e instanceof b)for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===o)return!0}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){var t;return void 0===e?this:x((t=this.length)-1<e?[]:e<0?(t+=e)<0?[]:[this[t]]:[this[e]])},append:function(){for(var e=s(),t=0;t<arguments.length;t+=1)for(var n=t<0||arguments.length<=t?void 0:arguments[t],i=0;i<this.length;i+=1)if("string"==typeof n){var r=e.createElement("div");for(r.innerHTML=n;r.firstChild;)this[i].appendChild(r.firstChild)}else if(n instanceof b)for(var o=0;o<n.length;o+=1)this[i].appendChild(n[o]);else this[i].appendChild(n);return this},prepend:function(e){for(var t,n=s(),i=0;i<this.length;i+=1)if("string"==typeof e){var r=n.createElement("div");for(r.innerHTML=e,t=r.childNodes.length-1;0<=t;--t)this[i].insertBefore(r.childNodes[t],this[i].childNodes[0])}else if(e instanceof b)for(t=0;t<e.length;t+=1)this[i].insertBefore(e[t],this[i].childNodes[0]);else this[i].insertBefore(e,this[i].childNodes[0]);return this},next:function(e){return 0<this.length?e?this[0].nextElementSibling&&x(this[0].nextElementSibling).is(e)?x([this[0].nextElementSibling]):x([]):this[0].nextElementSibling?x([this[0].nextElementSibling]):x([]):x([])},nextAll:function(e){var t=[],n=this[0];if(!n)return x([]);for(;n.nextElementSibling;){var i=n.nextElementSibling;(!e||x(i).is(e))&&t.push(i),n=i}return x(t)},prev:function(e){var t;return 0<this.length?(t=this[0],e?t.previousElementSibling&&x(t.previousElementSibling).is(e)?x([t.previousElementSibling]):x([]):t.previousElementSibling?x([t.previousElementSibling]):x([])):x([])},prevAll:function(e){var t=[],n=this[0];if(!n)return x([]);for(;n.previousElementSibling;){var i=n.previousElementSibling;(!e||x(i).is(e))&&t.push(i),n=i}return x(t)},parent:function(e){for(var t=[],n=0;n<this.length;n+=1)null===this[n].parentNode||e&&!x(this[n].parentNode).is(e)||t.push(this[n].parentNode);return x(t)},parents:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var i=this[n].parentNode;i;)e&&!x(i).is(e)||t.push(i),i=i.parentNode;return x(t)},closest:function(e){var t=this;return void 0===e?x([]):t.is(e)?t:t.parents(e).eq(0)},find:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var i=this[n].querySelectorAll(e),r=0;r<i.length;r+=1)t.push(i[r]);return x(t)},children:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var i=this[n].children,r=0;r<i.length;r+=1)e&&!x(i[r]).is(e)||t.push(i[r]);return x(t)},filter:function(e){return x(w(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}},D=(Object.keys(T).forEach((function(e){Object.defineProperty(x.fn,e,{value:T[e],writable:!0})})),x);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){return setTimeout(e,1<arguments.length&&void 0!==t?t:0)}function R(){return Date.now()}function L(e,t){t=1<arguments.length&&void 0!==t?t:"x";var n,i,r,o,a=u(),s=(e=e,o=(o=!(o=(s=u()).getComputedStyle?s.getComputedStyle(e,null):o)&&e.currentStyle?e.currentStyle:o)||e.style);return a.WebKitCSSMatrix?(6<(i=s.transform||s.webkitTransform).split(",").length&&(i=i.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),r=new a.WebKitCSSMatrix("none"===i?"":i)):n=(r=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(i=a.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),(i="y"===t?a.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5]):i)||0}function B(e){return"object"===k(e)&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function I(e){for(var t,n=Object(arguments.length<=0?void 0:e),i=["__proto__","constructor","prototype"],r=1;r<arguments.length;r+=1){var o=r<0||arguments.length<=r?void 0:arguments[r];if(null!=o&&(t=o,!("undefined"!=typeof window&&void 0!==window.HTMLElement?t instanceof HTMLElement:t&&(1===t.nodeType||11===t.nodeType))))for(var a=Object.keys(Object(o)).filter((function(e){return i.indexOf(e)<0})),s=0,l=a.length;s<l;s+=1){var u=a[s],c=Object.getOwnPropertyDescriptor(o,u);void 0!==c&&c.enumerable&&(B(n[u])&&B(o[u])?o[u].__swiper__?n[u]=o[u]:I(n[u],o[u]):B(n[u])||!B(o[u])||(n[u]={},o[u].__swiper__)?n[u]=o[u]:I(n[u],o[u]))}}return n}function F(e,t,n){e.style.setProperty(t,n)}function z(e){function t(e,t){return"next"===h&&t<=e||"prev"===h&&e<=t}var n,i=e.swiper,r=e.targetPosition,o=e.side,a=u(),s=-i.translate,l=null,c=i.params.speed,h=(i.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(i.cssModeFrameID),s<r?"next":"prev");!function e(){n=(new Date).getTime(),null===l&&(l=n);var u=Math.max(Math.min((n-l)/c,1),0),h=(u=.5-Math.cos(u*Math.PI)/2,s+u*(r-s));t(h,r)&&(h=r),i.wrapperEl.scrollTo(P({},o,h)),t(h,r)?(i.wrapperEl.style.overflow="hidden",i.wrapperEl.style.scrollSnapType="",setTimeout((function(){i.wrapperEl.style.overflow="",i.wrapperEl.scrollTo(P({},o,h))})),a.cancelAnimationFrame(i.cssModeFrameID)):i.cssModeFrameID=a.requestAnimationFrame(e)}()}function N(){var e,t;return C||(e=u(),t=s(),C={smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(t){}return t}(),gestures:"ongesturestart"in e}),C}function U(e){return M=M||function(e){e=(0<arguments.length&&void 0!==e?e:{}).userAgent;var t=N(),n=(o=u()).navigator.platform,i=(e=e||o.navigator.userAgent,{ios:!1,android:!1}),r=o.screen.width,o=o.screen.height,a=e.match(/(Android);?[\s\/]+([\d.]+)?/),s=e.match(/(iPad).*OS\s([\d_]+)/),l=e.match(/(iPod)(.*OS\s([\d_]+))?/),c=!s&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===n;n="MacIntel"===n;return!s&&n&&t.touch&&0<=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(r,"x").concat(o))&&(s=(s=e.match(/(Version)\/([\d.]+)/))||[0,1,"13_0_0"],n=!1),a&&!h&&(i.os="android",i.android=!0),(s||c||l)&&(i.os="ios",i.ios=!0),i}(0<arguments.length&&void 0!==e?e:{})}function j(){var e,t;return E||(t=u(),E={isSafari:0<=(e=t.navigator.userAgent.toLowerCase()).indexOf("safari")&&e.indexOf("chrome")<0&&e.indexOf("android")<0,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}),E}function H(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?G(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function Y(e){var t=e.swiper,n=e.runCallbacks,i=e.direction,r=(e=e.step,t.activeIndex),o=t.previousIndex;i=(i=i)||(o<r?"next":r<o?"prev":"reset");t.emit("transition".concat(e)),n&&r!==o&&("reset"===i?t.emit("slideResetTransition".concat(e)):(t.emit("slideChangeTransition".concat(e)),"next"===i?t.emit("slideNextTransition".concat(e)):t.emit("slidePrevTransition".concat(e))))}function q(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(){var e,t,n=this,i=n.params,r=n.el;r&&0===r.offsetWidth||(i.breakpoints&&n.setBreakpoint(),r=n.allowSlideNext,e=n.allowSlidePrev,t=n.snapGrid,n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses(),("auto"===i.slidesPerView||1<i.slidesPerView)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides?n.slideTo(n.slides.length-1,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.run(),n.allowSlidePrev=e,n.allowSlideNext=r,n.params.watchOverflow&&t!==n.snapGrid&&n.checkOverflow())}var K=!1;function J(){}function Z(e,t){var n,i=s(),r=e.params,o=e.touchEvents,a=e.el,l=e.wrapperEl,u=e.device,c=e.support,h=!!r.nested,d="on"===t?"addEventListener":"removeEventListener";c.touch?(n=!("touchstart"!==o.start||!c.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1},a[d](o.start,e.onTouchStart,n),a[d](o.move,e.onTouchMove,c.passiveListener?{passive:!1,capture:h}:h),a[d](o.end,e.onTouchEnd,n),o.cancel&&a[d](o.cancel,e.onTouchEnd,n)):(a[d](o.start,e.onTouchStart,!1),i[d](o.move,e.onTouchMove,h),i[d](o.end,e.onTouchEnd,!1)),(r.preventClicks||r.preventClicksPropagation)&&a[d]("click",e.onClick,!0),r.cssMode&&l[d]("scroll",e.onScroll),r.updateOnWindowResize?e[t](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",Q,!0):e[t]("observerUpdate",Q,!0)}function $(e,t){return e.grid&&t.grid&&1<t.grid.rows}function ee(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?te(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ie={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?ae(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function se(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var le={eventsEmitter:{on:function(e,t,n){var i,r=this;return r.eventsListeners&&!r.destroyed&&"function"==typeof t&&(i=n?"unshift":"push",e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)}))),r},once:function(e,t,n){var i=this;return!i.eventsListeners||i.destroyed||"function"!=typeof t?i:(r.__emitterProxy=t,i.on(e,r,n));function r(){i.off(e,r),r.__emitterProxy&&delete r.__emitterProxy;for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];t.apply(i,o)}},onAny:function(e,t){return this.eventsListeners&&!this.destroyed&&"function"==typeof e&&(t=t?"unshift":"push",this.eventsAnyListeners.indexOf(e)<0&&this.eventsAnyListeners[t](e)),this},offAny:function(e){return this.eventsListeners&&!this.destroyed&&this.eventsAnyListeners&&0<=(e=this.eventsAnyListeners.indexOf(e))&&this.eventsAnyListeners.splice(e,1),this},off:function(e,t){var n=this;return n.eventsListeners&&!n.destroyed&&n.eventsListeners&&e.split(" ").forEach((function(e){void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(i,r){(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&n.eventsListeners[e].splice(r,1)}))})),n},emit:function(){var e=this;if(e.eventsListeners&&!e.destroyed&&e.eventsListeners){for(var t,n,i,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];i="string"==typeof o[0]||Array.isArray(o[0])?(t=o[0],n=o.slice(1,o.length),e):(t=o[0].events,n=o[0].data,o[0].context||e),n.unshift(i),(Array.isArray(t)?t:t.split(" ")).forEach((function(t){e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((function(e){e.apply(i,[t].concat(H(n)))})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((function(e){e.apply(i,n)}))}))}return e}},update:{updateSize:function(){var e=this,t=e.$el,n=void 0!==e.params.width&&null!==e.params.width?e.params.width:t[0].clientWidth,i=void 0!==e.params.height&&null!==e.params.height?e.params.height:t[0].clientHeight;0===n&&e.isHorizontal()||0===i&&e.isVertical()||(n=n-parseInt(t.css("padding-left")||0,10)-parseInt(t.css("padding-right")||0,10),i=i-parseInt(t.css("padding-top")||0,10)-parseInt(t.css("padding-bottom")||0,10),Number.isNaN(n)&&(n=0),Number.isNaN(i)&&(i=0),Object.assign(e,{width:n,height:i,size:e.isHorizontal()?n:i}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}var i=e.params,r=e.$wrapperEl,o=e.size,a=e.rtlTranslate,s=e.wrongRTL,l=e.virtual&&i.virtual.enabled,u=(l?e.virtual:e).slides.length,c=r.children(".".concat(e.params.slideClass)),h=(l?e.virtual.slides:c).length,d=[],f=[],p=[],m=i.slidesOffsetBefore,v=("function"==typeof m&&(m=i.slidesOffsetBefore.call(e)),i.slidesOffsetAfter),g=("function"==typeof v&&(v=i.slidesOffsetAfter.call(e)),e.snapGrid.length),y=e.slidesGrid.length,b=i.spaceBetween,_=-m,w=0,x=0;if(void 0!==o){"string"==typeof b&&0<=b.indexOf("%")&&(b=parseFloat(b.replace("%",""))/100*o),e.virtualSize=-b,a?c.css({marginLeft:"",marginBottom:"",marginTop:""}):c.css({marginRight:"",marginBottom:"",marginTop:""}),i.centeredSlides&&i.cssMode&&(F(e.wrapperEl,"--swiper-centered-offset-before",""),F(e.wrapperEl,"--swiper-centered-offset-after",""));for(var S,A,C,M,E,T,D=i.grid&&1<i.grid.rows&&e.grid,P=(D&&e.grid.initSlides(h),"auto"===i.slidesPerView&&i.breakpoints&&0<Object.keys(i.breakpoints).filter((function(e){return void 0!==i.breakpoints[e].slidesPerView})).length),k=0;k<h;k+=1){H=0;var O,R,L,B,I,z,N,U,j,H,G=c.eq(k);D&&e.grid.updateSlide(k,G,h,t),"none"!==G.css("display")&&("auto"===i.slidesPerView?(P&&(c[k].style[t("width")]=""),U=getComputedStyle(G[0]),O=G[0].style.transform,R=G[0].style.webkitTransform,O&&(G[0].style.transform="none"),R&&(G[0].style.webkitTransform="none"),H=i.roundLengths?e.isHorizontal()?G.outerWidth(!0):G.outerHeight(!0):(L=n(U,"width"),B=n(U,"padding-left"),I=n(U,"padding-right"),z=n(U,"margin-left"),N=n(U,"margin-right"),(U=U.getPropertyValue("box-sizing"))&&"border-box"===U?L+z+N:(j=(U=G[0]).clientWidth,L+B+I+z+N+(U.offsetWidth-j))),O&&(G[0].style.transform=O),R&&(G[0].style.webkitTransform=R),i.roundLengths&&(H=Math.floor(H))):(H=(o-(i.slidesPerView-1)*b)/i.slidesPerView,i.roundLengths&&(H=Math.floor(H)),c[k]&&(c[k].style[t("width")]="".concat(H,"px"))),c[k]&&(c[k].swiperSlideSize=H),p.push(H),i.centeredSlides?(_=_+H/2+w/2+b,0===w&&0!==k&&(_=_-o/2-b),0===k&&(_=_-o/2-b),Math.abs(_)<.001&&(_=0),i.roundLengths&&(_=Math.floor(_)),x%i.slidesPerGroup==0&&d.push(_),f.push(_)):(i.roundLengths&&(_=Math.floor(_)),(x-Math.min(e.params.slidesPerGroupSkip,x))%e.params.slidesPerGroup==0&&d.push(_),f.push(_),_=_+H+b),e.virtualSize+=H+b,w=H,x+=1)}if(e.virtualSize=Math.max(e.virtualSize,o)+v,a&&s&&("slide"===i.effect||"coverflow"===i.effect)&&r.css({width:"".concat(e.virtualSize+i.spaceBetween,"px")}),i.setWrapperSize&&r.css(V({},t("width"),"".concat(e.virtualSize+i.spaceBetween,"px"))),D&&e.grid.updateWrapperSize(H,d,t),!i.centeredSlides){for(var W=[],Y=0;Y<d.length;Y+=1){var q=d[Y];i.roundLengths&&(q=Math.floor(q)),d[Y]<=e.virtualSize-o&&W.push(q)}d=W,1<Math.floor(e.virtualSize-o)-Math.floor(d[d.length-1])&&d.push(e.virtualSize-o)}0===d.length&&(d=[0]),0!==i.spaceBetween&&(s=e.isHorizontal()&&a?"marginLeft":t("marginRight"),c.filter((function(e,t){return!i.cssMode||t!==c.length-1})).css(V({},s,"".concat(b,"px")))),i.centeredSlides&&i.centeredSlidesBounds&&(S=0,p.forEach((function(e){S+=e+(i.spaceBetween||0)})),A=(S-=i.spaceBetween)-o,d=d.map((function(e){return e<0?-m:A<e?A+v:e}))),i.centerInsufficientSlides&&(C=0,p.forEach((function(e){C+=e+(i.spaceBetween||0)})),(C-=i.spaceBetween)<o&&(M=(o-C)/2,d.forEach((function(e,t){d[t]=e-M})),f.forEach((function(e,t){f[t]=e+M})))),Object.assign(e,{slides:c,snapGrid:d,slidesGrid:f,slidesSizesGrid:p}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds&&(F(e.wrapperEl,"--swiper-centered-offset-before","".concat(-d[0],"px")),F(e.wrapperEl,"--swiper-centered-offset-after","".concat(e.size/2-p[p.length-1]/2,"px")),E=-e.snapGrid[0],T=-e.slidesGrid[0],e.snapGrid=e.snapGrid.map((function(e){return e+E})),e.slidesGrid=e.slidesGrid.map((function(e){return e+T}))),h!==u&&e.emit("slidesLengthChange"),d.length!==g&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),f.length!==y&&e.emit("slidesGridLengthChange"),i.watchSlidesProgress&&e.updateSlidesOffset(),l||i.cssMode||"slide"!==i.effect&&"fade"!==i.effect||(r="".concat(i.containerModifierClass,"backface-hidden"),a=e.$el.hasClass(r),h<=i.maxBackfaceHiddenSlides?a||e.$el.addClass(r):a&&e.$el.removeClass(r))}},updateAutoHeight:function(e){function t(e){return(a?r.slides.filter((function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e})):r.slides.eq(e))[0]}var n,i,r=this,o=[],a=r.virtual&&r.params.virtual.enabled,s=0;if("number"==typeof e?r.setTransition(e):!0===e&&r.setTransition(r.params.speed),"auto"!==r.params.slidesPerView&&1<r.params.slidesPerView)if(r.params.centeredSlides)(r.visibleSlides||D([])).each((function(e){o.push(e)}));else for(n=0;n<Math.ceil(r.params.slidesPerView);n+=1){var l=r.activeIndex+n;if(l>r.slides.length&&!a)break;o.push(t(l))}else o.push(t(r.activeIndex));for(n=0;n<o.length;n+=1)void 0!==o[n]&&(s=s<(i=o[n].offsetHeight)?i:s);!s&&0!==s||r.$wrapperEl.css("height","".concat(s,"px"))},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0,t=this,n=t.params,i=t.slides,r=t.rtlTranslate,o=t.snapGrid;if(0!==i.length){void 0===i[0].swiperSlideOffset&&t.updateSlidesOffset();var a=r?e:-e;i.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var s=0;s<i.length;s+=1){var l=i[s],u=l.swiperSlideOffset,c=(n.cssMode&&n.centeredSlides&&(u-=i[0].swiperSlideOffset),(a+(n.centeredSlides?t.minTranslate():0)-u)/(l.swiperSlideSize+n.spaceBetween)),h=(a-o[0]+(n.centeredSlides?t.minTranslate():0)-u)/(l.swiperSlideSize+n.spaceBetween),d=(u=-(a-u))+t.slidesSizesGrid[s];(0<=u&&u<t.size-1||1<d&&d<=t.size||u<=0&&d>=t.size)&&(t.visibleSlides.push(l),t.visibleSlidesIndexes.push(s),i.eq(s).addClass(n.slideVisibleClass)),l.progress=r?-c:c,l.originalProgress=r?-h:h}t.visibleSlides=D(t.visibleSlides)}},updateProgress:function(e){var t=this,n=(void 0===e&&(n=t.rtlTranslate?-1:1,e=t&&t.translate&&t.translate*n||0),t.params),i=t.maxTranslate()-t.minTranslate(),r=t.progress,o=t.isBeginning,a=o,s=t.isEnd,l=0==i?o=!(r=0):(o=(r=(e-t.minTranslate())/i)<=0,1<=r);Object.assign(t,{progress:r,isBeginning:o,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),o&&!a&&t.emit("reachBeginning toEdge"),l&&!s&&t.emit("reachEnd toEdge"),(a&&!o||s&&!l)&&t.emit("fromEdge"),t.emit("progress",r)},updateSlidesClasses:function(){var e=this.slides,t=this.params,n=this.$wrapperEl,i=this.activeIndex,r=this.realIndex,o=this.virtual&&t.virtual.enabled;e.removeClass("".concat(t.slideActiveClass," ").concat(t.slideNextClass," ").concat(t.slidePrevClass," ").concat(t.slideDuplicateActiveClass," ").concat(t.slideDuplicateNextClass," ").concat(t.slideDuplicatePrevClass)),(o=o?this.$wrapperEl.find(".".concat(t.slideClass,'[data-swiper-slide-index="').concat(i,'"]')):e.eq(i)).addClass(t.slideActiveClass),t.loop&&(o.hasClass(t.slideDuplicateClass)?n.children(".".concat(t.slideClass,":not(.").concat(t.slideDuplicateClass,')[data-swiper-slide-index="').concat(r,'"]')):n.children(".".concat(t.slideClass,".").concat(t.slideDuplicateClass,'[data-swiper-slide-index="').concat(r,'"]'))).addClass(t.slideDuplicateActiveClass),i=o.nextAll(".".concat(t.slideClass)).eq(0).addClass(t.slideNextClass),t.loop&&0===i.length&&(i=e.eq(0)).addClass(t.slideNextClass),r=o.prevAll(".".concat(t.slideClass)).eq(0).addClass(t.slidePrevClass);t.loop&&0===r.length&&(r=e.eq(-1)).addClass(t.slidePrevClass),t.loop&&((i.hasClass(t.slideDuplicateClass)?n.children(".".concat(t.slideClass,":not(.").concat(t.slideDuplicateClass,')[data-swiper-slide-index="').concat(i.attr("data-swiper-slide-index"),'"]')):n.children(".".concat(t.slideClass,".").concat(t.slideDuplicateClass,'[data-swiper-slide-index="').concat(i.attr("data-swiper-slide-index"),'"]'))).addClass(t.slideDuplicateNextClass),(r.hasClass(t.slideDuplicateClass)?n.children(".".concat(t.slideClass,":not(.").concat(t.slideDuplicateClass,')[data-swiper-slide-index="').concat(r.attr("data-swiper-slide-index"),'"]')):n.children(".".concat(t.slideClass,".").concat(t.slideDuplicateClass,'[data-swiper-slide-index="').concat(r.attr("data-swiper-slide-index"),'"]'))).addClass(t.slideDuplicatePrevClass)),this.emitSlidesClasses()},updateActiveIndex:function(e){var t=this,n=t.rtlTranslate?t.translate:-t.translate,i=t.slidesGrid,r=t.snapGrid,o=t.params,a=t.activeIndex,s=t.realIndex,l=t.snapIndex,u=e;if(void 0===u){for(var c=0;c<i.length;c+=1)void 0!==i[c+1]?n>=i[c]&&n<i[c+1]-(i[c+1]-i[c])/2?u=c:n>=i[c]&&n<i[c+1]&&(u=c+1):n>=i[c]&&(u=c);o.normalizeSlideIndex&&(u<0||void 0===u)&&(u=0)}(e=0<=r.indexOf(n)?r.indexOf(n):(e=Math.min(o.slidesPerGroupSkip,u))+Math.floor((u-e)/o.slidesPerGroup))>=r.length&&(e=r.length-1),u===a?e!==l&&(t.snapIndex=e,t.emit("snapIndexChange")):(o=parseInt(t.slides.eq(u).attr("data-swiper-slide-index")||u,10),Object.assign(t,{snapIndex:e,realIndex:o,previousIndex:a,activeIndex:u}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),s!==o&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange"))},updateClickedSlide:function(e){var t,n=this,i=n.params,r=D(e).closest(".".concat(i.slideClass))[0],o=!1;if(r)for(var a=0;a<n.slides.length;a+=1)if(n.slides[a]===r){o=!0,t=a;break}r&&o?(n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(D(r).attr("data-swiper-slide-index"),10):n.clickedIndex=t,i.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()):(n.clickedSlide=void 0,n.clickedIndex=void 0)}},translate:{getTranslate:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.isHorizontal()?"x":"y",t=this.params,n=this.rtlTranslate,i=this.translate,r=this.$wrapperEl;return t.virtualTranslate?n?-i:i:t.cssMode?i:(t=L(r[0],e),(t=n?-t:t)||0)},setTranslate:function(e,t){var n=this,i=n.rtlTranslate,r=n.params,o=n.$wrapperEl,a=n.wrapperEl,s=n.progress,l=0,u=0;n.isHorizontal()?l=i?-e:e:u=e,r.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),r.cssMode?a[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:r.virtualTranslate||o.transform("translate3d(".concat(l,"px, ").concat(u,"px, ").concat(0,"px)")),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u,(a=0==(i=n.maxTranslate()-n.minTranslate())?0:(e-n.minTranslate())/i)!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],r=4<arguments.length?arguments[4]:void 0,o=this,a=o.params,s=o.wrapperEl;if(o.animating&&a.preventInteractionOnTransition)return!1;var l=o.minTranslate(),u=o.maxTranslate();l=i&&l<e?l:i&&e<u?u:e;if(o.updateProgress(l),a.cssMode)if(i=o.isHorizontal(),0===t)s[i?"scrollLeft":"scrollTop"]=-l;else{if(!o.support.smoothScroll)return z({swiper:o,targetPosition:-l,side:i?"left":"top"}),!0;s.scrollTo((W(u={},i?"left":"top",-l),W(u,"behavior","smooth"),u))}else 0===t?(o.setTransition(0),o.setTranslate(l),n&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(l),n&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd)));return!0}},transition:{setTransition:function(e,t){this.params.cssMode||this.$wrapperEl.transition(e),this.emit("setTransition",e,t)},transitionStart:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length?arguments[1]:void 0,n=this.params;n.cssMode||(n.autoHeight&&this.updateAutoHeight(),Y({swiper:this,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length?arguments[1]:void 0,n=this.params;this.animating=!1,n.cssMode||(this.setTransition(0),Y({swiper:this,runCallbacks:e,direction:t,step:"End"}))}},slide:{slideTo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=3<arguments.length?arguments[3]:void 0,r=4<arguments.length?arguments[4]:void 0;if("number"!=typeof e&&"string"!=typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [".concat(X(e),"] given."));if("string"==typeof e){var o=parseInt(e,10);if(!isFinite(o))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=o}var a=this,s=e,l=(o=(s<0&&(s=0),a.params),e=a.snapGrid,a.slidesGrid),u=a.previousIndex,c=a.activeIndex,h=a.rtlTranslate,d=a.wrapperEl,f=a.enabled;if(a.animating&&o.preventInteractionOnTransition||!f&&!i&&!r)return!1;var p,m=-e[r=(r=(f=Math.min(a.params.slidesPerGroupSkip,s))+Math.floor((s-f)/a.params.slidesPerGroup))>=e.length?e.length-1:r];if(o.normalizeSlideIndex)for(var v=0;v<l.length;v+=1){var g=-Math.floor(100*m),y=Math.floor(100*l[v]),b=Math.floor(100*l[v+1]);void 0!==l[v+1]?y<=g&&g<b-(b-y)/2?s=v:y<=g&&g<b&&(s=v+1):y<=g&&(s=v)}if(a.initialized&&s!==c){if(!a.allowSlideNext&&m<a.translate&&m<a.minTranslate())return!1;if(!a.allowSlidePrev&&m>a.translate&&m>a.maxTranslate()&&(c||0)!==s)return!1}if(s!==(u||0)&&n&&a.emit("beforeSlideChangeStart"),a.updateProgress(m),p=c<s?"next":s<c?"prev":"reset",h&&-m===a.translate||!h&&m===a.translate)return a.updateActiveIndex(s),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==o.effect&&a.setTranslate(m),"reset"!==p&&(a.transitionStart(n,p),a.transitionEnd(n,p)),!1;if(o.cssMode)if(f=a.isHorizontal(),e=h?m:-m,0===t)(r=a.virtual&&a.params.virtual.enabled)&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),d[f?"scrollLeft":"scrollTop"]=e,r&&requestAnimationFrame((function(){a.wrapperEl.style.scrollSnapType="",a._swiperImmediateVirtual=!1}));else{if(!a.support.smoothScroll)return z({swiper:a,targetPosition:e,side:f?"left":"top"}),!0;d.scrollTo((q(u={},f?"left":"top",e),q(u,"behavior","smooth"),u))}else a.setTransition(t),a.setTranslate(m),a.updateActiveIndex(s),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,i),a.transitionStart(n,p),0===t?a.transitionEnd(n,p):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,p))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd));return!0},slideToLoop:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=3<arguments.length?arguments[3]:void 0;if("string"==typeof e){var r=parseInt(e,10);if(!isFinite(r))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=r}return r=e,this.params.loop&&(r+=this.loopedSlides),this.slideTo(r,t,n,i)},slideNext:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length?arguments[2]:void 0,i=this,r=i.animating,o=i.enabled,a=i.params;if(!o)return i;if(o=a.slidesPerGroup,"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(o=Math.max(i.slidesPerViewDynamic("current",!0),1)),o=i.activeIndex<a.slidesPerGroupSkip?1:o,a.loop){if(r&&a.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return a.rewind&&i.isEnd?i.slideTo(0,e,t,n):i.slideTo(i.activeIndex+o,e,t,n)},slidePrev:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length?arguments[2]:void 0,i=this,r=i.params,o=i.animating,a=i.snapGrid,s=i.slidesGrid,l=i.rtlTranslate;if(!i.enabled)return i;if(r.loop){if(o&&r.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var c,h=u(l?i.translate:-i.translate);o=a.map(u),void 0===(l=a[o.indexOf(h)-1])&&r.cssMode&&(a.forEach((function(e,t){e<=h&&(c=t)})),void 0!==c&&(l=a[0<c?c-1:c])),o=0;return void 0!==l&&((o=s.indexOf(l))<0&&(o=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(o=o-i.slidesPerViewDynamic("previous",!0)+1,o=Math.max(o,0))),r.rewind&&i.isBeginning?(a=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1,i.slideTo(a,e,t,n)):i.slideTo(o,e,t,n)},slideReset:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.params.speed;return this.slideTo(this.activeIndex,e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1],2<arguments.length?arguments[2]:void 0)},slideToClosest:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.params.speed,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=2<arguments.length?arguments[2]:void 0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.5,o=this,a=o.activeIndex,s=(s=Math.min(o.params.slidesPerGroupSkip,a))+Math.floor((a-s)/o.params.slidesPerGroup),l=o.rtlTranslate?o.translate:-o.translate;return l>=o.snapGrid[s]?(e=o.snapGrid[s],(o.snapGrid[s+1]-e)*r<l-e&&(a+=o.params.slidesPerGroup)):l-(e=o.snapGrid[s-1])<=(o.snapGrid[s]-e)*r&&(a-=o.params.slidesPerGroup),a=Math.max(a,0),a=Math.min(a,o.slidesGrid.length-1),o.slideTo(a,t,n,i)},slideToClickedSlide:function(){var e,t=this,n=t.params,i=t.$wrapperEl,r="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,o=t.clickedIndex;n.loop?t.animating||(e=parseInt(D(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?o<t.loopedSlides-r/2||o>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),o=i.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),O((function(){t.slideTo(o)}))):t.slideTo(o):o>t.slides.length-r?(t.loopFix(),o=i.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),O((function(){t.slideTo(o)}))):t.slideTo(o)):t.slideTo(o)}},loop:{loopCreate:function(){var e=s(),t=this.params,n=this.$wrapperEl,i=0<n.children().length?D(n.children()[0].parentNode):n,r=(i.children(".".concat(t.slideClass,".").concat(t.slideDuplicateClass)).remove(),i.children(".".concat(t.slideClass)));if(t.loopFillGroupWithBlank){var o=t.slidesPerGroup-r.length%t.slidesPerGroup;if(o!==t.slidesPerGroup){for(var a=0;a<o;a+=1){var l=D(e.createElement("div")).addClass("".concat(t.slideClass," ").concat(t.slideBlankClass));i.append(l)}r=i.children(".".concat(t.slideClass))}}"auto"!==t.slidesPerView||t.loopedSlides||(t.loopedSlides=r.length),this.loopedSlides=Math.ceil(parseFloat(t.loopedSlides||t.slidesPerView,10)),this.loopedSlides+=t.loopAdditionalSlides,this.loopedSlides>r.length&&this.params.loopedSlidesLimit&&(this.loopedSlides=r.length);var u=[],c=[];r.each((function(e,t){D(e).attr("data-swiper-slide-index",t)}));for(var h=0;h<this.loopedSlides;h+=1){var d=h-Math.floor(h/r.length)*r.length;c.push(r.eq(d)[0]),u.unshift(r.eq(r.length-d-1)[0])}for(var f=0;f<c.length;f+=1)i.append(D(c[f].cloneNode(!0)).addClass(t.slideDuplicateClass));for(var p=u.length-1;0<=p;--p)i.prepend(D(u[p].cloneNode(!0)).addClass(t.slideDuplicateClass))},loopFix:function(){var e=this,t=(e.emit("beforeLoopFix"),e.activeIndex),n=e.slides,i=e.loopedSlides,r=e.allowSlidePrev,o=e.allowSlideNext,a=e.snapGrid,s=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var l;a=-a[t]-e.getTranslate();t<i?(l=n.length-3*i+t,e.slideTo(l+=i,0,!1,!0)&&0!=a&&e.setTranslate((s?-e.translate:e.translate)-a)):t>=n.length-i&&(l=-n.length+t+i,e.slideTo(l+=i,0,!1,!0)&&0!=a&&e.setTranslate((s?-e.translate:e.translate)-a)),e.allowSlidePrev=r,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){var e=this.$wrapperEl,t=this.params,n=this.slides;e.children(".".concat(t.slideClass,".").concat(t.slideDuplicateClass,",.").concat(t.slideClass,".").concat(t.slideBlankClass)).remove(),n.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){var t;this.support.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||((t="container"===this.params.touchEventsTarget?this.el:this.wrapperEl).style.cursor="move",t.style.cursor=e?"grabbing":"grab")},unsetGrabCursor:function(){this.support.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this["container"===this.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:{attachEvents:function(){var e=this,t=s(),n=e.params,i=e.support;e.onTouchStart=function(e){var t=this,n=s(),i=u(),r=t.touchEventsData,o=t.params,a=t.touches;if((l=t.enabled)&&(!t.animating||!o.preventInteractionOnTransition)){!t.animating&&o.cssMode&&o.loop&&t.loopFix();var l,c=((l=e).originalEvent&&(l=l.originalEvent),D(l.target));if(("wrapper"!==o.touchEventsTarget||c.closest(t.wrapperEl).length)&&(r.isTouchEvent="touchstart"===l.type,(r.isTouchEvent||!("which"in l)||3!==l.which)&&!(!r.isTouchEvent&&"button"in l&&0<l.button||r.isTouched&&r.isMoved))){var h=!!o.noSwipingClass&&""!==o.noSwipingClass,d=e.composedPath?e.composedPath():e.path;h=(h&&l.target&&l.target.shadowRoot&&d&&(c=D(d[0])),o.noSwipingSelector||".".concat(o.noSwipingClass)),d=!(!l.target||!l.target.shadowRoot);if(o.noSwiping&&(d?function(e,t){return function t(n){var i;return n&&n!==s()&&n!==u()&&((i=(n=n.assignedSlot||n).closest(e))||n.getRootNode)?i||t(n.getRootNode().host):null}(1<arguments.length&&void 0!==t?t:this)}(h,c[0]):c.closest(h)[0]))t.allowClick=!0;else if(!o.swipeHandler||c.closest(o.swipeHandler)[0]){a.currentX=("touchstart"===l.type?l.targetTouches[0]:l).pageX,a.currentY=("touchstart"===l.type?l.targetTouches[0]:l).pageY;d=a.currentX,h=a.currentY;var f=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,p=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(f&&(d<=p||d>=i.innerWidth-p)){if("prevent"!==f)return;e.preventDefault()}Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=d,a.startY=h,r.touchStartTime=R(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,0<o.threshold&&(r.allowThresholdMove=!1),"touchstart"!==l.type&&(i=!0,c.is(r.focusableElements)&&(i=!1,"SELECT"===c[0].nodeName&&(r.isTouched=!1)),n.activeElement&&D(n.activeElement).is(r.focusableElements)&&n.activeElement!==c[0]&&n.activeElement.blur(),p=i&&t.allowTouchMove&&o.touchStartPreventDefault,!o.touchStartForcePreventDefault&&!p||c[0].isContentEditable||l.preventDefault()),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",l)}}}}.bind(e),e.onTouchMove=function(e){var t=s(),n=this,i=n.touchEventsData,r=n.params,o=n.touches,a=n.rtlTranslate;if(n.enabled)if(e.originalEvent&&(e=e.originalEvent),i.isTouched){if(!i.isTouchEvent||"touchmove"===e.type){var l="touchmove"===e.type&&e.targetTouches&&(e.targetTouches[0]||e.changedTouches[0]),u=("touchmove"===e.type?l:e).pageX;l=("touchmove"===e.type?l:e).pageY;if(e.preventedByNestedSwiper)o.startX=u,o.startY=l;else if(n.allowTouchMove){if(i.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(l<o.startY&&n.translate<=n.maxTranslate()||l>o.startY&&n.translate>=n.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(u<o.startX&&n.translate<=n.maxTranslate()||u>o.startX&&n.translate>=n.minTranslate())return;if(i.isTouchEvent&&t.activeElement&&e.target===t.activeElement&&D(e.target).is(i.focusableElements))i.isMoved=!0,n.allowClick=!1;else if(i.allowTouchCallbacks&&n.emit("touchMove",e),!(e.targetTouches&&1<e.targetTouches.length)){o.currentX=u,o.currentY=l;t=o.currentX-o.startX;var c=o.currentY-o.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(t,2)+Math.pow(c,2))<n.params.threshold))if(void 0===i.isScrolling&&(n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:25<=t*t+c*c&&(h=180*Math.atan2(Math.abs(c),Math.abs(t))/Math.PI,i.isScrolling=n.isHorizontal()?h>r.touchAngle:90-h>r.touchAngle)),i.isScrolling&&n.emit("touchMoveOpposite",e),void 0!==i.startMoving||o.currentX===o.startX&&o.currentY===o.startY||(i.startMoving=!0),i.isScrolling)i.isTouched=!1;else if(i.startMoving){n.allowClick=!1,!r.cssMode&&e.cancelable&&e.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&e.stopPropagation(),i.isMoved||(r.loop&&!r.cssMode&&n.loopFix(),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,!r.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",e)),n.emit("sliderMove",e),i.isMoved=!0;var h=n.isHorizontal()?t:c;t=(o.diff=h,h*=r.touchRatio,n.swipeDirection=0<(h=a?-h:h)?"prev":"next",i.currentTranslate=h+i.startTranslate,!0),c=r.resistanceRatio;if(r.touchReleaseOnEdges&&(c=0),0<h&&i.currentTranslate>n.minTranslate()?(t=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+i.startTranslate+h,c))):h<0&&i.currentTranslate<n.maxTranslate()&&(t=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-i.startTranslate-h,c))),t&&(e.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),n.allowSlidePrev||n.allowSlideNext||(i.currentTranslate=i.startTranslate),0<r.threshold){if(!(Math.abs(h)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}r.followFinger&&!r.cssMode&&((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}}}else D(e.target).is(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(o,{startX:u,startY:l,currentX:u,currentY:l}),i.touchStartTime=R())}}else i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",e)}.bind(e),e.onTouchEnd=function(e){var t=this,n=t.touchEventsData,i=t.params,r=t.touches,o=t.rtlTranslate,a=t.slidesGrid;if(t.enabled)if(e.originalEvent&&(e=e.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",e),n.allowTouchCallbacks=!1,n.isTouched){i.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var s,l=(p=R())-n.touchStartTime;if(t.allowClick&&(f=e.path||e.composedPath&&e.composedPath(),t.updateClickedSlide(f&&f[0]||e.target),t.emit("tap click",e),l<300&&p-n.lastClickTime<300&&t.emit("doubleTap doubleClick",e)),n.lastClickTime=R(),O((function(){t.destroyed||(t.allowClick=!0)})),n.isTouched&&n.isMoved&&t.swipeDirection&&0!==r.diff&&n.currentTranslate!==n.startTranslate){if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,s=i.followFinger?o?t.translate:-t.translate:-n.currentTranslate,!i.cssMode)if(t.params.freeMode&&i.freeMode.enabled)t.freeMode.onTouchEnd({currentPos:s});else{for(var u=0,c=t.slidesSizesGrid[0],h=0;h<a.length;h+=h<i.slidesPerGroupSkip?1:i.slidesPerGroup){var d=h<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;void 0!==a[h+d]?s>=a[h]&&s<a[h+d]&&(c=a[(u=h)+d]-a[h]):s>=a[h]&&(u=h,c=a[a.length-1]-a[a.length-2])}var f=null,p=null;r=(i.rewind&&(t.isBeginning?p=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(f=0)),(s-a[u])/c),o=u<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;l>i.longSwipesMs?i.longSwipes?("next"===t.swipeDirection&&(r>=i.longSwipesRatio?t.slideTo(i.rewind&&t.isEnd?f:u+o):t.slideTo(u)),"prev"===t.swipeDirection&&(r>1-i.longSwipesRatio?t.slideTo(u+o):null!==p&&r<0&&Math.abs(r)>i.longSwipesRatio?t.slideTo(p):t.slideTo(u))):t.slideTo(t.activeIndex):i.shortSwipes?!t.navigation||e.target!==t.navigation.nextEl&&e.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==f?f:u+o),"prev"===t.swipeDirection&&t.slideTo(null!==p?p:u)):e.target===t.navigation.nextEl?t.slideTo(u+o):t.slideTo(u):t.slideTo(t.activeIndex)}}else n.isTouched=!1,n.isMoved=!1,n.startMoving=!1}else n.isMoved&&i.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1}.bind(e),n.cssMode&&(e.onScroll=function(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;e.enabled&&(e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses(),(0==(t=e.maxTranslate()-e.minTranslate())?0:(e.translate-e.minTranslate())/t)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1))}.bind(e)),e.onClick=function(e){this.enabled&&!this.allowClick&&(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}.bind(e),i.touch&&!K&&(t.addEventListener("touchstart",J),K=!0),Z(e,"on")},detachEvents:function(){Z(this,"off")}},breakpoints:{setBreakpoint:function(){var e,t,n,i,r=this,o=r.activeIndex,a=r.initialized,s=void 0===(s=r.loopedSlides)?0:s,l=r.params,u=r.$el,c=l.breakpoints;c&&0!==Object.keys(c).length&&(e=r.getBreakpoint(c,r.params.breakpointsBase,r.el))&&r.currentBreakpoint!==e&&(t=(e in c?c[e]:void 0)||r.originalParams,c=$(r,l),i=$(r,t),n=l.enabled,c&&!i?(u.removeClass("".concat(l.containerModifierClass,"grid ").concat(l.containerModifierClass,"grid-column")),r.emitContainerClasses()):!c&&i&&(u.addClass("".concat(l.containerModifierClass,"grid")),(t.grid.fill&&"column"===t.grid.fill||!t.grid.fill&&"column"===l.grid.fill)&&u.addClass("".concat(l.containerModifierClass,"grid-column")),r.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((function(e){var n=l[e]&&l[e].enabled,i=t[e]&&t[e].enabled;n&&!i&&r[e].disable(),!n&&i&&r[e].enable()})),c=t.direction&&t.direction!==l.direction,i=l.loop&&(t.slidesPerView!==l.slidesPerView||c),c&&a&&r.changeDirection(),I(r.params,t),u=r.params.enabled,Object.assign(r,{allowTouchMove:r.params.allowTouchMove,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev}),n&&!u?r.disable():!n&&u&&r.enable(),r.currentBreakpoint=e,r.emit("_beforeBreakpoint",t),i&&a&&(r.loopDestroy(),r.loopCreate(),r.updateSlides(),r.slideTo(o-s+r.loopedSlides,0,!1)),r.emit("breakpoint",t))},getBreakpoint:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"window",n=2<arguments.length?arguments[2]:void 0;if(e&&("container"!==t||n)){var i=!1,r=u(),o="window"===t?r.innerHeight:n.clientHeight,a=Object.keys(e).map((function(e){var t;return"string"==typeof e&&0===e.indexOf("@")?(t=parseFloat(e.substr(1)),{value:o*t,point:e}):{value:e,point:e}}));a.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var s=0;s<a.length;s+=1){var l=(c=a[s]).point,c=c.value;"window"===t?r.matchMedia("(min-width: ".concat(c,"px)")).matches&&(i=l):c<=n.clientWidth&&(i=l)}return i||"max"}}},checkOverflow:{checkOverflow:function(){var e,t=this,n=t.isLocked,i=t.params,r=i.slidesOffsetBefore;r?(e=t.slides.length-1,e=t.slidesGrid[e]+t.slidesSizesGrid[e]+2*r,t.isLocked=t.size>e):t.isLocked=1===t.snapGrid.length,!0===i.allowSlideNext&&(t.allowSlideNext=!t.isLocked),!0===i.allowSlidePrev&&(t.allowSlidePrev=!t.isLocked),n&&n!==t.isLocked&&(t.isEnd=!1),n!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}},classes:{addClasses:function(){var e,t,n=this.classNames,i=this.params,r=this.rtl,o=this.$el,a=this.device,s=this.support;s=["initialized",i.direction,{"pointer-events":!s.touch},{"free-mode":this.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:r},{grid:i.grid&&1<i.grid.rows},{"grid-column":i.grid&&1<i.grid.rows&&"column"===i.grid.fill},{android:a.android},{ios:a.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],e=i.containerModifierClass,t=[],s.forEach((function(n){"object"===ne(n)?Object.keys(n).forEach((function(i){n[i]&&t.push(e+i)})):"string"==typeof n&&t.push(e+n)})),r=t;n.push.apply(n,ee(r)),o.addClass(ee(n).join(" ")),this.emitContainerClasses()},removeClasses:function(){var e=this.$el,t=this.classNames;e.removeClass(t.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(e,t,n,i,r,o){var a=u();function s(){o&&o()}D(e).parent("picture")[0]||e.complete&&r||!t?s():((e=new a.Image).onload=s,e.onerror=s,i&&(e.sizes=i),n&&(e.srcset=n),t&&(e.src=t))},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var i=e.imagesToLoad[n];e.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,t)}}}},ue={},ce=function(){function e(){var t=this,n=e;if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");for(var i,r,o,a,s,l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return r=I({},r=(r=1===u.length&&u[0].constructor&&"Object"===Object.prototype.toString.call(u[0]).slice(8,-1)?u[0]:(i=u[0],u[1]))||{}),i&&!r.el&&(r.el=i),r.el&&1<D(r.el).length?(o=[],D(r.el).each((function(t){t=I({},r,{el:t}),o.push(new e(t))})),o):((a=this).__swiper__=!0,a.support=N(),a.device=U({userAgent:r.userAgent}),a.browser=j(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=oe(a.__modules__),r.modules&&Array.isArray(r.modules)&&(t=a.modules).push.apply(t,oe(r.modules)),s={},a.modules.forEach((function(e){var t,n;e({swiper:a,extendParams:(t=r,n=s,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=Object.keys(e)[0],r=e[i];"object"===re(r)&&null!==r&&(0<=["navigation","pagination","scrollbar"].indexOf(i)&&!0===t[i]&&(t[i]={auto:!0}),i in t&&"enabled"in r&&(!0===t[i]&&(t[i]={enabled:!0}),"object"!==re(t[i])||"enabled"in t[i]||(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}))),I(n,e)}),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})})),n=I({},ie,s),a.params=I({},n,ue,r),a.originalParams=I({},a.params),a.passedParams=I({},r),a.params&&a.params.on&&Object.keys(a.params.on).forEach((function(e){a.on(e,a.params.on[e])})),a.params&&a.params.onAny&&a.onAny(a.params.onAny),a.$=D,Object.assign(a,{enabled:a.params.enabled,el:i,classNames:[],slides:D(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===a.params.direction},isVertical:function(){return"vertical"===a.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEvents:(t=["touchstart","touchmove","touchend","touchcancel"],n=["pointerdown","pointermove","pointerup"],a.touchEventsTouch={start:t[0],move:t[1],end:t[2],cancel:t[3]},a.touchEventsDesktop={start:n[0],move:n[1],end:n[2]},a.support.touch||!a.params.simulateTouch?a.touchEventsTouch:a.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:R(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a)}var t,n,i;return t=e,i=[{key:"extendDefaults",value:function(e){I(ue,e)}},{key:"extendedDefaults",get:function(){return ue}},{key:"defaults",get:function(){return ie}},{key:"installModule",value:function(t){var n=e.prototype.__modules__=e.prototype.__modules__?e.prototype.__modules__:[];"function"==typeof t&&n.indexOf(t)<0&&n.push(t)}},{key:"use",value:function(t){return Array.isArray(t)?t.forEach((function(t){return e.installModule(t)})):e.installModule(t),e}}],(n=[{key:"enable",value:function(){this.enabled||(this.enabled=!0,this.params.grabCursor&&this.setGrabCursor(),this.emit("enable"))}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this.params.grabCursor&&this.unsetGrabCursor(),this.emit("disable"))}},{key:"setProgress",value:function(e,t){e=Math.min(Math.max(e,0),1);var n=this.minTranslate(),i=this.maxTranslate();this.translateTo((i-n)*e+n,void 0===t?0:t),this.updateActiveIndex(),this.updateSlidesClasses()}},{key:"emitContainerClasses",value:function(){var e,t=this;t.params._emitClasses&&t.el&&(e=t.el.className.split(" ").filter((function(e){return 0===e.indexOf("swiper")||0===e.indexOf(t.params.containerModifierClass)})),t.emit("_containerClasses",e.join(" ")))}},{key:"getSlideClasses",value:function(e){var t=this;return t.destroyed?"":e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")}},{key:"emitSlidesClasses",value:function(){var e,t=this;t.params._emitClasses&&t.el&&(e=[],t.slides.each((function(n){var i=t.getSlideClasses(n);e.push({slideEl:n,classNames:i}),t.emit("_slideClass",n,i)})),t.emit("_slideClasses",e))}},{key:"slidesPerViewDynamic",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"current",t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=this.params,i=this.slides,r=this.slidesGrid,o=this.slidesSizesGrid,a=this.size,s=this.activeIndex,l=1;if(n.centeredSlides){for(var u,c=i[s].swiperSlideSize,h=s+1;h<i.length;h+=1)i[h]&&!u&&(l+=1,a<(c+=i[h].swiperSlideSize)&&(u=!0));for(var d=s-1;0<=d;--d)i[d]&&!u&&(l+=1,a<(c+=i[d].swiperSlideSize)&&(u=!0))}else if("current"===e)for(var f=s+1;f<i.length;f+=1)(t?r[f]+o[f]-r[s]<a:r[f]-r[s]<a)&&(l+=1);else for(var p=s-1;0<=p;--p)r[s]-r[p]<a&&(l+=1);return l}},{key:"update",value:function(){var e,t,n=this;function i(){var e=n.rtlTranslate?-1*n.translate:n.translate;e=Math.min(Math.max(e,n.maxTranslate()),n.minTranslate());n.setTranslate(e),n.updateActiveIndex(),n.updateSlidesClasses()}n&&!n.destroyed&&(e=n.snapGrid,(t=n.params).breakpoints&&n.setBreakpoint(),n.updateSize(),n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.params.freeMode&&n.params.freeMode.enabled?(i(),n.params.autoHeight&&n.updateAutoHeight()):(("auto"===n.params.slidesPerView||1<n.params.slidesPerView)&&n.isEnd&&!n.params.centeredSlides?n.slideTo(n.slides.length-1,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0))||i(),t.watchOverflow&&e!==n.snapGrid&&n.checkOverflow(),n.emit("update"))}},{key:"changeDirection",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this,i=n.params.direction;return(e=e||("horizontal"===i?"vertical":"horizontal"))===i||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass("".concat(n.params.containerModifierClass).concat(i)).addClass("".concat(n.params.containerModifierClass).concat(e)),n.emitContainerClasses(),n.params.direction=e,n.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}},{key:"changeLanguageDirection",value:function(e){var t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.$el.removeClass("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}},{key:"mount",value:function(e){var t=this;if(!t.mounted){var n=D(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;var i,r=function(){return".".concat((t.params.wrapperClass||"").trim().split(" ").join("."))},o=e&&e.shadowRoot&&e.shadowRoot.querySelector?((i=D(e.shadowRoot.querySelector(r()))).children=function(e){return n.children(e)},i):(n.children?n:D(n)).children(r());0===o.length&&t.params.createElements&&(i=s().createElement("div"),o=D(i),i.className=t.params.wrapperClass,n.append(i),n.children(".".concat(t.params.slideClass)).each((function(e){o.append(e)}))),Object.assign(t,{$el:n,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===o.css("display")})}return!0}},{key:"init",value:function(e){var t=this;return t.initialized||!1!==t.mount(e)&&(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}},{key:"destroy",value:function(){var e,t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=this,r=i.params,o=i.$el,a=i.$wrapperEl,s=i.slides;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),o.removeAttr("style"),a.removeAttr("style"),s&&s.length&&s.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach((function(e){i.off(e)})),!1!==t&&(i.$el[0].swiper=null,e=i,Object.keys(e).forEach((function(t){try{e[t]=null}catch(t){}try{delete e[t]}catch(t){}}))),i.destroyed=!0),null}}])&&se(t.prototype,n),i&&se(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),he=(Object.keys(le).forEach((function(e){Object.keys(le[e]).forEach((function(t){ce.prototype[t]=le[e][t]}))})),ce.use([function(e){function t(){i&&!i.destroyed&&i.initialized&&(o("beforeResize"),o("resize"))}function n(){i&&!i.destroyed&&i.initialized&&o("orientationchange")}var i=e.swiper,r=e.on,o=e.emit,a=u(),s=null,l=null;r("init",(function(){i.params.resizeObserver&&void 0!==a.ResizeObserver?i&&!i.destroyed&&i.initialized&&(s=new ResizeObserver((function(e){l=a.requestAnimationFrame((function(){var n=i.width,r=i.height,o=n,a=r;e.forEach((function(e){var t=e.contentBoxSize,n=e.contentRect;(e=e.target)&&e!==i.el||(o=n?n.width:(t[0]||t).inlineSize,a=n?n.height:(t[0]||t).blockSize)})),o===n&&a===r||t()}))}))).observe(i.el):(a.addEventListener("resize",t),a.addEventListener("orientationchange",n))})),r("destroy",(function(){l&&a.cancelAnimationFrame(l),s&&s.unobserve&&i.el&&(s.unobserve(i.el),s=null),a.removeEventListener("resize",t),a.removeEventListener("orientationchange",n)}))},function(e){function t(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=new(s.MutationObserver||s.WebkitMutationObserver)((function(e){var t;1===e.length?o("observerUpdate",e[0]):(t=function(){o("observerUpdate",e[0])},s.requestAnimationFrame?s.requestAnimationFrame(t):s.setTimeout(t,0))}));n.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),a.push(n)}var n=e.swiper,i=e.extendParams,r=e.on,o=e.emit,a=[],s=u();i({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(function(){if(n.params.observer){if(n.params.observeParents)for(var e=n.$el.parents(),i=0;i<e.length;i+=1)t(e[i]);t(n.$el[0],{childList:n.params.observeSlideChildren}),t(n.$wrapperEl[0],{attributes:!1})}})),r("destroy",(function(){a.forEach((function(e){e.disconnect()})),a.splice(0,a.length)}))}]),ce);function de(e){var t,n,i=e.swiper,r=e.extendParams,o=e.on,a=e.emit,s=u(),l=(r({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),i.mousewheel={enabled:!1},R()),c=[];function h(){i.enabled&&(i.mouseEntered=!0)}function d(){i.enabled&&(i.mouseEntered=!1)}function f(e){i.params.mousewheel.thresholdDelta&&e.delta<i.params.mousewheel.thresholdDelta||i.params.mousewheel.thresholdTime&&R()-l<i.params.mousewheel.thresholdTime||6<=e.delta&&R()-l<60||(e.direction<0?i.isEnd&&!i.params.loop||i.animating||(i.slideNext(),a("scroll",e.raw)):i.isBeginning&&!i.params.loop||i.animating||(i.slidePrev(),a("scroll",e.raw)),l=(new s.Date).getTime())}function p(e){var r=e;if(i.enabled){var o=i.params.mousewheel,s=(i.params.cssMode&&r.preventDefault(),i.$el);if("container"!==i.params.mousewheel.eventsTarget&&(s=D(i.params.mousewheel.eventsTarget)),!i.mouseEntered&&!s[0].contains(r.target)&&!o.releaseOnEdges)return!0;r.originalEvent&&(r=r.originalEvent);s=0;var l=i.rtlTranslate?-1:1,u=(g=v=p=h=0,"detail"in(u=r)&&(p=u.detail),"wheelDelta"in u&&(p=-u.wheelDelta/120),"wheelDeltaY"in u&&(p=-u.wheelDeltaY/120),"wheelDeltaX"in u&&(h=-u.wheelDeltaX/120),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(h=p,p=0),v=10*h,g=10*p,"deltaY"in u&&(g=u.deltaY),"deltaX"in u&&(v=u.deltaX),u.shiftKey&&!v&&(v=g,g=0),(v||g)&&u.deltaMode&&(1===u.deltaMode?(v*=40,g*=40):(v*=800,g*=800)),{spinX:h=v&&!h?v<1?-1:1:h,spinY:p=g&&!p?g<1?-1:1:p,pixelX:v,pixelY:g});if(o.forceToAxis)if(i.isHorizontal()){if(!(Math.abs(u.pixelX)>Math.abs(u.pixelY)))return!0;s=-u.pixelX*l}else{if(!(Math.abs(u.pixelY)>Math.abs(u.pixelX)))return!0;s=-u.pixelY}else s=Math.abs(u.pixelX)>Math.abs(u.pixelY)?-u.pixelX*l:-u.pixelY;if(0===s)return!0;o.invert&&(s=-s);var h=i.getTranslate()+s*o.sensitivity;if((h=h>=i.minTranslate()?i.minTranslate():h)<=i.maxTranslate()&&(h=i.maxTranslate()),(!!i.params.loop||!(h===i.minTranslate()||h===i.maxTranslate()))&&i.params.nested&&r.stopPropagation(),i.params.freeMode&&i.params.freeMode.enabled){var d={time:R(),delta:Math.abs(s),direction:Math.sign(s)},p=n&&d.time<n.time+500&&d.delta<=n.delta&&d.direction===n.direction;if(!p){n=void 0,i.params.loop&&i.loopFix();var m,v=i.getTranslate()+s*o.sensitivity,g=i.isBeginning;l=i.isEnd;if((v=v>=i.minTranslate()?i.minTranslate():v)<=i.maxTranslate()&&(v=i.maxTranslate()),i.setTransition(0),i.setTranslate(v),i.updateProgress(),i.updateActiveIndex(),i.updateSlidesClasses(),(!g&&i.isBeginning||!l&&i.isEnd)&&i.updateSlidesClasses(),i.params.freeMode.sticky&&(clearTimeout(t),t=void 0,15<=c.length&&c.shift(),u=c.length?c[c.length-1]:void 0,h=c[0],c.push(d),u&&(d.delta>u.delta||d.direction!==u.direction)?c.splice(0):15<=c.length&&d.time-h.time<500&&1<=h.delta-d.delta&&d.delta<=6&&(m=0<s?.8:.2,n=d,c.splice(0),t=O((function(){i.slideToClosest(i.params.speed,!0,void 0,m)}),0)),t=t||O((function(){n=d,c.splice(0),i.slideToClosest(i.params.speed,!0,void 0,.5)}),500)),p||a("scroll",r),i.params.autoplay&&i.params.autoplayDisableOnInteraction&&i.autoplay.stop(),v===i.minTranslate()||v===i.maxTranslate())return!0}}else if(o={time:R(),delta:Math.abs(s),direction:Math.sign(s),raw:e},2<=c.length&&c.shift(),g=c.length?c[c.length-1]:void 0,c.push(o),(!g||o.direction!==g.direction||o.delta>g.delta||o.time>g.time+150)&&f(o),function(e){var t=i.params.mousewheel;if(e.direction<0){if(i.isEnd&&!i.params.loop&&t.releaseOnEdges)return 1}else if(i.isBeginning&&!i.params.loop&&t.releaseOnEdges)return 1}(o))return!0;return r.preventDefault?r.preventDefault():r.returnValue=!1,!1}}function m(e){var t=i.$el;(t="container"!==i.params.mousewheel.eventsTarget?D(i.params.mousewheel.eventsTarget):t)[e]("mouseenter",h),t[e]("mouseleave",d),t[e]("wheel",p)}function v(){if(i.params.cssMode)i.wrapperEl.removeEventListener("wheel",p);else{if(i.mousewheel.enabled)return!1;m("on"),i.mousewheel.enabled=!0}return!0}function g(){if(i.params.cssMode)i.wrapperEl.addEventListener(event,p);else{if(!i.mousewheel.enabled)return!1;m("off"),i.mousewheel.enabled=!1}return!0}o("init",(function(){!i.params.mousewheel.enabled&&i.params.cssMode&&g(),i.params.mousewheel.enabled&&v()})),o("destroy",(function(){i.params.cssMode&&v(),i.mousewheel.enabled&&g()})),Object.assign(i.mousewheel,{enable:v,disable:g})}function fe(e,t,n,i){var r=s();return e.params.createElements&&Object.keys(i).forEach((function(o){var a;n[o]||!0!==n.auto||((a=e.$el.children(".".concat(i[o]))[0])||((a=r.createElement("div")).className=i[o],e.$el.append(a)),n[o]=a,t[o]=a)})),n}function pe(e){var t=e.swiper,n=e.extendParams,i=e.on,r=e.emit;function o(e){var n;return e&&(n=D(e),t.params.uniqueNavElements&&"string"==typeof e&&1<n.length&&1===t.$el.find(e).length&&(n=t.$el.find(e))),n}function a(e,n){var i=t.params.navigation;e&&0<e.length&&(e[n?"addClass":"removeClass"](i.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=n),t.params.watchOverflow&&t.enabled&&e[t.isLocked?"addClass":"removeClass"](i.lockClass))}function s(){var e,n;t.params.loop||(n=(e=t.navigation).$nextEl,a(e.$prevEl,t.isBeginning&&!t.params.rewind),a(n,t.isEnd&&!t.params.rewind))}function l(e){e.preventDefault(),t.isBeginning&&!t.params.loop&&!t.params.rewind||(t.slidePrev(),r("navigationPrev"))}function u(e){e.preventDefault(),t.isEnd&&!t.params.loop&&!t.params.rewind||(t.slideNext(),r("navigationNext"))}function c(){var e,n,i=t.params.navigation;t.params.navigation=fe(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),(i.nextEl||i.prevEl)&&(e=o(i.nextEl),n=o(i.prevEl),e&&0<e.length&&e.on("click",u),n&&0<n.length&&n.on("click",l),Object.assign(t.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:n,prevEl:n&&n[0]}),t.enabled||(e&&e.addClass(i.lockClass),n&&n.addClass(i.lockClass)))}function h(){var e=(n=t.navigation).$nextEl,n=n.$prevEl;e&&e.length&&(e.off("click",u),e.removeClass(t.params.navigation.disabledClass)),n&&n.length&&(n.off("click",l),n.removeClass(t.params.navigation.disabledClass))}n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},i("init",(function(){(!1===t.params.navigation.enabled?d:(c(),s))()})),i("toEdge fromEdge lock unlock",(function(){s()})),i("destroy",(function(){h()})),i("enable disable",(function(){var e=(n=t.navigation).$nextEl,n=n.$prevEl;e&&e[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),n&&n[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)})),i("click",(function(e,n){var i,o=(a=t.navigation).$nextEl,a=a.$prevEl;n=n.target;!t.params.navigation.hideOnClick||D(n).is(a)||D(n).is(o)||t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===n||t.pagination.el.contains(n))||(o?i=o.hasClass(t.params.navigation.hiddenClass):a&&(i=a.hasClass(t.params.navigation.hiddenClass)),r(!0===i?"navigationShow":"navigationHide"),o&&o.toggleClass(t.params.navigation.hiddenClass),a&&a.toggleClass(t.params.navigation.hiddenClass))}));var d=function(){t.$el.addClass(t.params.navigation.navigationDisabledClass),h()};Object.assign(t.navigation,{enable:function(){t.$el.removeClass(t.params.navigation.navigationDisabledClass),c(),s()},disable:d,update:s,init:c,destroy:h})}function me(e){return".".concat((e=0<arguments.length&&void 0!==e?e:"").trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,"."))}function ve(e){var t,n=e.swiper,i=e.extendParams,r=e.on,o=e.emit,a=(i({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"".concat(e="swiper-pagination","-bullet"),bulletActiveClass:"".concat(e,"-bullet-active"),modifierClass:"".concat(e,"-"),currentClass:"".concat(e,"-current"),totalClass:"".concat(e,"-total"),hiddenClass:"".concat(e,"-hidden"),progressbarFillClass:"".concat(e,"-progressbar-fill"),progressbarOppositeClass:"".concat(e,"-progressbar-opposite"),clickableClass:"".concat(e,"-clickable"),lockClass:"".concat(e,"-lock"),horizontalClass:"".concat(e,"-horizontal"),verticalClass:"".concat(e,"-vertical"),paginationDisabledClass:"".concat(e,"-disabled")}}),n.pagination={el:null,$el:null,bullets:[]},0);function s(){return!n.params.pagination.el||!n.pagination.el||!n.pagination.$el||0===n.pagination.$el.length}function l(e,t){var i=n.params.pagination.bulletActiveClass;e[t]().addClass("".concat(i,"-").concat(t))[t]().addClass("".concat(i,"-").concat(t,"-").concat(t))}function u(){var e=n.rtl,i=n.params.pagination;if(!s()){var r,u=(n.virtual&&n.params.virtual.enabled?n.virtual:n).slides.length,c=n.pagination.$el,h=n.params.loop?Math.ceil((u-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?((r=Math.ceil((n.activeIndex-n.loopedSlides)/n.params.slidesPerGroup))>u-1-2*n.loopedSlides&&(r-=u-2*n.loopedSlides),h-1<r&&(r-=h),r<0&&"bullets"!==n.params.paginationType&&(r=h+r)):r=void 0!==n.snapIndex?n.snapIndex:n.activeIndex||0,"bullets"===i.type&&n.pagination.bullets&&0<n.pagination.bullets.length){var d,f,p,m=n.pagination.bullets;if(i.dynamicBullets&&(t=m.eq(0)[n.isHorizontal()?"outerWidth":"outerHeight"](!0),c.css(n.isHorizontal()?"width":"height","".concat(t*(i.dynamicMainBullets+4),"px")),1<i.dynamicMainBullets&&void 0!==n.previousIndex&&((a+=r-(n.previousIndex-n.loopedSlides||0))>i.dynamicMainBullets-1?a=i.dynamicMainBullets-1:a<0&&(a=0)),d=Math.max(r-a,0),p=((f=d+(Math.min(m.length,i.dynamicMainBullets)-1))+d)/2),m.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((function(e){return"".concat(i.bulletActiveClass).concat(e)})).join(" ")),1<c.length)m.each((function(e){var t=(e=D(e)).index();t===r&&e.addClass(i.bulletActiveClass),i.dynamicBullets&&(d<=t&&t<=f&&e.addClass("".concat(i.bulletActiveClass,"-main")),t===d&&l(e,"prev"),t===f&&l(e,"next"))}));else{var v=(u=m.eq(r)).index();if(u.addClass(i.bulletActiveClass),i.dynamicBullets){u=m.eq(d);for(var g=m.eq(f),y=d;y<=f;y+=1)m.eq(y).addClass("".concat(i.bulletActiveClass,"-main"));if(n.params.loop)if(v>=m.length){for(var b=i.dynamicMainBullets;0<=b;--b)m.eq(m.length-b).addClass("".concat(i.bulletActiveClass,"-main"));m.eq(m.length-i.dynamicMainBullets-1).addClass("".concat(i.bulletActiveClass,"-prev"))}else l(u,"prev"),l(g,"next");else l(u,"prev"),l(g,"next")}}i.dynamicBullets&&(v=Math.min(m.length,i.dynamicMainBullets+4),u=(t*v-t)/2-p*t,g=e?"right":"left",m.css(n.isHorizontal()?g:"top","".concat(u,"px")))}"fraction"===i.type&&(c.find(me(i.currentClass)).text(i.formatFractionCurrent(r+1)),c.find(me(i.totalClass)).text(i.formatFractionTotal(h))),"progressbar"===i.type&&(v=i.progressbarOpposite?n.isHorizontal()?"vertical":"horizontal":n.isHorizontal()?"horizontal":"vertical",p=(r+1)/h,g=e=1,"horizontal"===v?e=p:g=p,c.find(me(i.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(".concat(e,") scaleY(").concat(g,")")).transition(n.params.speed)),"custom"===i.type&&i.renderCustom?(c.html(i.renderCustom(n,r+1,h)),o("paginationRender",c[0])):o("paginationUpdate",c[0]),n.params.watchOverflow&&n.enabled&&c[n.isLocked?"addClass":"removeClass"](i.lockClass)}}function c(){var e=n.params.pagination;if(!s()){var t=(n.virtual&&n.params.virtual.enabled?n.virtual:n).slides.length,i=n.pagination.$el,r="";if("bullets"===e.type){var a=n.params.loop?Math.ceil((t-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&!n.params.loop&&t<a&&(a=t);for(var l=0;l<a;l+=1)e.renderBullet?r+=e.renderBullet.call(n,l,e.bulletClass):r+="<".concat(e.bulletElement,' class="').concat(e.bulletClass,'"></').concat(e.bulletElement,">");i.html(r),n.pagination.bullets=i.find(me(e.bulletClass))}"fraction"===e.type&&(r=e.renderFraction?e.renderFraction.call(n,e.currentClass,e.totalClass):'<span class="'.concat(e.currentClass,'"></span>')+" / "+'<span class="'.concat(e.totalClass,'"></span>'),i.html(r)),"progressbar"===e.type&&(r=e.renderProgressbar?e.renderProgressbar.call(n,e.progressbarFillClass):'<span class="'.concat(e.progressbarFillClass,'"></span>'),i.html(r)),"custom"!==e.type&&o("paginationRender",n.pagination.$el[0])}}function h(){n.params.pagination=fe(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});var e,t=n.params.pagination;!t.el||0!==(e=D(t.el)).length&&(n.params.uniqueNavElements&&"string"==typeof t.el&&1<e.length&&1<(e=n.$el.find(t.el)).length&&(e=e.filter((function(e){return D(e).parents(".swiper")[0]===n.el}))),"bullets"===t.type&&t.clickable&&e.addClass(t.clickableClass),e.addClass(t.modifierClass+t.type),e.addClass(n.isHorizontal()?t.horizontalClass:t.verticalClass),"bullets"===t.type&&t.dynamicBullets&&(e.addClass("".concat(t.modifierClass).concat(t.type,"-dynamic")),a=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&e.addClass(t.progressbarOppositeClass),t.clickable&&e.on("click",me(t.bulletClass),(function(e){e.preventDefault(),e=D(this).index()*n.params.slidesPerGroup,n.params.loop&&(e+=n.loopedSlides),n.slideTo(e)})),Object.assign(n.pagination,{$el:e,el:e[0]}),n.enabled||e.addClass(t.lockClass))}function d(){var e,t=n.params.pagination;s()||((e=n.pagination.$el).removeClass(t.hiddenClass),e.removeClass(t.modifierClass+t.type),e.removeClass(n.isHorizontal()?t.horizontalClass:t.verticalClass),n.pagination.bullets&&n.pagination.bullets.removeClass&&n.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&e.off("click",me(t.bulletClass)))}r("init",(function(){(!1===n.params.pagination.enabled?f:(h(),c(),u))()})),r("activeIndexChange",(function(){(n.params.loop||void 0===n.snapIndex)&&u()})),r("snapIndexChange",(function(){n.params.loop||u()})),r("slidesLengthChange",(function(){n.params.loop&&(c(),u())})),r("snapGridLengthChange",(function(){n.params.loop||(c(),u())})),r("destroy",(function(){d()})),r("enable disable",(function(){var e=n.pagination.$el;e&&e[n.enabled?"removeClass":"addClass"](n.params.pagination.lockClass)})),r("lock unlock",(function(){u()})),r("click",(function(e,t){t=t.target;var i=n.pagination.$el;n.params.pagination.el&&n.params.pagination.hideOnClick&&i&&0<i.length&&!D(t).hasClass(n.params.pagination.bulletClass)&&(n.navigation&&(n.navigation.nextEl&&t===n.navigation.nextEl||n.navigation.prevEl&&t===n.navigation.prevEl)||(t=i.hasClass(n.params.pagination.hiddenClass),o(!0===t?"paginationShow":"paginationHide"),i.toggleClass(n.params.pagination.hiddenClass)))}));var f=function(){n.$el.addClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.addClass(n.params.pagination.paginationDisabledClass),d()};Object.assign(n.pagination,{enable:function(){n.$el.removeClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.removeClass(n.params.pagination.paginationDisabledClass),h(),c(),u()},disable:f,render:c,update:u,init:h,destroy:d})}function ge(e){var t,n=e.swiper,i=e.extendParams,r=e.on,o=e.emit;function a(){var e,i;n.size?(e=n.slides.eq(n.activeIndex),i=n.params.autoplay.delay,e.attr("data-swiper-autoplay")&&(i=e.attr("data-swiper-autoplay")||n.params.autoplay.delay),clearTimeout(t),t=O((function(){var e;n.params.autoplay.reverseDirection?n.params.loop?(n.loopFix(),e=n.slidePrev(n.params.speed,!0,!0),o("autoplay")):n.isBeginning?n.params.autoplay.stopOnLastSlide?u():(e=n.slideTo(n.slides.length-1,n.params.speed,!0,!0),o("autoplay")):(e=n.slidePrev(n.params.speed,!0,!0),o("autoplay")):n.params.loop?(n.loopFix(),e=n.slideNext(n.params.speed,!0,!0),o("autoplay")):n.isEnd?n.params.autoplay.stopOnLastSlide?u():(e=n.slideTo(0,n.params.speed,!0,!0),o("autoplay")):(e=n.slideNext(n.params.speed,!0,!0),o("autoplay")),(n.params.cssMode&&n.autoplay.running||!1===e)&&a()}),i)):(n.autoplay.running=!1,n.autoplay.paused=!1)}function l(){return void 0===t&&!n.autoplay.running&&(n.autoplay.running=!0,o("autoplayStart"),a(),!0)}function u(){return!!n.autoplay.running&&void 0!==t&&(t&&(clearTimeout(t),t=void 0),n.autoplay.running=!1,o("autoplayStop"),!0)}function c(e){!n.autoplay.running||n.autoplay.paused||(t&&clearTimeout(t),n.autoplay.paused=!0,0!==e&&n.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach((function(e){n.$wrapperEl[0].addEventListener(e,d)})):(n.autoplay.paused=!1,a()))}function h(){var e=s();"hidden"===e.visibilityState&&n.autoplay.running&&c(),"visible"===e.visibilityState&&n.autoplay.paused&&(a(),n.autoplay.paused=!1)}function d(e){n&&!n.destroyed&&n.$wrapperEl&&e.target===n.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach((function(e){n.$wrapperEl[0].removeEventListener(e,d)})),n.autoplay.paused=!1,(n.autoplay.running?a:u)())}function f(){(n.params.autoplay.disableOnInteraction?u:(o("autoplayPause"),c))(),["transitionend","webkitTransitionEnd"].forEach((function(e){n.$wrapperEl[0].removeEventListener(e,d)}))}function p(){n.params.autoplay.disableOnInteraction||(n.autoplay.paused=!1,o("autoplayResume"),a())}i({autoplay:{enabled:!(n.autoplay={running:!1,paused:!1}),delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),r("init",(function(){n.params.autoplay.enabled&&(l(),s().addEventListener("visibilitychange",h),n.params.autoplay.pauseOnMouseEnter&&(n.$el.on("mouseenter",f),n.$el.on("mouseleave",p)))})),r("beforeTransitionStart",(function(e,t,i){n.autoplay.running&&(i||!n.params.autoplay.disableOnInteraction?n.autoplay.pause(t):u())})),r("sliderFirstMove",(function(){n.autoplay.running&&(n.params.autoplay.disableOnInteraction?u:c)()})),r("touchEnd",(function(){n.params.cssMode&&n.autoplay.paused&&!n.params.autoplay.disableOnInteraction&&a()})),r("destroy",(function(){n.$el.off("mouseenter",f),n.$el.off("mouseleave",p),n.autoplay.running&&u(),s().removeEventListener("visibilitychange",h)})),Object.assign(n.autoplay,{pause:c,run:a,start:l,stop:u})}function ye(e,t){return e.transformEl?t.find(e.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):t}function be(e){var t=e.swiper,n=e.extendParams;e=e.on;n({fadeEffect:{crossFade:!1,transformEl:null}}),function(e){var t,n=e.effect,i=e.swiper,r=e.on,o=e.setTranslate,a=e.setTransition,s=e.overwriteParams,l=e.perspective,u=e.recreateShadows,c=e.getEffectParams;r("beforeInit",(function(){var e;i.params.effect===n&&(i.classNames.push("".concat(i.params.containerModifierClass).concat(n)),l&&l()&&i.classNames.push("".concat(i.params.containerModifierClass,"3d")),e=s?s():{},Object.assign(i.params,e),Object.assign(i.originalParams,e))})),r("setTranslate",(function(){i.params.effect===n&&o()})),r("setTransition",(function(e,t){i.params.effect===n&&a(t)})),r("transitionEnd",(function(){i.params.effect===n&&u&&c&&c().slideShadows&&(i.slides.each((function(e){i.$(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()})),u())})),r("virtualUpdate",(function(){i.params.effect===n&&(i.slides.length||(t=!0),requestAnimationFrame((function(){t&&i.slides&&i.slides.length&&(o(),t=!1)})))}))}({effect:"fade",swiper:t,on:e,setTranslate:function(){for(var e=t.slides,n=t.params.fadeEffect,i=0;i<e.length;i+=1){var r=t.slides.eq(i),o=-r[0].swiperSlideOffset,a=(t.params.virtualTranslate||(o-=t.translate),0),s=(t.isHorizontal()||(a=o,o=0),t.params.fadeEffect.crossFade?Math.max(1-Math.abs(r[0].progress),0):1+Math.min(Math.max(r[0].progress,-1),0));ye(n,r).css({opacity:s}).transform("translate3d(".concat(o,"px, ").concat(a,"px, 0px)"))}},setTransition:function(e){var n=t.params.fadeEffect.transformEl;(n?t.slides.find(n):t.slides).transition(e),function(e){var t,n=e.swiper,i=e.duration,r=e.transformEl,o=(e=e.allSlides,n.slides),a=n.activeIndex,s=n.$wrapperEl;n.params.virtualTranslate&&0!==i&&(t=!1,(e?r?o.find(r):o:r?o.eq(a).find(r):o.eq(a)).transitionEnd((function(){if(!t&&n&&!n.destroyed){t=!0,n.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],i=0;i<e.length;i+=1)s.trigger(e[i])}})))}({swiper:t,duration:e,transformEl:n,allSlides:!0})},overwriteParams:function(){return{slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode}}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));t=n(44),t=n.n(t);var i=n(19),r=n(258),o=n(260),a=n(55),s=n.n(a),l=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);n=t?(n=f(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===u(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e);var n=d(a);function a(e){var t;if(this instanceof a)return(t=n.call(this)).dom={component:e,el:e},t.persist=t._getPersitance(),t.mediaLoaded=!1,t._timeouts=[],t._tls=[],t._textAnims=[],t._trackers=[],t._rafs=[],t._limiteDevice=768,t._device="desktop",t._toggleDevice(),t;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"init",value:function(){}},{key:"bind",value:function(){}},{key:"unbind",value:function(){}},{key:"_unbind",value:function(){this._tls.forEach((function(e){e.kill&&e.kill()})),this._timeouts.forEach((function(e){return clearTimeout(e)})),this._textAnims.forEach((function(e){return e.destroy()})),this._trackers.forEach((function(e){return e.destroy()})),this._rafs.forEach((function(e){s.a.remove(e.callback)}))}},{key:"_resize",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i.a.width,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.a.height;this._textAnims.forEach((function(n){return n.resize(e,t)})),this._trackers.forEach((function(n){return n.resize(e,t)}))}},{key:"addViewportTracker",value:function(e,t){return e=new o.a(e,t),this._trackers.push(e),e.rafData&&this._rafs.push(e.rafData),e}},{key:"addTextAnimation",value:function(e,t,n){return e=new r.a(e,t,n),this._textAnims.push(e),e.rafData&&this._rafs.push(e.rafData),e}},{key:"addRaf",value:function(e,t){var n=s.a.add(e,t);return this._rafs.push(n),n.clear=function(){s.a.remove(n.callback)},n}},{key:"delayedCall",value:function(e,t){return e=setTimeout(e,t),this._timeouts.push(e),e}},{key:"getTl",value:function(e){return e=l.a.timeline(e),this._tls.push(e),e}},{key:"mediaLoadedHandler",value:function(){this.mediaLoaded=!0}},{key:"resize",value:function(){0<arguments.length&&void 0!==arguments[0]||i.a.width,1<arguments.length&&void 0!==arguments[1]||i.a.height,this._toggleDevice()}},{key:"_find",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.dom.component;return findDOM(e,t)}},{key:"_findAll",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.dom.component;return findAllDOM(e,t)}},{key:"_getPersitance",value:function(){return!(i.a.dom.body.contains(this.dom.component)&&i.a.dom.page.contains(this.dom.component))}},{key:"_scroll",value:function(e){}},{key:"_getWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}},{key:"_toggleDevice",value:function(){this._getWidth()>this._limiteDevice?"mobile"==this._device&&(this._device="desktop"):"desktop"==this._device&&(this._device="mobile")}}])&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(t.a)},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g})),n(63);var i=n(19),r=n(36),o=n(2),a=n(24);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}o.a.registerPlugin(a.a);var l=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._retrieveDom(),this._bind()}var t,n;return t=e,(n=[{key:"_retrieveDom",value:function(){this.dom={},this.dom.body=document.body,this.dom.component=this.dom.body.querySelectorAll(".section-to-anim, .self-to-anim, .section-line-anim"),this.dom.line=this.dom.body.querySelectorAll(".ct--word-line")}},{key:"_bind",value:function(){var e=this;this.dom.component.forEach((function(e){e.classList.add("ct-to-anim"),a.a.create({trigger:e,start:"top 75%",onEnter:function(t){e.classList.remove("ct-to-anim")}})})),this.dom.line.forEach((function(t){var n,i,r;t.classList.contains("is-exclude")||(i=t.querySelector(".ct--word-line__wrapper"),n=t.querySelector(".ct--word-line__title").offsetWidth,i=o.a.fromTo(i,{x:e._getWidth()},{x:-n,ease:"none",paused:!0}),r=o.a.quickTo(i,"progress",{ease:"power3",duration:.5}),o.a.to(i,{ease:"none",scrollTrigger:{scrub:!0,trigger:t,start:"top bottom",end:"bottom top",onUpdate:function(e){return r(e.progress)}}}))}))}},{key:"_getWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),u=(t=n(7),n(26));function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var v={NEXT:"__pe_next",PAGE_DESTROYED:"__pe_page_destroyed"},g=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p(e);n=t?(n=p(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===c(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return f(i)}}(a);function a(e,t){var i;if(this instanceof a)return m(f(i=n.call(this)),"_scrollValue",{current:null,prev:null}),m(f(i),"ManagerExperience",null),i.dom={component:e,page:e,main:i._find("main"),scrollable:i._find(".scrollable"),container:i._find(".container"),scrollSections:i._findAll(".js-scroll-section")},i.Components=t,r.a.Scrollbar&&(r.a.Scrollbar.locked=!1),bindAll(f(i),["_update","_scrollHandler","_next","_destroy"]),i._showTl=o.a.timeline({paused:!0}),i._hideTl=o.a.timeline({paused:!0,onStart:function(){i.dom.page.style.position="absolute",i.dom.page.style.top=-getWindowPosition()+"px",document.scrollingElement.scrollTop=document.scrollingElement.scrollLeft=document.body.scrollTop=document.body.scrollLeft=document.documentElement.scrollTop=document.documentElement.scrollLeft=window.scrollTop=window.scrollLeft=0},onComplete:i._destroy}),i;throw new TypeError("Cannot call a class as a function")}return t=a,(e=[{key:"_retrieveDOM",value:function(){}},{key:"_initTls",value:function(){var e=this;this._showTl.from(this.dom.page,{autoAlpha:0,duration:0},0),this._hideTl.to(this.dom.page,{autoAlpha:0,duration:0},0).add((function(){e._next()}),0)}},{key:"init",value:function(){this.ScrollTriggerGSAP=new l,this.initWebGL()}},{key:"initWebGL",value:function(){var e,t={};if(void 0!==this.experienceWebGL)for(var n in this.experienceWebGL)this.experienceWebGL.hasOwnProperty(n)&&(t[n]=this.experienceWebGL[n]);for(e in this.Components){var i=this.Components[e];if(0<i.length)for(var r=0,o=i.length;r<o;r++){var a=i[r];if(void 0!==a.experienceWebGL)for(var s in a.experienceWebGL)a.experienceWebGL.hasOwnProperty(s)&&(t[s]=a.experienceWebGL[s])}else if(void 0!==i.experienceWebGL)for(var l in i.experienceWebGL)i.experienceWebGL.hasOwnProperty(l)&&(t[l]=i.experienceWebGL[l])}Object.keys(t).length&&(this.ManagerExperience=new u.a(t))}},{key:"bind",value:function(){var e=this;["_scroll","_openPopinVideo"].forEach((function(t){return e[t]=e[t].bind(e)})),window.addEventListener("scroll",this._scroll,{passive:!0})}},{key:"unbind",value:function(){window.removeEventListener("scroll",this._scroll)}},{key:"mediaLoadedHandler",value:function(){this.mediaLoaded=!0}},{key:"show",value:function(){this._showTl.play()}},{key:"hide",value:function(){this._showTl.kill(),this._hideTl.play()}},{key:"_update",value:function(e,t){}},{key:"_scrollHandler",value:function(e){}},{key:"_scroll",value:function(){this._scrollValue.current=window.scrollY,this.Components.hasOwnProperty("Menu")&&this.Components.Menu._scroll(this._scrollValue.current),this.ManagerExperience&&this.ManagerExperience.scroll(this._scrollValue.current)}},{key:"_openPopinVideo",value:function(e){this.Components.hasOwnProperty("Popin-video")&&this.Components["Popin-video"].openPopin(e)}},{key:"resize",value:function(){0<arguments.length&&void 0!==arguments[0]||i.a.width,1<arguments.length&&void 0!==arguments[1]||i.a.height}},{key:"_next",value:function(){this.emit(v.NEXT)}},{key:"_destroy",value:function(){this._next(),this.emit(v.PAGE_DESTROYED)}},{key:"_getPersitance",value:function(){return!1}}])&&h(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),a}(t.a)},,function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.width=document.documentElement.clientWidth||window.innerWidth,this.height=document.documentElement.clientHeight||window.innerHeight,this.devicePixelRatio=window.devicePixelRatio,this.audioContext=window.AudioContext||window.webkitAudioContext,this.passive=this._detectPassiveMode(),this.dom={}}var t,n;return t=e,(n=[{key:"_detectPassiveMode",value:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.a=new r},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,r=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,o=Math.PI/180,a=(Math.PI,Math.sin),s=Math.cos,l=Math.abs,u=Math.sqrt,c=(Math.atan2,1e5),h=function(e){return Math.round(e*c)/c||0};function d(e){for(var t,n,i,r="",o=(e=function(e){return"number"==typeof e}(e[0])?[e]:e).length,a=0;a<o;a++){for(i=e[a],r+="M"+h(i[0])+","+h(i[1])+" C",t=i.length,n=2;n<t;n++)r+=h(i[n++])+","+h(i[n++])+" "+h(i[n++])+","+h(i[n++])+" "+h(i[n++])+","+h(i[n])+" ";i.closed&&(r+="z")}return r}function f(){(g=b())&&(g.registerEase("_CE",S.create),y=1)}function p(e){return~~(1e3*e+(e<0?-.5:.5))/1e3}function m(e,t,n){n||0===n||(n=Math.max(+e[e.length-1],+e[1]));for(var i=-1*+e[0],r=-n,o=e.length,a=1/(+e[o-2]+i),s=(s=-t||(Math.abs(+e[o-1]-+e[1])<.01*(+e[o-2]-+e[0])?function(e){for(var t=e.length,n=_,i=1;i<t;i+=6)+e[i]<n&&(n=+e[i]);return n}(e)+r:+e[o-1]+r))?1/s:-a,l=0;l<o;l+=2)e[l]=(+e[l]+i)*a,e[l+1]=(+e[l+1]+r)*s}function v(e,t,n,i,r,o,a,s,l,u,c){var h=(e+n)/2,d=(t+i)/2,f=(n+r)/2,p=(i+o)/2,m=(r+a)/2,g=(o+s)/2,y=(h+f)/2,b=(d+p)/2,_=(y+(f=(f+m)/2))/2,w=(b+(p=(p+g)/2))/2,x=a-e,S=s-t;n=Math.abs((n-a)*S-(i-s)*x),i=Math.abs((r-a)*S-(o-s)*x);return u||(u=[{x:e,y:t},{x:a,y:s}],c=1),u.splice(c||u.length-1,0,{x:_,y:w}),l*(x*x+S*S)<(n+i)*(n+i)&&(r=u.length,v(e,t,h,d,y,b,_,w,l,u,c),v(_,w,f,p,m,g,a,s,l,u,c+1+(u.length-r))),u}var g,y,b=function(){return g||"undefined"!=typeof window&&(g=window.gsap)&&g.registerPlugin&&g},_=1e20,w=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,x=/[cLlsSaAhHvVtTqQ]/g,S=function(){function e(e,t,n){y||f(),this.id=e,this.setData(t,n)}var t=e.prototype;return t.setData=function(e,t){t=t||{};var n,c,h,d,f,p,y,b,_,S=(e=e||"0,0,1,1").match(w),A=1,C=[],M=[],E=t.precision||1,T=E<=1;if(this.data=e,(x.test(e)||~e.indexOf("M")&&e.indexOf("C")<0)&&(S=function(e){function t(e,t,n,i){g=(n-e)/3,y=(i-t)/3,p.push(e+g,t+y,n-g,i-y,n,i)}var n,c,h,d,f,p,m,v,g,y,b,_,w,x=(e+"").replace(r,(function(e){return(e=+e)<1e-4&&-1e-4<e?0:e})).match(i)||[],S=[],A=0,C=0,M=x.length,E=0;if(e&&isNaN(x[0])&&!isNaN(x[1])){for(n=0;n<M;n++)if(_=d,isNaN(x[n])?f=(d=x[n].toUpperCase())!==x[n]:n--,w=+x[n+1],h=+x[n+2],f&&(w+=A,h+=C),n||(m=w,v=h),"M"===d)p&&(p.length<8?--S.length:E+=p.length),A=m=w,C=v=h,p=[w,h],S.push(p),n+=2,d="L";else if("C"===d)f||(A=C=0),(p=p||[0,0]).push(w,h,A+ +x[n+3],C+ +x[n+4],A+=+x[n+5],C+=+x[n+6]),n+=6;else if("S"===d)g=A,y=C,"C"!==_&&"S"!==_||(g+=A-p[p.length-4],y+=C-p[p.length-3]),f||(A=C=0),p.push(g,y,w,h,A+=+x[n+3],C+=+x[n+4]),n+=4;else if("Q"===d)g=A+2/3*(w-A),y=C+2/3*(h-C),f||(A=C=0),A+=+x[n+3],C+=+x[n+4],p.push(g,y,A+2/3*(w-A),C+2/3*(h-C),A,C),n+=4;else if("T"===d)g=A-p[p.length-4],y=C-p[p.length-3],p.push(A+g,C+y,w+2/3*(A+1.5*g-w),h+2/3*(C+1.5*y-h),A=w,C=h),n+=2;else if("H"===d)t(A,C,A=w,C),n+=1;else if("V"===d)t(A,C,A,C=w+(f?C-A:0)),n+=1;else if("L"===d||"Z"===d)"Z"===d&&(w=m,h=v,p.closed=!0),("L"===d||.5<l(A-w)||.5<l(C-h))&&(t(A,C,w,h),"L"===d&&(n+=2)),A=w,C=h;else if("A"===d){if(_=x[n+4],w=x[n+5],g=x[n+6],y=x[n+7],c=7,1<_.length&&(_.length<3?(y=g,g=w,c--):(y=w,g=_.substr(2),c-=2),w=_.charAt(1),_=_.charAt(0)),b=function(e,t,n,i,r,c,h,d,f){if(e!==d||t!==f){n=l(n),i=l(i);for(var p,m,v=s(g=r%360*o),g=a(g),y=Math.PI,b=2*y,_=v*(m=(e-d)/2)+g*(E=(t-f)/2),w=-g*m+v*E,x=(1<(x=(m=_*_)/(n*n)+(E=w*w)/(i*i))&&(n=u(x)*n,i=u(x)*i),n*n),S=v*(p=n*w/i*(E=(c===h?-1:1)*u(x=(x=(x*(p=i*i)-x*E-p*m)/(x*E+p*m))<0?0:x)))-g*(m=-i*_/n*E)+(e+d)/2,A=g*p+v*m+(t+f)/2,C=(_-p)/n,M=(w-m)/i,E=(c=(-_-p)/n,x=(-w-m)/i,C*C+M*M),T=(M<0?-1:1)*Math.acos(C/u(E)),D=(e=(C*x-M*c<0?-1:1)*Math.acos((C*c+M*x)/u(E*(c*c+x*x))),isNaN(e)&&(e=y),!h&&0<e?e-=b:h&&e<0&&(e+=b),T%=b,e%=b,Math.ceil(l(e)/(b/4))),P=[],k=e/D,O=4/3*a(k/2)/(1+s(k/2)),R=v*n,L=g*n,B=g*-i,I=v*i,F=0;F<D;F++)_=s(r=T+F*k),w=a(r),C=s(r+=k),M=a(r),P.push(_-O*w,w+O*_,C+O*M,M-O*C,C,M);for(F=0;F<P.length;F+=2)_=P[F],w=P[F+1],P[F]=_*R+w*B+S,P[F+1]=_*L+w*I+A;return P[F-2]=d,P[F-1]=f,P}}(A,C,+x[n+1],+x[n+2],+x[n+3],+_,+w,(f?A:0)+ +g,(f?C:0)+ +y),n+=c,b)for(c=0;c<b.length;c++)p.push(b[c]);A=p[p.length-2],C=p[p.length-1]}(n=p.length)<6?(S.pop(),n=0):p[0]===p[n-2]&&p[1]===p[n-1]&&(p.closed=!0),S.totalPoints=E+n}return S}(e)[0]),4===(n=S.length))S.unshift(0,0),S.push(1,1),n=8;else if((n-2)%6)throw"Invalid CustomEase";for(0==+S[0]&&1==+S[n-2]||m(S,t.height,t.originY),this.segment=S,d=2;d<n;d+=6)c={x:+S[d-2],y:+S[d-1]},h={x:+S[d+4],y:+S[d+5]},C.push(c,h),v(c.x,c.y,+S[d],+S[d+1],+S[d+2],+S[d+3],h.x,h.y,1/(2e5*E),C,C.length-1);for(n=C.length,d=0;d<n;d++)y=C[d],b=C[d-1]||y,(y.x>b.x||b.y!==y.y&&b.x===y.x||y===b)&&y.x<=1?(b.cx=y.x-b.x,b.cy=y.y-b.y,b.n=y,b.nx=y.x,T&&1<d&&2<Math.abs(b.cy/b.cx-C[d-2].cy/C[d-2].cx)&&(T=0),b.cx<A&&(b.cx?A=b.cx:(b.cx=.001,d===n-1&&(b.x-=.001,A=Math.min(A,.001),T=0)))):(C.splice(d--,1),n--);if(f=1/(n=1/A+1|0),y=C[p=0],T){for(d=0;d<n;d++)c=(y=y.nx<(_=d*f)?C[++p]:y).y+(_-y.x)/y.cx*y.cy,M[d]={x:_,cx:f,y:c,cy:0,nx:9},d&&(M[d-1].cy=c-M[d-1].y);M[n-1].cy=C[C.length-1].y-c}else{for(d=0;d<n;d++)y.nx<d*f&&(y=C[++p]),M[d]=y;p<C.length-1&&(M[d-1]=C[C.length-2])}return this.ease=function(e){var t=M[e*n|0]||M[n-1];return(t=t.nx<e?t.n:t).y+(e-t.x)/t.cx*t.cy},(this.ease.custom=this).id&&g&&g.registerEase(this.id,this.ease),this},t.getSVGData=function(t){return e.getSVGData(this,t)},e.create=function(t,n,i){return new e(t,n,i).ease},e.register=function(e){g=e,f()},e.get=function(e){return g.parseEase(e)},e.getSVGData=function(t,n){var i,r,o,a,s,l,u,c,h,f,m=(n=n||{}).width||100,v=n.height||100,y=n.x||0,b=(n.y||0)+v,_=g.utils.toArray(n.path)[0];if(n.invert&&(v=-v,b=0),(t=(t="string"==typeof t?g.parseEase(t):t).custom?t.custom:t)instanceof e)i=d(function(e,t,n,i,r,o,a){for(var s,l,u,c,h,d=e.length;-1<--d;)for(l=(s=e[d]).length,u=0;u<l;u+=2)c=s[u],h=s[u+1],s[u]=c*t+0*h+o,s[u+1]=0*c+h*r+a;return e._dirty=1,e}([t.segment],m,0,0,-v,y,b));else{for(i=[y,b],a=1/(u=Math.max(5,200*(n.precision||1))),c=5/(u+=2),h=p(y+a*m),r=((f=p(b+t(a)*-v))-b)/(h-y),o=2;o<u;o++)s=p(y+o*a*m),l=p(b+t(o*a)*-v),(Math.abs((l-f)/(s-h)-r)>c||o===u-1)&&(i.push(h,f),r=(l-f)/(s-h)),h=s,f=l;i="M"+i.join(",")}return _&&_.setAttribute("d",i),i},e}();b()&&g.registerPlugin(S),S.version="3.11.3"},,function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(){return g||"undefined"!=typeof window&&(g=window.gsap)&&g.registerPlugin&&g}function o(e){return!!~M.indexOf(e)}function a(e,t,n,i,r){e.addEventListener(t,n,{passive:!i,capture:!!r})}function s(e,t,n,i){e.removeEventListener(t,n,!!i)}function l(){return E&&E.isPressed||k.cache++}function u(e,t){function n(i){var r;return i||0===i?(D&&(b.history.scrollRestoration="manual"),r=E&&E.isPressed,i=n.v=Math.round(i)||(E&&E.iOS?1:0),e(i),n.cacheID=k.cache,r&&L("ss",i)):(t||k.cache!==n.cacheID||L("ref"))&&(n.cacheID=k.cache,n.v=e()),n.v+n.offset}return n.offset=0,e&&n}function c(e){return g.utils.toArray(e)[0]||("string"==typeof e&&!1!==g.config().nullTargetWarn?void 0:null)}function h(e,t){var n=t.s,i=(t=t.sc,o(e)&&(e=_.scrollingElement||w),k.indexOf(e)),r=t===U.sc?1:2,a=(~i||(i=k.push(e)-1),k[i+r]||e.addEventListener("scroll",l),k[i+r]);return(i=a||(k[i+r]=u(I(e,n),!0)||(o(e)?t:u((function(t){return arguments.length?e[n]=t:e[n]}))))).target=e,a||(i.smooth="smooth"===g.getProperty(e,"scrollBehavior")),i}function d(e,t,n){function i(e,t){var i=R();t||l<i-a?(o=r,r=e,s=a,a=i):n?r+=e:r=o+(e-o)/(i-s)*(a-s)}var r=e,o=e,a=R(),s=a,l=t||50,u=Math.max(500,3*l);return{update:i,reset:function(){o=r=n?0:r,s=a=0},getVelocity:function(e){var t=s,l=o,c=R();return!e&&0!==e||e===r||i(e),a===s||u<c-s?0:(r+(n?l:-l))/((n?c:a)-t)*1e3}}}function f(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e}function p(e){var t=Math.max.apply(Math,e);e=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(e)?t:e}function m(){(C=g.core.globals().ScrollTrigger)&&C.core&&B()}function v(e){return(g=e||r())&&"undefined"!=typeof document&&document.body&&(b=window,w=(_=document).documentElement,x=_.body,M=[b,_,w,x],g.utils.clamp,A="onpointerenter"in x?"pointer":"mouse",S=j.isTouch=b.matchMedia&&b.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in b||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints?2:0,T=j.eventTypes=("ontouchstart"in w?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in w?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return D=0}),500),m(),y=1),y}n.d(t,"a",(function(){return Jt}));var g,y,b,_,w,x,S,A,C,M,E,T,D=1,P=[],k=[],O=[],R=Date.now,L=function(e,t){return t},B=function(){var e=(n=C.core).bridge||{},t=n._scrollers,n=n._proxies;t.push.apply(t,k),n.push.apply(n,O),k=t,O=n,L=function(t,n){return e[t](n)}},I=function(e,t){return~O.indexOf(e)&&O[O.indexOf(e)+1][t]},F="scrollLeft",z="scrollTop",N={s:F,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:u((function(e){return arguments.length?b.scrollTo(e,U.sc()):b.pageXOffset||_[F]||w[F]||x[F]||0}))},U={s:z,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:N,sc:u((function(e){return arguments.length?b.scrollTo(N.sc(),e):b.pageYOffset||_[z]||w[z]||x[z]||0}))},j=(N.op=U,k.cache=0,function(){function e(e){this.init(e)}var t,n;return e.prototype.init=function(e){function t(){return Ge=R()}function n(e){var t,n;Ve(e,1)||(s(be?Y:Ue,T[1],Xe,!0),t=ke.isDragging&&(3<Math.abs(ke.x-ke.startX)||3<Math.abs(ke.y-ke.startY)),n=f(e),t||(ke._vx.reset(),ke._vy.reset(),Q&&Te&&g.delayedCall(.08,(function(){var t;300<R()-Ge&&!e.defaultPrevented&&(e.target.click?e.target.click():Ue.createEvent&&((t=Ue.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,b,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)))}))),ke.isDragging=ke.isGesturing=ke.isPressed=!1,K&&!be&&Ke.restart(!0),ne&&t&&ne(ke),oe&&oe(ke,t))}function i(e){return e.touches&&1<e.touches.length&&(ke.isGesturing=!0)&&_e(e,ke.isDragging)}function r(){return ke.isGesturing=!1,we(ke)}function u(e){var t;Ve(e)||(e=Le(),t=Be(),Ye((e-Ie)*Me,(t-Fe)*Me,1),Ie=e,Fe=t,K&&Ke.restart(!0))}function M(e){var t;Ve(e)||(e=f(e,Q),xe&&(z=!0),t=(1===e.deltaMode?q:2===e.deltaMode?b.innerHeight:1)*$,Ye(e.deltaX*t,e.deltaY*t,0),K&&!be&&Ke.restart(!0))}function D(e){var t,n,i;Ve(e)||(t=e.clientX,e=e.clientY,n=t-ke.x,i=e-ke.y,ke.x=t,ke.y=e,F=!0,(n||i)&&qe(n,i))}function k(e){ke.event=e,me(ke)}function O(e){ke.event=e,ve(ke)}function L(e){return Ve(e)||f(e,Q)&&Ce(ke)}y||v(g),C||m();var B,I,F,z,j,H,G=e.tolerance,V=e.dragMinimum,W=e.type,Y=e.target,q=e.lineHeight,X=e.debounce,Q=e.preventDefault,K=e.onStop,J=e.onStopDelay,Z=e.ignore,$=e.wheelSpeed,ee=e.event,te=e.onDragStart,ne=e.onDragEnd,ie=e.onDrag,re=e.onPress,oe=e.onRelease,ae=e.onRight,se=e.onLeft,le=e.onUp,ue=e.onDown,ce=e.onChangeX,he=e.onChangeY,de=e.onChange,fe=e.onToggleX,pe=e.onToggleY,me=e.onHover,ve=e.onHoverEnd,ge=e.onMove,ye=e.ignoreCheck,be=e.isNormalizer,_e=e.onGestureStart,we=e.onGestureEnd,xe=e.onWheel,Se=e.onEnable,Ae=e.onDisable,Ce=e.onClick,Me=e.scrollSpeed,Ee=e.capture,Te=e.allowClicks,De=e.lockAxis,Pe=e.onLockAxis,ke=(Z=(this.target=Y=c(Y)||w,this.vars=e,Z&&g.utils.toArray(Z)),G=G||1e-9,V=V||0,$=$||1,Me=Me||1,W=W||"wheel,touch,pointer",X=!1!==X,q=q||parseFloat(b.getComputedStyle(x).lineHeight)||22,this),Oe=0,Re=0,Le=h(Y,N),Be=h(Y,U),Ie=Le(),Fe=Be(),ze=~W.indexOf("touch")&&!~W.indexOf("pointer")&&"pointerdown"===T[0],Ne=o(Y),Ue=Y.ownerDocument||_,je=[0,0,0],He=[0,0,0],Ge=0,Ve=function(e,t){return(ke.event=e)&&Z&&~Z.indexOf(e.target)||t&&ze&&"touch"!==e.pointerType||ye&&ye(e,t)},We=function(){var e=ke.deltaX=p(je),t=ke.deltaY=p(He),n=Math.abs(e)>=G,i=Math.abs(t)>=G;de&&(n||i)&&de(ke,e,t,je,He),n&&(ae&&0<ke.deltaX&&ae(ke),se&&ke.deltaX<0&&se(ke),ce&&ce(ke),fe&&ke.deltaX<0!=Oe<0&&fe(ke),Oe=ke.deltaX,je[0]=je[1]=je[2]=0),i&&(ue&&0<ke.deltaY&&ue(ke),le&&ke.deltaY<0&&le(ke),he&&he(ke),pe&&ke.deltaY<0!=Re<0&&pe(ke),Re=ke.deltaY,He[0]=He[1]=He[2]=0),(F||I)&&(ge&&ge(ke),I&&(ie(ke),I=!1),F=!1),j&&!(j=!1)&&Pe&&Pe(ke),z&&(xe(ke),z=!1),B=0},Ye=function(e,t,n){je[n]+=e,He[n]+=t,ke._vx.update(e),ke._vy.update(t),X?B=B||requestAnimationFrame(We):We()},qe=function(e,t){De&&!H&&(ke.axis=H=Math.abs(e)>Math.abs(t)?"x":"y",j=!0),"y"!==H&&(je[2]+=e,ke._vx.update(e,!0)),"x"!==H&&(He[2]+=t,ke._vy.update(t,!0)),X?B=B||requestAnimationFrame(We):We()},Xe=function(e){var t,n,i,r;Ve(e,1)||(t=(e=f(e,Q)).clientX,e=e.clientY,n=t-ke.x,i=e-ke.y,r=ke.isDragging,ke.x=t,ke.y=e,(r||Math.abs(ke.startX-t)>=V||Math.abs(ke.startY-e)>=V)&&(ie&&(I=!0),r||(ke.isDragging=!0),qe(n,i),r||te&&te(ke)))},Qe=ke.onPress=function(e){Ve(e,1)||(ke.axis=H=null,Ke.pause(),ke.isPressed=!0,e=f(e),Oe=Re=0,ke.startX=ke.x=e.clientX,ke.startY=ke.y=e.clientY,ke._vx.reset(),ke._vy.reset(),a(be?Y:Ue,T[1],Xe,Q,!0),ke.deltaX=ke.deltaY=0,re&&re(ke))},Ke=ke._dc=g.delayedCall(J||.25,(function(){ke._vx.reset(),ke._vy.reset(),Ke.pause(),K&&K(ke)})).pause();ke.deltaX=ke.deltaY=0,ke._vx=d(0,50,!0),ke._vy=d(0,50,!0),ke.scrollX=Le,ke.scrollY=Be,ke.isDragging=ke.isGesturing=ke.isPressed=!1,ke.enable=function(e){return ke.isEnabled||(a(Ne?Ue:Y,"scroll",l),0<=W.indexOf("scroll")&&a(Ne?Ue:Y,"scroll",u,Q,Ee),0<=W.indexOf("wheel")&&a(Y,"wheel",M,Q,Ee),(0<=W.indexOf("touch")&&S||0<=W.indexOf("pointer"))&&(a(Y,T[0],Qe,Q,Ee),a(Ue,T[2],n),a(Ue,T[3],n),Te&&a(Y,"click",t,!1,!0),Ce&&a(Y,"click",L),_e&&a(Ue,"gesturestart",i),we&&a(Ue,"gestureend",r),me&&a(Y,A+"enter",k),ve&&a(Y,A+"leave",O),ge&&a(Y,A+"move",D)),ke.isEnabled=!0,e&&e.type&&Qe(e),Se&&Se(ke)),ke},ke.disable=function(){ke.isEnabled&&(P.filter((function(e){return e!==ke&&o(e.target)})).length||s(Ne?Ue:Y,"scroll",l),ke.isPressed&&(ke._vx.reset(),ke._vy.reset(),s(be?Y:Ue,T[1],Xe,!0)),s(Ne?Ue:Y,"scroll",u,Ee),s(Y,"wheel",M,Ee),s(Y,T[0],Qe,Ee),s(Ue,T[2],n),s(Ue,T[3],n),s(Y,"click",t,!0),s(Y,"click",L),s(Ue,"gesturestart",i),s(Ue,"gestureend",r),s(Y,A+"enter",k),s(Y,A+"leave",O),s(Y,A+"move",D),ke.isEnabled=ke.isPressed=ke.isDragging=!1,Ae&&Ae(ke))},ke.kill=function(){ke.disable();var e=P.indexOf(ke);0<=e&&P.splice(e,1),E===ke&&(E=0)},P.push(ke),be&&o(Y)&&(E=ke),ke.enable(ee)},t=e,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&i(t.prototype,n),e}());function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(){return ze=1}function V(){return ze=0}function W(e){return e}function Y(e){return Math.round(1e5*e)/1e5||0}function q(){return"undefined"!=typeof window}function X(){return Ce||q()&&(Ce=window.gsap)&&Ce.registerPlugin&&Ce}function Q(e){return I(e,"getBoundingClientRect")||(ht(e)?function(){return Qt.width=Ee.innerWidth,Qt.height=Ee.innerHeight,Qt}:function(){return Et(e)})}function K(e,t){for(var n=0;n<Ge.length;n+=3)t&&!~t.indexOf(Ge[n+1])||e(Ge[n],Ge[n+1],Ge[n+2])}function J(e){return"number"==typeof e}function Z(e){return"object"===H(e)}function $(e,t,n){e&&e.progress(t?0:1)&&n&&e.pause()}function ee(e,t){e.enabled&&(t=t(e))&&t.totalTime&&(e.callbackAnimation=t)}function te(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}function ne(e,t){return e["offset"+(t=t.d2)]||e["client"+t]||0}function ie(e){var t,n=[],i=e.labels,r=e.duration();for(t in i)n.push(i[t]/r);return n}function re(e){var t=Ce.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort((function(e,t){return e-t}));return n?function(e,i,r){var o;if(void 0===r&&(r=.001),!i)return t(e);if(0<i){for(e-=r,o=0;o<n.length;o++)if(n[o]>=e)return n[o];return n[o-1]}for(o=n.length,e+=r;o--;)if(n[o]<=e)return n[o];return n[0]}:function(n,i,r){void 0===r&&(r=.001);var o=t(n);return!i||Math.abs(o-n)<r||o-n<0==i<0?o:t(i<0?n-e:n+e)}}function oe(e,t,n,i){n.split(",").forEach((function(n){return e(t,n,i)}))}function ae(e,t,n){n&&n.wheelHandler&&e(t,"wheel",n)}function se(e,t){var n,i;return ft(e)&&(i=~(n=e.indexOf("="))?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0,~n&&(e.indexOf("%")>n&&(i*=t/100),e=e.substr(0,n-1)),e=i+(e in Ot?Ot[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)),e}function le(e,t,n,i,r,o,a,s){var l=r.startColor,u=r.endColor,c=r.fontSize,h=r.indent,d=(r=r.fontWeight,Te.createElement("div")),f=ht(n)||"fixed"===I(n,"pinType"),p=-1!==e.indexOf("scroller"),m=(n=f?Pe:n,-1!==e.indexOf("start"));u="border-color:"+(l=m?l:u)+";font-size:"+c+";color:"+l+";font-weight:"+r+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return u+="position:"+((p||s)&&f?"fixed;":"absolute;"),!p&&!s&&f||(u+=(i===U?"right":vt)+":"+(o+parseFloat(h))+"px;"),a&&(u+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),d._isStart=m,d.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),d.style.cssText=u,d.innerText=t||0===t?e+"-"+t:e,n.children[0]?n.insertBefore(d,n.children[0]):n.appendChild(d),d._offset=d["offset"+i.op.d2],ue(d,0,i,m),d}function ue(e,t,n,i){var r={display:"block"},o=n[i?"os2":"p2"],a=n[i?"p2":"os2"];e._isFlipped=i,r[n.a+"Percent"]=i?-100:0,r[n.a]=i?"1px":0,r["border"+o+At]=1,r["border"+a+At]=0,r[n.p]=t+"px",Ce.set(e,r)}function ce(){return 34<st()-ut&&(tt=tt||requestAnimationFrame(Wt))}function he(){qe&&qe.isPressed&&!(qe.startX>Pe.clientWidth)||(k.cache++,qe?tt=tt||requestAnimationFrame(Wt):Wt(),ut||zt("scrollStart"),ut=st())}function de(){Ke=Ee.innerWidth,Qe=Ee.innerHeight}function fe(){k.cache++,Fe||Ye||Te.fullscreenElement||Te.webkitFullscreenElement||Xe&&Ke===Ee.innerWidth&&!(Math.abs(Ee.innerHeight-Qe)>.25*Ee.innerHeight)||Oe.restart(!0)}function pe(e){for(var t=0;t<Nt.length;t+=5)(!e||Nt[t+4]&&Nt[t+4].query===e)&&(Nt[t].style.cssText=Nt[t+1],Nt[t].getBBox&&Nt[t].setAttribute("transform",Nt[t+2]||""),Nt[t+3].uncache=1)}function me(e,t){ut&&!e?Tt(Jt,"scrollEnd",Ft):(nt=Jt.isRefreshing=!0,k.forEach((function(e){return pt(e)&&e.cacheID++&&(e.rec=e())})),e=zt("refreshInit"),Ve&&Jt.sort(),t||Ut(),k.forEach((function(e){pt(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))})),Rt.slice(0).forEach((function(e){return e.refresh()})),Rt.forEach((function(e,t){var n,i;e._subPinOffset&&e.pin&&(n=e.vars.horizontal?"offsetWidth":"offsetHeight",i=e.pin[n],e.revert(!0,1),e.adjustPinSpacing(e.pin[n]-i),e.revert(!1,1))})),Rt.forEach((function(e){return"max"===e.vars.end&&e.setPositions(e.start,Math.max(e.start+1,dt(e.scroller,e._dir)))})),e.forEach((function(e){return e&&e.render&&e.render(-1)})),k.forEach((function(e){pt(e)&&(e.smooth&&requestAnimationFrame((function(){return e.target.style.scrollBehavior="smooth"})),e.rec&&e(e.rec))})),jt($e,1),Oe.pause(),Ht++,Wt(2),Rt.forEach((function(e){return pt(e.vars.onRefresh)&&e.vars.onRefresh(e)})),nt=Jt.isRefreshing=!1,zt("refresh"))}function ve(e,t,n,i){if(!e._gsap.swappedIn){for(var r,o=Yt.length,a=t.style,s=e.style;o--;)a[r=Yt[o]]=n[r];a.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(a.display="inline-block"),s[vt]=s.right="auto",a.flexBasis=n.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[gt]=ne(e,N)+Ct,a[yt]=ne(e,U)+Ct,a[xt]=s[St]=s.top=s.left="0",ge(i),s[gt]=s["max"+At]=n[gt],s[yt]=s.maxHeight=n[yt],s[xt]=n[xt],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}}function ge(e){if(e){var t,n,i=e.t.style,r=e.length,o=0;for((e.t._gsap||Ce.core.getCache(e.t)).uncache=1;o<r;o+=2)n=e[o+1],t=e[o],n?i[t]=n:i[t]&&i.removeProperty(t.replace(Xt,"-$1").toLowerCase())}}function ye(e){for(var t=qt.length,n=e.style,i=[],r=0;r<t;r++)i.push(qt[r],n[qt[r]]);return i.t=e,i}function be(e,t,n,i,r,o,a,s,l,u,h,d,f){pt(e)&&(e=e(s)),ft(e)&&"max"===e.substr(0,3)&&(e=d+("="===e.charAt(4)?se("0"+e.substr(3),n):0));var p,m,v,g=f?f.time():0;return f&&f.seek(0),J(e)?a&&ue(a,n,i,!0):(pt(t)&&(t=t(s)),s=(e||"0").split(" "),m=c(t)||Pe,(t=Et(m)||{})&&(t.left||t.top)||"none"!==Mt(m).display||(p=m.style.display,m.style.display="block",t=Et(m),p?m.style.display=p:m.style.removeProperty("display")),p=se(s[0],t[i.d]),s=se(s[1]||"0",n),e=t[i.p]-l[i.p]-u+p+r-s,a&&ue(a,s,i,n-s<20||a._isStart&&20<s),n-=n-s),o&&(t=o._isStart,v="scroll"+i.d2,ue(o,u=e+n,i,t&&20<u||!t&&(h?Math.max(Pe[v],De[v]):o.parentNode[v])<=u+1),h&&(l=Et(a),h&&(o.style[i.op.p]=l[i.op.p]-i.op.m-o._offset+Ct))),f&&m&&(v=Et(m),f.seek(d),p=Et(m),f._caScrollDist=v[i.p]-p[i.p],e=e/f._caScrollDist*d),f&&f.seek(g),f?e:Math.round(e)}function _e(e,t,n,i){if(e.parentNode!==t){var r,o,a=e.style;if(t===Pe){for(r in e._stOrig=a.cssText,o=Mt(e))+r||Kt.test(r)||!o[r]||"string"!=typeof a[r]||"0"===r||(a[r]=o[r]);a.top=n,a.left=i}else a.cssText=e._stOrig;Ce.core.getCache(e).uncache=1,t.appendChild(e)}}function we(e,t){function n(t,s,l,u,c){var h=n.tween,d=s.onComplete;return l=l||o(),c=u&&c||0,u=u||t-l,h&&h.kill(),i=Math.round(l),s[a]=t,(s.modifiers={})[a]=function(e){return(e=Math.round(o()))!==i&&e!==r&&3<Math.abs(e-i)&&3<Math.abs(e-r)?(h.kill(),n.tween=0):e=l+u*h.ratio+c*h.ratio*h.ratio,r=i,i=Math.round(e)},s.onComplete=function(){n.tween=0,d&&d.call(h)},h=n.tween=Ce.to(e,s)}var i,r,o=h(e,t),a="_scroll"+t.p2;return(e[a]=o).wheelHandler=function(){return n.tween&&n.tween.kill()&&(n.tween=0)},Tt(e,"wheel",o.wheelHandler),n}function xe(e,t,n,i){return i<t?e(i):t<0&&e(0),i<n?(i-t)/(n-t):n<0?t/(t-n):1}function Se(e,t){!0===t?e.style.removeProperty("touch-action"):e.style.touchAction=!0===t?"auto":t?"pan-"+t+(j.isTouch?" pinch-zoom":""):"none",e===De&&Se(Pe,t)}function Ae(e,t,n,i){return j.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:i=i&&$t,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return n&&Tt(Te,j.eventTypes[0],tn,!1,!0)},onDisable:function(){return Dt(Te,j.eventTypes[0],tn,!0)}})}j.version="3.11.3",j.create=function(e){return new j(e)},j.register=v,j.getAll=function(){return P.slice()},j.getById=function(e){return P.filter((function(t){return t.vars.id===e}))[0]},r()&&g.registerPlugin(j);var Ce,Me,Ee,Te,De,Pe,ke,Oe,Re,Le,Be,Ie,Fe,ze,Ne,Ue,je,He,Ge,Ve,We,Ye,qe,Xe,Qe,Ke,Je,Ze,$e,et,tt,nt,it,rt,ot,at=1,st=Date.now,lt=st(),ut=0,ct=0,ht=function(e){return!!~ke.indexOf(e)},dt=function(e,t){t.s;var n,i=t.d2,r=t.d;t=t.a;return(n="scroll"+i)&&(t=I(e,n))?t()-Q(e)()[r]:ht(e)?(De[n]||Pe[n])-(Ee["inner"+i]||De["client"+i]||Pe["client"+i]):e[n]-e["offset"+i]},ft=function(e){return"string"==typeof e},pt=function(e){return"function"==typeof e},mt=Math.abs,vt="bottom",gt="width",yt="height",bt="Right",_t="Left",wt="Bottom",xt="padding",St="margin",At="Width",Ct=(n="Height","px"),Mt=function(e){return Ee.getComputedStyle(e)},Et=function(e,t){return t=t&&"matrix(1, 0, 0, 1, 0, 0)"!==Mt(e)[Ne]&&Ce.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),e=e.getBoundingClientRect(),t&&t.progress(0).kill(),e},Tt=function(e,t,n,i,r){return e.addEventListener(t,n,{passive:!i,capture:!!r})},Dt=function(e,t,n,i){return e.removeEventListener(t,n,!!i)},Pt={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},kt={toggleActions:"play",anticipatePin:0},Ot={top:0,left:0,center:.5,bottom:1,right:1},Rt=[],Lt={},Bt={},It=[],Ft=function e(){return Dt(Jt,"scrollEnd",e)||me(!0)},zt=function(e){return Bt[e]&&Bt[e].map((function(e){return e()}))||It},Nt=[],Ut=function(e,t){var n;for(Ue=0;Ue<Rt.length;Ue++)!(n=Rt[Ue])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));t&&pe(t),t||zt("revert")},jt=function(e,t){k.cache++,!t&&nt||k.forEach((function(e){return pt(e)&&e.cacheID++&&(e.rec=0)})),ft(e)&&(Ee.history.scrollRestoration=$e=e)},Ht=0,Gt=0,Vt=1,Wt=function(e){if(!nt||2===e){Jt.isUpdating=!0,rt&&rt.update(0);var t=Rt.length,n=50<=(e=st())-lt,i=t&&Rt[0].scroll();if(Vt=i<Gt?-1:1,Gt=i,n&&(ut&&!ze&&200<e-ut&&(ut=0,zt("scrollEnd")),Be=lt,lt=e),Vt<0){for(Ue=t;0<Ue--;)Rt[Ue]&&Rt[Ue].update(0,n);Vt=1}else for(Ue=0;Ue<t;Ue++)Rt[Ue]&&Rt[Ue].update(0,n);Jt.isUpdating=!1}tt=0},Yt=["left","top",vt,"right",St+wt,St+bt,St+"Top",St+_t,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],qt=Yt.concat([gt,yt,"boxSizing","max"+At,"max"+n,"position",St,xt,xt+"Top",xt+bt,xt+wt,xt+_t]),Xt=/([A-Z])/g,Qt={left:0,top:0},Kt=/(webkit|moz|length|cssText|inset)/i,Jt=function(){function e(t,n){Me||e.register(Ce),this.init(t,n)}return e.prototype.init=function(t,n){var i,r,o,a,s,l,u,d,f,p,m,v,g,y,b,_,w,x,S,A,C,M,E,T,D,P,R,L,B,F,z,j,H,G,V,q,X,K,oe,ae,ue,ce,de,pe,xe,Se,Ae,Me,ke,Oe,Ie,Ne,je,He,Ge,Ye,qe,Xe,Qe,Ke,Je,$e,tt,ot,lt,vt,Ot,Bt,It,zt,Nt,Ut,jt,Gt,Wt,Yt,qt,Xt,Kt,Jt,Zt,$t;this.progress=this.start=0,this.vars&&this.kill(!0,!0),ct?(Wt=t=te(ft(t)||J(t)||t.nodeType?{trigger:t}:t,kt),i=Wt.onUpdate,r=Wt.toggleClass,o=Wt.id,a=Wt.onToggle,s=Wt.onRefresh,l=Wt.scrub,u=Wt.trigger,d=Wt.pin,f=Wt.pinSpacing,p=Wt.invalidateOnRefresh,m=Wt.anticipatePin,v=Wt.onScrubComplete,g=Wt.onSnapComplete,y=Wt.once,b=Wt.snap,_=Wt.pinReparent,Kt=Wt.pinSpacer,w=Wt.containerAnimation,x=Wt.fastScrollEnd,S=Wt.preventOverlaps,A=t.horizontal||t.containerAnimation&&!1!==t.horizontal?N:U,C=!l&&0!==l,M=c(t.scroller||Ee),Wt=Ce.core.getCache(M),E=ht(M),T="fixed"===("pinType"in t?t.pinType:I(M,"pinType")||E&&"fixed"),D=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],P=C&&t.toggleActions.split(" "),Xt=("markers"in t?t:kt).markers,R=!E&&parseFloat(Mt(M)["border"+A.p2+At])||0,L=this,B=t.onRefreshInit&&function(){return t.onRefreshInit(L)},vt=M,Ot=E,Bt=A.d,It=A.d2,zt=A.a,F=(zt=I(vt,"getBoundingClientRect"))?function(){return zt()[Bt]}:function(){return(Ot?Ee["inner"+It]:vt["client"+It])||0},lt=M,z=!E||~O.indexOf(lt)?Q(lt):function(){return Qt},H=j=0,G=h(M,A),Ze(L),L._dir=A,m*=45,L.scroller=M,L.scroll=w?w.time.bind(w):G,K=G(),L.vars=t,n=n||t.animation,"refreshPriority"in t&&(Ve=1,-9999===t.refreshPriority&&(rt=L)),Wt.tweenScroll=Wt.tweenScroll||{top:we(M,U),left:we(M,N)},L.tweenTo=V=Wt.tweenScroll[A.p],L.scrubDuration=function(e){(Xe=J(e)&&e)?qe?qe.duration(e):qe=Ce.to(n,{ease:"expo",totalProgress:"+=0.001",duration:Xe,paused:!0,onComplete:function(){return v&&v(L)}}):(qe&&qe.progress(1).kill(),qe=0)},n&&(n.vars.lazy=!1,n._initted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),L.animation=n.pause(),(n.scrollTrigger=L).scrubDuration(l),Ge=0,o=o||n.vars.id),Rt.push(L),b&&(Z(b)&&!b.push||(b={snapTo:b}),"scrollBehavior"in Pe.style&&Ce.set(E?[Pe,De]:M,{scrollBehavior:"auto"}),k.forEach((function(e){return pt(e)&&e.target===(E?Te.scrollingElement||De:M)&&(e.smooth=!1)})),X=pt(b.snapTo)?b.snapTo:"labels"===b.snapTo?(Ut=n,function(e){return Ce.utils.snap(ie(Ut),e)}):"labelsDirectional"===b.snapTo?(Nt=n,function(e,t){return re(ie(Nt))(e,t.direction)}):!1!==b.directional?function(e,t){return re(b.snapTo)(e,st()-H<500?0:t.direction)}:Ce.utils.snap(b.snapTo),Qe=Z(Qe=b.duration||{min:.1,max:2})?Le(Qe.min,Qe.max):Le(Qe,Qe),Ke=Ce.delayedCall(b.delay||Xe/2||.1,(function(){var e,t,i,r,o,a,s,l,u,c,h=G(),d=st()-H<500,f=V.tween;!(d||Math.abs(L.getVelocity())<10)||f||ze||j===h?L.isActive&&j!==h&&Ke.restart(!0):(e=(h-ae)/ce,t=n&&!C?n.totalProgress():e,d=!d&&(t-Ye)/(st()-Be)*1e3||0,i=Ce.utils.clamp(-e,1-e,mt(d/2)*d/.185),r=e+(!1===b.inertia?0:i),o=Le(0,1,X(r,L)),a=Math.round(ae+o*ce),l=(s=b).onStart,u=s.onInterrupt,c=s.onComplete,h<=ue&&ae<=h&&a!==h&&(f&&!f._initted&&f.data<=mt(a-h)||(!1===b.inertia&&(i=o-e),V(a,{duration:Qe(mt(.185*Math.max(mt(r-t),mt(o-t))/d/.05||0)),ease:b.ease||"power3",data:mt(a-h),onInterrupt:function(){return Ke.restart(!0)&&u&&u(L)},onComplete:function(){L.update(),j=G(),Ge=Ye=n&&!C?n.totalProgress():L.progress,g&&g(L),c&&c(L)}},h,i*ce,a-h-i*ce),l&&l(L,V.tween))))})).pause()),o&&(Lt[o]=L),lt=(lt=(u=L.trigger=c(u||d))&&u._gsap&&u._gsap.stRevert)&&lt(L),d=!0===d?u:c(d),ft(r)&&(r={targets:u,className:r}),d&&(!1!==f&&f!==St&&(f=!(!f&&d.parentNode&&d.parentNode.style&&"flex"===Mt(d.parentNode).display)&&xt),L.pin=d,(q=Ce.core.getCache(d)).spacer?de=q.pinState:(Kt&&((Kt=c(Kt))&&!Kt.nodeType&&(Kt=Kt.current||Kt.nativeElement),q.spacerIsNative=!!Kt,Kt&&(q.spacerState=ye(Kt))),q.spacer=Se=Kt||Te.createElement("div"),Se.classList.add("pin-spacer"),o&&Se.classList.add("pin-spacer-"+o),q.pinState=de=ye(d)),!1!==t.force3D&&Ce.set(d,{force3D:!0}),L.spacer=Se=q.spacer,Wt=Mt(d),Ie=Wt[f+A.os2],Ae=Ce.getProperty(d),Me=Ce.quickSetter(d,A.a,Ct),ve(d,Se,Wt),xe=ye(d)),Xt&&(Kt=Z(Xt)?te(Xt,Pt):Pt,jt=le("scroller-start",o,M,A,Kt,0),Gt=le("scroller-end",o,M,A,Kt,0,jt),Wt=jt["offset"+A.op.d2],Xt=c(I(M,"content")||M),Yt=this.markerStart=le("start",o,Xt,A,Kt,Wt,0,w),qt=this.markerEnd=le("end",o,Xt,A,Kt,Wt,0,w),w&&(ot=Ce.quickSetter([Yt,qt],A.a,Ct)),T||O.length&&!0===I(M,"fixedMarkers")||(Kt=Mt(Xt=E?Pe:M).position,Xt.style.position="absolute"===Kt||"fixed"===Kt?Kt:"relative",Ce.set([jt,Gt],{force3D:!0}),je=Ce.quickSetter(jt,A.a,Ct),He=Ce.quickSetter(Gt,A.a,Ct))),w&&(Jt=w.vars.onUpdate,Zt=w.vars.onUpdateParams,w.eventCallback("onUpdate",(function(){L.update(0,0,1),Jt&&Jt.apply(Zt||[])}))),L.previous=function(){return Rt[Rt.indexOf(L)-1]},L.next=function(){return Rt[Rt.indexOf(L)+1]},L.revert=function(e,t){if(!t)return L.kill(!0);var i,r,o=!1!==e||!L.enabled;t=Fe;o!==L.isReverted&&(o&&($e=Math.max(G(),L.scroll.rec||0),Je=L.progress,tt=n&&n.progress()),Yt&&[Yt,qt,jt,Gt].forEach((function(e){return e.style.display=o?"none":"block"})),o&&(Fe=1,L.update(o)),d&&(o?(e=d,i=Se,ge(r=de),(r=e._gsap).spacerIsNative?ge(r.spacerState):e._gsap.swappedIn&&(r=i.parentNode)&&(r.insertBefore(e,i),r.removeChild(i)),e._gsap.swappedIn=!1):_&&L.isActive||ve(d,Se,Mt(d),Ne)),o||L.update(o),Fe=t,L.isReverted=o)},L.refresh=function(i,r){if(!Fe&&L.enabled||r)if(d&&i&&ut)Tt(e,"scrollEnd",Ft);else{!nt&&B&&B(L),Fe=1,H=st(),V.tween&&(V.tween.kill(),V.tween=0),qe&&qe.pause(),p&&n&&n.revert({kill:!1}).invalidate(),L.isReverted||L.revert(!0,!0),L._subPinOffset=!1;r=F(),i=z();for(var o,a,l,m,v,g=w?w.duration():dt(M,A),y=0,b=0,x=t.end,S=t.endTrigger||u,D=t.start||(0!==t.start&&u?d?"0 0":"0 100%":0),P=L.pinnedContainer=t.pinnedContainer&&c(t.pinnedContainer),k=u&&Math.max(0,Rt.indexOf(L))||0,O=k;O--;)(l=Rt[O]).end||l.refresh(0,1)||(Fe=1),!(m=l.pin)||m!==u&&m!==d||l.isReverted||((v=v||[]).unshift(l),l.revert(!0,!0)),l!==Rt[O]&&(k--,O--);for(pt(D)&&(D=D(L)),ae=be(D,u,r,A,G(),Yt,jt,L,i,R,T,g,w)||(d?-.001:0),pt(x)&&(x=x(L)),ft(x)&&!x.indexOf("+=")&&(~x.indexOf(" ")?x=(ft(D)?D.split(" ")[0]:"")+x:(y=se(x.substr(2),r),x=ft(D)?D:ae+y,S=u)),ue=Math.max(ae,be(x||(S?"100% 0":g),S,r,A,G()+y,qt,Gt,L,i,R,T,g,w))||-.001,ce=ue-ae||(ae-=.01)&&.001,y=0,O=k;O--;)(m=(l=Rt[O]).pin)&&l.start-l._pinPush<=ae&&!w&&0<l.end&&(o=l.end-l.start,(m===u&&l.start-l._pinPush<ae||m===P)&&!J(D)&&(y+=o*(1-l.progress)),m===d&&(b+=o));if(ae+=y,ue+=y,L._pinPush=b,Yt&&y&&((o={})[A.a]="+="+y,P&&(o[A.p]="-="+G()),Ce.set([Yt,qt],o)),d)o=Mt(d),x=A===U,S=G(),ke=parseFloat(Ae(A.a))+b,!g&&1<ue&&((E?Pe:M).style["overflow-"+A.a]="scroll"),ve(d,Se,o),xe=ye(d),a=Et(d,!0),r=T&&h(M,x?N:U)(),f&&((Ne=[f+A.os2,ce+b+Ct]).t=Se,(O=f===xt?ne(d,A)+ce+b:0)&&Ne.push(A.d,O+Ct),ge(Ne),P&&Rt.forEach((function(e){e.pin===P&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)})),T&&G($e)),T&&((i={top:a.top+(x?S-ae:r)+Ct,left:a.left+(x?r:S-ae)+Ct,boxSizing:"border-box",position:"fixed"})[gt]=i["max"+At]=Math.ceil(a.width)+Ct,i[yt]=i.maxHeight=Math.ceil(a.height)+Ct,i[St]=i.marginTop=i[St+bt]=i[St+wt]=i[St+_t]="0",i[xt]=o[xt],i.paddingTop=o.paddingTop,i[xt+bt]=o[xt+bt],i[xt+wt]=o[xt+wt],i[xt+_t]=o[xt+_t],pe=function(e,t,n){for(var i,r=[],o=e.length,a=n?8:0;a<o;a+=2)i=e[a],r.push(i,i in t?t[i]:e[a+1]);return r.t=e.t,r}(de,i,_),nt&&G(0)),n?(g=n._initted,We(1),n.render(n.duration(),!0,!0),Oe=Ae(A.a)-ke+ce+b,ce!==Oe&&T&&pe.splice(pe.length-2,2),n.render(0,!0,!0),g||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),We(0)):Oe=ce;else if(u&&G()&&!w)for(a=u.parentNode;a&&a!==Pe;)a._pinOffset&&(ae-=a._pinOffset,ue-=a._pinOffset),a=a.parentNode;v&&v.forEach((function(e){return e.revert(!1,!0)})),L.start=ae,L.end=ue,K=oe=nt?$e:G(),w||nt||(K<$e&&G($e),L.scroll.rec=0),L.revert(!1,!0),Ke&&(j=-1,L.isActive&&G(ae+ce*Je),Ke.restart(!0)),Fe=0,n&&C&&(n._initted||tt)&&n.progress()!==tt&&n.progress(tt,!0).render(n.time(),!0,!0),Je===L.progress&&!w||(n&&!C&&n.totalProgress(Je,!0),L.progress=(K-ae)/ce===Je?0:Je),d&&f&&(Se._pinOffset=Math.round(L.progress*Oe)),s&&!nt&&s(L)}},L.getVelocity=function(){return(G()-oe)/(st()-Be)*1e3||0},L.endAnimation=function(){$(L.callbackAnimation),n&&(qe?qe.progress(1):n.paused()?C||$(n,L.direction<0,1):$(n,n.reversed()))},L.labelToScroll=function(e){return n&&n.labels&&(ae||L.refresh()||ae)+n.labels[e]/n.duration()*ce||0},L.getTrailing=function(e){var t=Rt.indexOf(L);t=0<L.direction?Rt.slice(0,t).reverse():Rt.slice(t+1);return(ft(e)?t.filter((function(t){return t.vars.preventOverlaps===e})):t).filter((function(e){return 0<L.direction?e.end<=ae:e.start>=ue}))},L.update=function(e,t,o){var s,u,c,h,p,v,g,E,k;w&&!o&&!e||(o=nt?$e:L.scroll(),s=(s=e?0:(o-ae)/ce)<0?0:1<s?1:s||0,v=L.progress,t&&(oe=K,K=w?G():o,b&&(Ye=Ge,Ge=n&&!C?n.totalProgress():s)),(s=m&&!s&&d&&!Fe&&!at&&ut&&ae<o+(o-oe)/(st()-Be)*m?1e-4:s)!==v&&L.enabled&&(E=(t=(g=L.isActive=!!s&&s<1)!=(!!v&&v<1))||!!s!=!!v,L.direction=v<s?1:-1,L.progress=s,E&&!Fe&&(u=s&&!v?0:1===s?1:1===v?2:3,C&&(c=!t&&"none"!==P[u+1]&&P[u+1]||P[u],h=n&&("complete"===c||"reset"===c||c in n))),S&&(t||h)&&(h||l||!n)&&(pt(S)?S(L):L.getTrailing(S).forEach((function(e){return e.endAnimation()}))),C||(!qe||Fe||at?n&&n.totalProgress(s,!!Fe):((w||rt&&rt!==L)&&qe.render(qe._dp._time-qe._start),qe.resetTo?qe.resetTo("totalProgress",s,n._tTime/n._tDur):(qe.vars.totalProgress=s,qe.invalidate().restart()))),d&&(e&&f&&(Se.style[f+A.os2]=Ie),T?E&&(v=!e&&v<s&&o<ue+1&&o+1>=dt(M,A),_&&(e||!g&&!v?_e(d,Se):(k=Et(d,!0),p=o-ae,_e(d,Pe,k.top+(A===U?p:0)+Ct,k.left+(A===U?0:p)+Ct))),ge(g||v?pe:xe),Oe!==ce&&s<1&&g||Me(ke+(1!==s||v?0:Oe))):Me(Y(ke+Oe*s))),!b||V.tween||Fe||at||Ke.restart(!0),r&&(t||y&&s&&(s<1||!et))&&Re(r.targets).forEach((function(e){return e.classList[g||y?"add":"remove"](r.className)})),!i||C||e||i(L),E&&!Fe?(C&&(h&&("complete"===c?n.pause().totalProgress(1):"reset"===c?n.restart(!0).pause():"restart"===c?n.restart(!0):n[c]()),i&&i(L)),!t&&et||(a&&t&&ee(L,a),D[u]&&ee(L,D[u]),y&&(1===s?L.kill(!1,1):D[u]=0),t||D[u=1===s?1:3]&&ee(L,D[u])),x&&!g&&Math.abs(L.getVelocity())>(J(x)?x:2500)&&($(L.callbackAnimation),qe?qe.progress(1):$(n,"reverse"===c?1:!s,1))):C&&i&&!Fe&&i(L)),He&&(k=w?o/w.duration()*(w._caScrollDist||0):o,je(k+(jt._isFlipped?1:0)),He(k)),ot&&ot(-o/w.duration()*(w._caScrollDist||0)))},L.enable=function(t,n){L.enabled||(L.enabled=!0,Tt(M,"resize",fe),Tt(E?Te:M,"scroll",he),B&&Tt(e,"refreshInit",B),!1!==t&&(L.progress=Je=0,K=oe=j=G()),!1!==n&&L.refresh())},L.getTween=function(e){return e&&V?V.tween:qe},L.setPositions=function(e,t){d&&(ke+=e-ae,Oe+=t-e-ce,f===xt&&L.adjustPinSpacing(t-e-ce)),L.start=ae=e,L.end=ue=t,ce=t-e,L.update()},L.adjustPinSpacing=function(e){var t;Ne&&(t=Ne.indexOf(A.d)+1,Ne[t]=parseFloat(Ne[t])+e+Ct,Ne[1]=parseFloat(Ne[1])+e+Ct,ge(Ne))},L.disable=function(t,n){if(L.enabled&&(!1!==t&&L.revert(!0,!0),L.enabled=L.isActive=!1,n||qe&&qe.pause(),$e=0,q&&(q.uncache=1),B&&Dt(e,"refreshInit",B),Ke&&(Ke.pause(),V.tween&&V.tween.kill()&&(V.tween=0)),!E)){for(var i=Rt.length;i--;)if(Rt[i].scroller===M&&Rt[i]!==L)return;Dt(M,"resize",fe),Dt(M,"scroll",he)}},L.kill=function(e,i){L.disable(e,i),qe&&!i&&qe.kill(),o&&delete Lt[o];var r=Rt.indexOf(L);0<=r&&Rt.splice(r,1),r===Ue&&0<Vt&&Ue--,r=0,Rt.forEach((function(e){return e.scroller===L.scroller&&(r=1)})),r||nt||(L.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),i||n.kill()),Yt&&[Yt,qt,jt,Gt].forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),rt===L&&(rt=0),d&&(q&&(q.uncache=1),r=0,Rt.forEach((function(e){return e.pin===d&&r++})),r||(q.spacer=0)),t.onKill&&t.onKill(L)},L.enable(!1,!1),lt&&lt(L),n&&n.add&&!ce?Ce.delayedCall(.01,(function(){return ae||ue||L.refresh()}))&&(ce=.01)&&(ae=ue=0):L.refresh(),d&&it!==Ht&&($t=it=Ht,requestAnimationFrame((function(){return $t===Ht&&me(!0)})))):this.update=this.refresh=this.kill=W},e.register=function(t){return Me||(Ce=t||X(),q()&&window.document&&e.enable(),Me=ct),Me},e.defaults=function(e){if(e)for(var t in e)kt[t]=e[t];return kt},e.disable=function(e,t){ct=0,Rt.forEach((function(n){return n[t?"kill":"disable"](e)})),Dt(Ee,"wheel",he),Dt(Te,"scroll",he),clearInterval(Ie),Dt(Te,"touchcancel",W),Dt(Pe,"touchstart",W),oe(Dt,Te,"pointerdown,touchstart,mousedown",G),oe(Dt,Te,"pointerup,touchend,mouseup",V),Oe.kill(),K(Dt);for(var n=0;n<k.length;n+=3)ae(Dt,k[n],k[n+1]),ae(Dt,k[n],k[n+2])},e.enable=function(){if(Ee=window,Te=document,De=Te.documentElement,Pe=Te.body,Ce&&(Re=Ce.utils.toArray,Le=Ce.utils.clamp,Ze=Ce.core.context||W,We=Ce.core.suppressOverwrites||W,$e=Ee.history.scrollRestoration||"auto",Ce.core.globals("ScrollTrigger",e),Pe)){ct=1,j.register(Ce),e.isTouch=j.isTouch,Je=j.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Tt(Ee,"wheel",he),ke=[Ee,Te,De,Pe],Ce.matchMedia&&(e.matchMedia=function(e){var t,n=Ce.matchMedia();for(t in e)n.add(t,e[t]);return n},Ce.addEventListener("matchMediaInit",(function(){return Ut()})),Ce.addEventListener("matchMediaRevert",(function(){return pe()})),Ce.addEventListener("matchMedia",(function(){me(0,1),zt("matchMedia")})),Ce.matchMedia("(orientation: portrait)",(function(){return de(),de}))),de(),Tt(Te,"scroll",he);var t,n=Pe.style,i=n.borderTopStyle,r=Ce.core.Animation.prototype;for(r.revert||Object.defineProperty(r,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",r=Et(Pe),U.m=Math.round(r.top+U.sc())||0,N.m=Math.round(r.left+N.sc())||0,i?n.borderTopStyle=i:n.removeProperty("border-top-style"),Ie=setInterval(ce,250),Ce.delayedCall(.5,(function(){return at=0})),Tt(Te,"touchcancel",W),Tt(Pe,"touchstart",W),oe(Tt,Te,"pointerdown,touchstart,mousedown",G),oe(Tt,Te,"pointerup,touchend,mouseup",V),Ne=Ce.utils.checkPrefix("transform"),qt.push(Ne),Me=st(),Oe=Ce.delayedCall(.2,me).pause(),Ge=[Te,"visibilitychange",function(){var e=Ee.innerWidth,t=Ee.innerHeight;Te.hidden?(je=e,He=t):je===e&&He===t||fe()},Te,"DOMContentLoaded",me,Ee,"load",me,Ee,"resize",fe],K(Tt),Rt.forEach((function(e){return e.enable(0,1)})),t=0;t<k.length;t+=3)ae(Dt,k[t],k[t+1]),ae(Dt,k[t],k[t+2])}},e.config=function(t){"limitCallbacks"in t&&(et=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(Ie)||(Ie=n)&&setInterval(ce,n),"ignoreMobileResize"in t&&(Xe=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(K(Dt),K(Tt,t.autoRefreshEvents||"none"),Ye=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){e=c(e);var n=k.indexOf(e),i=ht(e);~n&&k.splice(n,i?6:2),t&&(i?O.unshift(Ee,t,Pe,t,De,t):O.unshift(e,t))},e.clearMatchMedia=function(e){Rt.forEach((function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)}))},e.isInViewport=function(e,t,n){return t=(e=(ft(e)?c(e):e).getBoundingClientRect())[n?gt:yt]*t||0,n?0<e.right-t&&e.left+t<Ee.innerWidth:0<e.bottom-t&&e.top+t<Ee.innerHeight},e.positionInViewport=function(e,t,n){var i=(e=(e=ft(e)?c(e):e).getBoundingClientRect())[n?gt:yt];i=null==t?i/2:t in Ot?Ot[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(e.left+i)/Ee.innerWidth:(e.top+i)/Ee.innerHeight},e.killAll=function(e){Rt.forEach((function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()})),!0!==e&&(e=Bt.killAll||[],Bt={},e.forEach((function(e){return e()})))},e}(),Zt=(Jt.version="3.11.3",Jt.saveStyles=function(e){return e?Re(e).forEach((function(e){var t;e&&e.style&&(0<=(t=Nt.indexOf(e))&&Nt.splice(t,5),Nt.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Ce.core.getCache(e),Ze()))})):Nt},Jt.revert=function(e,t){return Ut(!e,t)},Jt.create=function(e,t){return new Jt(e,t)},Jt.refresh=function(e){return e?fe():(Me||Jt.register())&&me(!0)},Jt.update=Wt,Jt.clearScrollMemory=jt,Jt.maxScroll=function(e,t){return dt(e,t?N:U)},Jt.getScrollFunc=function(e,t){return h(c(e),t?N:U)},Jt.getById=function(e){return Lt[e]},Jt.getAll=function(){return Rt.filter((function(e){return"ScrollSmoother"!==e.vars.id}))},Jt.isScrolling=function(){return!!ut},Jt.snapDirectional=re,Jt.addEventListener=function(e,t){~(e=Bt[e]||(Bt[e]=[])).indexOf(t)||e.push(t)},Jt.removeEventListener=function(e,t){0<=(t=(e=Bt[e])&&e.indexOf(t))&&e.splice(t,1)},Jt.batch=function(e,t){var n,i=[],r={},o=t.interval||.016,a=t.batchMax||1e9;for(n in t)r[n]="on"===n.substr(0,2)&&pt(t[n])&&"onRefreshInit"!==n?function(e){var t=[],n=[],i=Ce.delayedCall(o,(function(){e(t,n),t=[],n=[]})).pause();return function(e){t.length||i.restart(!0),t.push(e.trigger),n.push(e),a<=t.length&&i.progress(1)}}(t[n]):t[n];return pt(a)&&(a=a(),Tt(Jt,"refresh",(function(){return a=t.batchMax()}))),Re(e).forEach((function(e){var t={};for(n in r)t[n]=r[n];t.trigger=e,i.push(Jt.create(t))})),i},{auto:1,scroll:1}),$t=function(e){var t=e.event,n=e.target,i=(e=e.axis,(t.changedTouches?t.changedTouches[0]:t).target),r=i._gsap||Ce.core.getCache(i),o=st();if(!r._isScrollT||2e3<o-r._isScrollT){for(;i&&i.scrollHeight<=i.clientHeight;)i=i.parentNode;r._isScroll=i&&!ht(i)&&i!==n&&(Zt[(n=Mt(i)).overflowY]||Zt[n.overflowX]),r._isScrollT=o}!r._isScroll&&"x"!==e||(t.stopPropagation(),t._gsapAllow=!0)},en=/(input|label|select|textarea)/i,tn=function(e){var t=en.test(e.target.tagName);(t||ot)&&(e._gsapAllow=!0,ot=t)};Jt.sort=function(e){return Rt.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},Jt.observe=function(e){return new j(e)},Jt.normalizeScroll=function(e){return void 0===e?qe:!0===e&&qe?qe.enable():!1===e?qe&&qe.kill():(e=e instanceof j?e:function(e){function t(){return l=!1}function n(){a=dt(y,U),D=Le(Je?1:0,a),m&&(T=Le(0,dt(y,N))),s=Ht}function i(){_._gsap.y=Y(parseFloat(_._gsap.y)+w.offset)+"px",_.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(_._gsap.y)+", 0, 1)",w.offset=w.cacheID=0}function r(){n(),u.isActive()&&u.vars.scrollY>a&&(w()>a?u.progress(1)&&w(a):u.resetTo("scrollY",a))}(e=Z(e)?e:{}).preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var o,a,s,l,u,d,f,p,m=(g=e).normalizeScrollX,v=g.momentum,g=g.allowNestedScroll,y=c(e.target)||De,b=(b=Ce.core.globals().ScrollSmoother)&&b.get(),_=Je&&(e.content&&c(e.content)||b&&!1!==e.content&&!b.smooth()&&b.content()),w=h(y,U),x=h(y,N),S=1,A=(j.isTouch&&Ee.visualViewport?Ee.visualViewport.scale*Ee.visualViewport.width:Ee.outerWidth)/Ee.innerWidth,C=0,M=pt(v)?function(){return v(o)}:function(){return v||2.8},E=Ae(y,e.type,!0,g),T=W,D=W;return _&&Ce.set(_,{y:"+=0"}),e.ignoreCheck=function(e){return Je&&"touchmove"===e.type&&function(){var e;if(l)return requestAnimationFrame(t),e=Y(o.deltaY/2),e=D(w.v-e),_&&e!==w.v+w.offset&&(w.offset=e-w.v,e=Y((parseFloat(_&&_._gsap.y)||0)-w.offset),_.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+e+", 0, 1)",_._gsap.y=e+"px",w.cacheID=k.cache,Wt()),!0;w.offset&&i(),l=!0}()||1.05<S&&"touchstart"!==e.type||o.isGesturing||e.touches&&1<e.touches.length},e.onPress=function(){var e=S;S=Y((Ee.visualViewport&&Ee.visualViewport.scale||1)/A),u.pause(),e!==S&&Se(y,1.01<S||!m&&"x"),d=x(),f=w(),n(),s=Ht},e.onRelease=e.onGestureStart=function(e,t){var n,o;w.offset&&i(),t?(k.cache++,t=M(),m&&(o=(n=x())+.05*t*-e.velocityX/.227,t*=xe(x,n,o,dt(y,N)),u.vars.scrollX=T(o)),o=(n=w())+.05*t*-e.velocityY/.227,t*=xe(w,n,o,dt(y,U)),u.vars.scrollY=D(o),u.invalidate().duration(t).play(.01),(Je&&u.vars.scrollY>=a||a-1<=n)&&Ce.to({},{onUpdate:r,duration:t})):p.restart(!0)},e.onWheel=function(){u._ts&&u.pause(),1e3<st()-C&&(s=0,C=st())},e.onChange=function(e,t,r,o,a){Ht!==s&&n(),t&&m&&x(T(o[2]===t?d+(e.startX-e.x):x()+t-o[1])),r&&(w.offset&&i(),e=(o=a[2]===r)?f+e.startY-e.y:w()+r-a[1],a=D(e),o&&e!==a&&(f+=a-e),w(a)),(r||t)&&Wt()},e.onEnable=function(){Se(y,!m&&"x"),Jt.addEventListener("refresh",r),Tt(Ee,"resize",r),w.smooth&&(w.target.style.scrollBehavior="auto",w.smooth=x.smooth=!1),E.enable()},e.onDisable=function(){Se(y,!0),Dt(Ee,"resize",r),Jt.removeEventListener("refresh",r),E.kill()},e.lockAxis=!1!==e.lockAxis,((o=new j(e)).iOS=Je)&&!w()&&w(1),Je&&Ce.ticker.add(W),p=o._dc,u=Ce.to(o,{ease:"power4",paused:!0,scrollX:m?"+=0.1":"+=0",scrollY:"+=0.1",onComplete:p.vars.onComplete}),o}(e),qe&&qe.target===e.target&&qe.kill(),ht(e.target)&&(qe=e),e)},Jt.core={_getVelocityProp:d,_inputObserver:Ae,_scrollers:k,_proxies:O,bridge:{ss:function(){ut||zt("scrollStart"),ut=st()},ref:function(){return Fe}}},X()&&Ce.registerPlugin(Jt)},,function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n.d(t,"a",(function(){return It})),t=n(44);var u=function(e){var t=u;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);n=t?(n=s(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return a(r)}}(u);function u(){var e;if(this instanceof u)return l(a(e=n.call(this)),"_limiteDevice",768),l(a(e),"_device","desktop"),e._init(),e._bind(),e;throw new TypeError("Cannot call a class as a function")}return t=u,(e=[{key:"_init",value:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.pixelRatio=1,this._toggleDevice()}},{key:"_bind",value:function(){var e=this;["_resize"].forEach((function(t){return e[t]=e[t].bind(e)})),window.addEventListener("resize",this._resize)}},{key:"_resize",value:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.pixelRatio=1,this._toggleDevice(),this.emit("__class_sizes_resize")}},{key:"_toggleDevice",value:function(){this.width>this._limiteDevice?"mobile"==this._device&&(this._device="desktop",this.emit("__class_sizes_toggle_device",{device:this._device})):"desktop"==this._device&&(this._device="mobile",this.emit("__class_sizes_toggle_device",{device:this._device}))}},{key:"destroy",value:function(){window.removeEventListener("resize",this._resize,!1)}}])&&r(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),u}((t=n.n(t)).a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);n=t?(n=f(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===c(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(i);function i(){var e;if(this instanceof i)return(e=n.call(this))._init(),e._bind(),e;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"_init",value:function(){this.start=Date.now(),this.current=this.start,this.elapsed=0,this.delta=16}},{key:"_bind",value:function(){this._raf=window.requestAnimationFrame(this._tick.bind(this))}},{key:"_tick",value:function(){var e=Date.now();this.delta=e-this.current,this.current=e,this.elapsed=this.current-this.start,this.emit("__class_time_tick"),this._raf=window.requestAnimationFrame(this._tick.bind(this))}},{key:"destroy",value:function(){cancelAnimationFrame(this._raf)}}])&&h(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),i}(t.a);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=e.__state.conversionName.toString(),i=Math.round(e.r),r=Math.round(e.g),o=Math.round(e.b),a=e.a,s=Math.round(e.h),l=e.s.toFixed(1),u=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var c=e.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===n?"rgb("+i+","+r+","+o+")":"CSS_RGBA"===n?"rgba("+i+","+r+","+o+","+a+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+i+","+r+","+o+"]":"RGBA_ARRAY"===n?"["+i+","+r+","+o+","+a+"]":"RGB_OBJ"===n?"{r:"+i+",g:"+r+",b:"+o+"}":"RGBA_OBJ"===n?"{r:"+i+",g:"+r+",b:"+o+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+l+",v:"+u+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+l+",v:"+u+",a:"+a+"}":"unknown format"}var g,y=Array.prototype.forEach,b=Array.prototype.slice,_={BREAK:{},extend:function(e){return this.each(b.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))}),this),e},defaults:function(e){return this.each(b.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))}),this),e},compose:function(){var e=b.call(arguments);return function(){for(var t=b.call(arguments),n=e.length-1;0<=n;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,n){if(e)if(y&&e.forEach&&e.forEach===y)e.forEach(t,n);else if(e.length===e.length+0){for(var i=void 0,r=(i=0,e.length);i<r;i++)if(i in e&&t.call(n,e[i],i)===this.BREAK)return}else for(var o in e)if(t.call(n,e[o],o)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i=void 0;return function(){var r=this,o=arguments,a=n||!i;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(r,o)}),t),a&&e.apply(r,o)}},toArray:function(e){return e.toArray?e.toArray():b.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:(g=function(e){return isNaN(e)},w.toString=function(){return g.toString()},w),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return e instanceof Function}};function w(e){return g.apply(this,arguments)}function x(){E=!1;var e=1<arguments.length?_.toArray(arguments):arguments[0];return _.each(C,(function(t){if(t.litmus(e))return _.each(t.conversions,(function(t,n){if(M=t.read(e),!1===E&&!1!==M)return(E=M).conversionName=n,M.conversion=t,_.BREAK})),_.BREAK})),E}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var A,C=[{litmus:_.isString,conversions:{THREE_CHAR_HEX:{read:function(e){return null!==(e=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i))&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:v},SIX_CHAR_HEX:{read:function(e){return null!==(e=e.match(/^#([A-F0-9]{6})$/i))&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:v},CSS_RGB:{read:function(e){return null!==(e=e.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/))&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:v},CSS_RGBA:{read:function(e){return null!==(e=e.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/))&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:v}}},{litmus:_.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:_.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:_.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(_.isNumber(e.r)&&_.isNumber(e.g)&&_.isNumber(e.b)&&_.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(_.isNumber(e.r)&&_.isNumber(e.g)&&_.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(_.isNumber(e.h)&&_.isNumber(e.s)&&_.isNumber(e.v)&&_.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(_.isNumber(e.h)&&_.isNumber(e.s)&&_.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],M=void 0,E=void 0,T={hsv_to_rgb:function(e,t,n){var i=Math.floor(e/60)%6,r=n*(1-t),o=n*(1-(e=e/60-Math.floor(e/60))*t);return{r:255*(t=[[n,e=n*(1-(1-e)*t),r],[o,n,r],[r,n,e],[r,o,n],[e,r,n],[n,r,o]][i])[0],g:255*t[1],b:255*t[2]}},rgb_to_hsv:function(e,t,n){var i=Math.min(e,t,n),r=Math.max(e,t,n),o=(i=r-i,void 0);return 0===r?{h:NaN,s:0,v:0}:(o=e===r?(t-n)/i:t===r?2+(n-e)/i:4+(e-t)/i,(o/=6)<0&&(o+=1),{h:360*o,s:i/r,v:r/255})},rgb_to_hex:function(e,t,n){return e=this.hex_with_component(0,2,e),e=this.hex_with_component(e,1,t),this.hex_with_component(e,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(A=8*t)|e&~(255<<A)}},D="function"==typeof Symbol&&"symbol"===m(Symbol.iterator)?function(e){return m(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":m(e)};function P(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function k(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);return void 0!==i?"value"in i?i.value:void 0!==(i=i.get)?i.call(n):void 0:null!==(i=Object.getPrototypeOf(e))?k(i,t,n):void 0}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+m(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function R(e,t){if(e)return!t||"object"!==m(t)&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t=function(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e})(B,[{key:"toString",value:function(){return v(this)}},{key:"toHexString",value:function(){return v(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]);var L=B;function B(){if(S(this,B),this.__state=x.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}function I(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"!==this.__state.space&&L.recalculateRGB(this,t,n),this.__state[t]},set:function(e){"RGB"!==this.__state.space&&(L.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function F(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"!==this.__state.space&&L.recalculateHSV(this),this.__state[t]},set:function(e){"HSV"!==this.__state.space&&(L.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}L.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=T.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");_.extend(e.__state,T.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},L.recalculateHSV=function(e){var t=T.rgb_to_hsv(e.r,e.g,e.b);_.extend(e.__state,{s:t.s,v:t.v}),_.isNaN(t.h)?_.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},L.COMPONENTS=["r","g","b","h","s","v","hex","a"],I(L.prototype,"r",2),I(L.prototype,"g",1),I(L.prototype,"b",0),F(L.prototype,"h"),F(L.prototype,"s"),F(L.prototype,"v"),Object.defineProperty(L.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(L.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=T.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),t(N,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]);var z=N;function N(e,t){S(this,N),this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onChange=void 0,this.__onFinishChange=void 0}var U={},j=(_.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(e,t){_.each(e,(function(e){U[e]=t}))})),/(\d+(\.\d+)?)px/);function H(e){return"0"===e||_.isUndefined(e)||(e=e.match(j),_.isNull(e))?0:parseFloat(e[1])}var G={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){_.isUndefined(t)&&(t=!0),_.isUndefined(n)&&(n=!0),e.style.position="absolute",t&&(e.style.left=0,e.style.right=0),n&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,i){var r=n||{};if(!(n=U[t]))throw new Error("Event type "+t+" not supported.");var o=document.createEvent(n);switch(n){case"MouseEvents":var a=r.x||r.clientX||0,s=r.y||r.clientY||0;o.initMouseEvent(t,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,a,s,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":a=o.initKeyboardEvent||o.initKeyEvent,_.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),a(t,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:o.initEvent(t,r.bubbles||!1,r.cancelable||!0)}_.defaults(o,i),e.dispatchEvent(o)},bind:function(e,t,n,i){return e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n),G},unbind:function(e,t,n,i){return e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n),G},addClass:function(e,t){var n;return void 0===e.className?e.className=t:e.className!==t&&-1===(n=e.className.split(/ +/)).indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,"")),G},removeClass:function(e,t){var n;return t?e.className===t?e.removeAttribute("class"):-1!==(t=(n=e.className.split(/ +/)).indexOf(t))&&(n.splice(t,1),e.className=n.join(" ")):e.className=void 0,G},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){return H((e=getComputedStyle(e))["border-left-width"])+H(e["border-right-width"])+H(e["padding-left"])+H(e["padding-right"])+H(e.width)},getHeight:function(e){return H((e=getComputedStyle(e))["border-top-width"])+H(e["border-bottom-width"])+H(e["padding-top"])+H(e["padding-bottom"])+H(e.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)for(;n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent;);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},V=(O(W,z),t(W,[{key:"setValue",value:function(e){return e=k(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"setValue",this).call(this,e),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),k(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"updateDisplay",this).call(this)}}]),W);function W(e,t){S(this,W);var n=e=R(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,e,t));return e.__prev=e.getValue(),e.__checkbox=document.createElement("input"),e.__checkbox.setAttribute("type","checkbox"),G.bind(e.__checkbox,"change",(function(){n.setValue(!n.__prev)}),!1),e.domElement.appendChild(e.__checkbox),e.updateDisplay(),e}O(q,z),t(q,[{key:"setValue",value:function(e){return e=k(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"setValue",this).call(this,e),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e}},{key:"updateDisplay",value:function(){return G.isActive(this.__select)?this:(this.__select.value=this.getValue(),k(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"updateDisplay",this).call(this))}}]);var Y=q;function q(e,t,n){S(this,q);e=R(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,e,t)),t=n;var i,r=e;return e.__select=document.createElement("select"),_.isArray(t)&&(i={},_.each(t,(function(e){i[e]=e})),t=i),_.each(t,(function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),r.__select.appendChild(n)})),e.updateDisplay(),G.bind(e.__select,"change",(function(){var e=this.options[this.selectedIndex].value;r.setValue(e)})),e.domElement.appendChild(e.__select),e}O(Q,z),t(Q,[{key:"updateDisplay",value:function(){return G.isActive(this.__input)||(this.__input.value=this.getValue()),k(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"updateDisplay",this).call(this)}}]);var X=Q;function Q(e,t){S(this,Q);var n=e=R(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,e,t));function i(){n.setValue(n.__input.value)}return e.__input=document.createElement("input"),e.__input.setAttribute("type","text"),G.bind(e.__input,"keyup",i),G.bind(e.__input,"change",i),G.bind(e.__input,"blur",(function(){n.__onFinishChange&&n.__onFinishChange.call(n,n.getValue())})),G.bind(e.__input,"keydown",(function(e){13===e.keyCode&&this.blur()})),e.updateDisplay(),e.domElement.appendChild(e.__input),e}function K(e){return-1<(e=e.toString()).indexOf(".")?e.length-e.indexOf(".")-1:0}O(Z,z),t(Z,[{key:"setValue",value:function(e){return void 0!==this.__min&&e<this.__min?e=this.__min:void 0!==this.__max&&e>this.__max&&(e=this.__max),void 0!==this.__step&&e%this.__step!=0&&(e=Math.round(e/this.__step)*this.__step),k(Z.prototype.__proto__||Object.getPrototypeOf(Z.prototype),"setValue",this).call(this,e)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=K(e),this}}]);var J=Z;function Z(e,t,n){return S(this,Z),e=R(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,e,t)),t=n||{},e.__min=t.min,e.__max=t.max,e.__step=t.step,_.isUndefined(e.__step)?0===e.initialValue?e.__impliedStep=1:e.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(e.initialValue))/Math.LN10))/10:e.__impliedStep=e.__step,e.__precision=K(e.__impliedStep),e}O(ee,J),t(ee,[{key:"updateDisplay",value:function(){var e,t;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),t=this.__precision,t=Math.pow(10,t),Math.round(e*t)/t),k(ee.prototype.__proto__||Object.getPrototypeOf(ee.prototype),"updateDisplay",this).call(this)}}]);var $=ee;function ee(e,t,n){S(this,ee);var i=((e=R(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,e,t,n))).__truncationSuspended=!1,e),r=void 0;function o(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}function a(e){var t=r-e.clientY;i.setValue(i.getValue()+t*i.__impliedStep),r=e.clientY}function s(){G.unbind(window,"mousemove",a),G.unbind(window,"mouseup",s),o()}return e.__input=document.createElement("input"),e.__input.setAttribute("type","text"),G.bind(e.__input,"change",(function(){var e=parseFloat(i.__input.value);_.isNaN(e)||i.setValue(e)})),G.bind(e.__input,"blur",(function(){o()})),G.bind(e.__input,"mousedown",(function(e){G.bind(window,"mousemove",a),G.bind(window,"mouseup",s),r=e.clientY})),G.bind(e.__input,"keydown",(function(e){13===e.keyCode&&(i.__truncationSuspended=!0,this.blur(),i.__truncationSuspended=!1,o())})),e.updateDisplay(),e.domElement.appendChild(e.__input),e}function te(e,t,n,i,r){return i+(e-t)/(n-t)*(r-i)}O(ie,J),t(ie,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",k(ie.prototype.__proto__||Object.getPrototypeOf(ie.prototype),"updateDisplay",this).call(this)}}]);var ne=ie;function ie(e,t,n,i,r){S(this,ie);var o=e=R(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,e,t,{min:n,max:i,step:r}));function a(e){e.preventDefault();var t=o.__background.getBoundingClientRect();return o.setValue(te(e.clientX,t.left,t.right,o.__min,o.__max)),!1}function s(){G.unbind(window,"mousemove",a),G.unbind(window,"mouseup",s),o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function l(e){e=e.touches[0].clientX;var t=o.__background.getBoundingClientRect();o.setValue(te(e,t.left,t.right,o.__min,o.__max))}function u(){G.unbind(window,"touchmove",l),G.unbind(window,"touchend",u),o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}return e.__background=document.createElement("div"),e.__foreground=document.createElement("div"),G.bind(e.__background,"mousedown",(function(e){document.activeElement.blur(),G.bind(window,"mousemove",a),G.bind(window,"mouseup",s),a(e)})),G.bind(e.__background,"touchstart",(function(e){1===e.touches.length&&(G.bind(window,"touchmove",l),G.bind(window,"touchend",u),l(e))})),G.addClass(e.__background,"slider"),G.addClass(e.__foreground,"slider-fg"),e.updateDisplay(),e.__background.appendChild(e.__foreground),e.domElement.appendChild(e.__background),e}O(oe,z),t(oe,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]);var re=oe;function oe(e,t,n){S(this,oe);var i=e=R(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,e,t));return e.__button=document.createElement("div"),e.__button.innerHTML=void 0===n?"Fire":n,G.bind(e.__button,"click",(function(e){return e.preventDefault(),i.fire(),!1})),G.addClass(e.__button,"button"),e.domElement.appendChild(e.__button),e}O(se,z),t(se,[{key:"updateDisplay",value:function(){var e,t=x(this.getValue()),n=(!1!==t&&(e=!1,_.each(L.COMPONENTS,(function(n){if(!_.isUndefined(t[n])&&!_.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}}),this),e&&_.extend(this.__color.__state,t)),_.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1,this.__color.v<.5||.5<this.__color.s?255:0),i=255-n;_.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,ue(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),_.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+i+","+i+","+i+",.7)"})}}]);var ae=se;function se(e,t){S(this,se);var n,i=((e=R(this,(se.__proto__||Object.getPrototypeOf(se)).call(this,e,t))).__color=new L(e.getValue()),e.__temp=new L(0),e);e.domElement=document.createElement("div"),G.makeSelectable(e.domElement,!1),e.__selector=document.createElement("div"),e.__selector.className="selector",e.__saturation_field=document.createElement("div"),e.__saturation_field.className="saturation-field",e.__field_knob=document.createElement("div"),e.__field_knob.className="field-knob",e.__field_knob_border="2px solid ",e.__hue_knob=document.createElement("div"),e.__hue_knob.className="hue-knob",e.__hue_field=document.createElement("div"),e.__hue_field.className="hue-field",e.__input=document.createElement("input"),e.__input.type="text",e.__input_textShadow="0 1px 1px ",G.bind(e.__input,"keydown",(function(e){13===e.keyCode&&l.call(this)})),G.bind(e.__input,"blur",l),G.bind(e.__selector,"mousedown",(function(){G.addClass(this,"drag").bind(window,"mouseup",(function(){G.removeClass(i.__selector,"drag")}))})),G.bind(e.__selector,"touchstart",(function(){G.addClass(this,"drag").bind(window,"touchend",(function(){G.removeClass(i.__selector,"drag")}))})),t=document.createElement("div");function r(e){c(e),G.bind(window,"mousemove",c),G.bind(window,"touchmove",c),G.bind(window,"mouseup",a),G.bind(window,"touchend",a)}function o(e){h(e),G.bind(window,"mousemove",h),G.bind(window,"touchmove",h),G.bind(window,"mouseup",s),G.bind(window,"touchend",s)}function a(){G.unbind(window,"mousemove",c),G.unbind(window,"touchmove",c),G.unbind(window,"mouseup",a),G.unbind(window,"touchend",a),u()}function s(){G.unbind(window,"mousemove",h),G.unbind(window,"touchmove",h),G.unbind(window,"mouseup",s),G.unbind(window,"touchend",s),u()}function l(){var e=x(this.value);!1!==e?(i.__color.__state=e,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function u(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function c(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=i.__saturation_field.getBoundingClientRect(),n=(e=e.touches&&e.touches[0]||e).clientX;e=e.clientY,n=(n-t.left)/(t.right-t.left);return 1<(e=1-(e-t.top)/(t.bottom-t.top))?e=1:e<0&&(e=0),1<n?n=1:n<0&&(n=0),i.__color.v=e,i.__color.s=n,i.setValue(i.__color.toOriginal()),!1}function h(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=i.__hue_field.getBoundingClientRect();return 1<(e=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top))?e=1:e<0&&(e=0),i.__color.h=360*e,i.setValue(i.__color.toOriginal()),!1}return _.extend(e.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),_.extend(e.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:e.__field_knob_border+(e.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),_.extend(e.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),_.extend(e.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),_.extend(t.style,{width:"100%",height:"100%",background:"none"}),ue(t,"top","rgba(0,0,0,0)","#000"),_.extend(e.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(n=e.__hue_field).style.background="",n.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",n.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",n.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",n.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",n.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",_.extend(e.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:e.__input_textShadow+"rgba(0,0,0,0.7)"}),G.bind(e.__saturation_field,"mousedown",r),G.bind(e.__saturation_field,"touchstart",r),G.bind(e.__field_knob,"mousedown",r),G.bind(e.__field_knob,"touchstart",r),G.bind(e.__hue_field,"mousedown",o),G.bind(e.__hue_field,"touchstart",o),e.__saturation_field.appendChild(t),e.__selector.appendChild(e.__field_knob),e.__selector.appendChild(e.__saturation_field),e.__selector.appendChild(e.__hue_field),e.__hue_field.appendChild(e.__hue_knob),e.domElement.appendChild(e.__input),e.domElement.appendChild(e.__selector),e.updateDisplay(),e}var le=["-moz-","-o-","-webkit-","-ms-",""];function ue(e,t,n,i){e.style.background="",_.each(le,(function(r){e.style.cssText+="background: "+r+"linear-gradient("+t+", "+n+" 0%, "+i+" 100%); "}))}function ce(e,t){var n=e[t];return _.isArray(arguments[2])||_.isObject(arguments[2])?new Y(e,t,arguments[2]):_.isNumber(n)?_.isNumber(arguments[2])&&_.isNumber(arguments[3])?_.isNumber(arguments[4])?new ne(e,t,arguments[2],arguments[3],arguments[4]):new ne(e,t,arguments[2],arguments[3]):_.isNumber(arguments[4])?new $(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new $(e,t,{min:arguments[2],max:arguments[3]}):_.isString(n)?new X(e,t):_.isFunction(n)?new re(e,t,""):_.isBoolean(n)?new V(e,t):null}J=function(e,t){t=t||document;var n=document.createElement("style");n.type="text/css",n.innerHTML=e,e=t.getElementsByTagName("head")[0];try{e.appendChild(n)}catch(e){}};var he=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},de=(t(fe,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),_.defer((function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var e,t=this;G.bind(this.domElement,"webkitTransitionEnd",e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",G.unbind(t.domElement,"webkitTransitionEnd",e),G.unbind(t.domElement,"transitionend",e),G.unbind(t.domElement,"oTransitionEnd",e)}),G.bind(this.domElement,"transitionend",e),G.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-G.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-G.getHeight(this.domElement)/2+"px"}}]),fe);function fe(){S(this,fe),this.backgroundElement=document.createElement("div"),_.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),G.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),_.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;G.bind(this.backgroundElement,"click",(function(){e.hide()}))}J(function(e){var t;if("undefined"!=typeof window)return(t=document.createElement("style")).setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var pe="Default",me=function(){try{return!!window.localStorage}catch(e){return!1}}(),ve=void 0,ge=!0,ye=void 0,be=!1,_e=[],we=function e(t){var n,i,r,o=this,a=t||{},s=(this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),G.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],a=_.defaults(a,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),a=_.defaults(a,{resizable:a.autoPlace,hideable:a.autoPlace}),_.isUndefined(a.load)?a.load={preset:pe}:a.preset&&(a.load.preset=a.preset),_.isUndefined(a.parent)&&a.hideable&&_e.push(this),a.resizable=_.isUndefined(a.parent)&&a.resizable,a.autoPlace&&_.isUndefined(a.scrollable)&&(a.scrollable=!0),me&&"true"===localStorage.getItem(Ee(0,"isLocal"))),l=void 0,u=void 0;function c(e){return e.preventDefault(),n.width+=i-e.clientX,n.onResize(),i=e.clientX,!1}function h(){G.removeClass(n.__closeButton,we.CLASS_DRAG),G.unbind(window,"mousemove",c),G.unbind(window,"mouseup",h)}function d(e){return e.preventDefault(),i=e.clientX,G.addClass(n.__closeButton,we.CLASS_DRAG),G.bind(window,"mousemove",c),G.bind(window,"mouseup",h),!1}Object.defineProperties(this,{parent:{get:function(){return a.parent}},scrollable:{get:function(){return a.scrollable}},autoPlace:{get:function(){return a.autoPlace}},closeOnTop:{get:function(){return a.closeOnTop}},preset:{get:function(){return(o.parent?o.getRoot():a.load).preset},set:function(e){o.parent?o.getRoot().preset=e:a.load.preset=e;for(var t=this,n=0;n<t.__preset_select.length;n++)t.__preset_select[n].value===t.preset&&(t.__preset_select.selectedIndex=n);o.revert()}},width:{get:function(){return a.width},set:function(e){a.width=e,Pe(o,e)}},name:{get:function(){return a.name},set:function(e){a.name=e,u&&(u.innerHTML=a.name)}},closed:{get:function(){return a.closed},set:function(t){a.closed=t,a.closed?G.addClass(o.__ul,e.CLASS_CLOSED):G.removeClass(o.__ul,e.CLASS_CLOSED),this.onResize(),o.__closeButton&&(o.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return a.load}},useLocalStorage:{get:function(){return s},set:function(e){me&&((s=e)?G.bind(window,"unload",l):G.unbind(window,"unload",l),localStorage.setItem(Ee(0,"isLocal"),e))}}}),_.isUndefined(a.parent)?(this.closed=a.closed||!1,G.addClass(this.domElement,e.CLASS_MAIN),G.makeSelectable(this.domElement,!1),me&&s&&(o.useLocalStorage=!0,(t=localStorage.getItem(Ee(0,"gui")))&&(a.load=JSON.parse(t))),this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,G.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),a.closeOnTop?(G.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(G.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),G.bind(this.__closeButton,"click",(function(){o.closed=!o.closed}))):(void 0===a.closed&&(a.closed=!0),t=document.createTextNode(a.name),G.addClass(t,"controller-name"),u=xe(o,t),G.addClass(this.__ul,e.CLASS_CLOSED),G.addClass(u,"title"),G.bind(u,"click",(function(e){return e.preventDefault(),o.closed=!o.closed,!1})),a.closed||(this.closed=!1)),a.autoPlace&&(_.isUndefined(a.parent)&&(ge&&(ye=document.createElement("div"),G.addClass(ye,"dg"),G.addClass(ye,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ye),ge=!1),ye.appendChild(this.domElement),G.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||Pe(o,a.width)),this.__resizeHandler=function(){o.onResizeDebounced()},G.bind(window,"resize",this.__resizeHandler),G.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),G.bind(this.__ul,"transitionend",this.__resizeHandler),G.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),a.resizable&&(i=void 0,(n=this).__resize_handle=document.createElement("div"),_.extend(n.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),G.bind(n.__resize_handle,"mousedown",d),G.bind(n.__closeButton,"mousedown",d),n.domElement.insertBefore(n.__resize_handle,n.domElement.firstElementChild)),l=function(){me&&"true"===localStorage.getItem(Ee(0,"isLocal"))&&localStorage.setItem(Ee(0,"gui"),JSON.stringify(o.getSaveObject()))},this.saveToLocalStorageIfPossible=l,a.parent||((r=o.getRoot()).width+=1,_.defer((function(){--r.width})))};function xe(e,t,n){var i=document.createElement("li");return t&&i.appendChild(t),n?e.__ul.insertBefore(i,n):e.__ul.appendChild(i),e.onResize(),i}function Se(e){G.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&G.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function Ae(e,t){(e=e.__preset_select[e.__preset_select.selectedIndex]).innerHTML=t?e.value+"*":e.value}function Ce(e,t){var n=e.getRoot(),i=n.__rememberedObjects.indexOf(t.object);if(-1!==i){var r=n.__rememberedObjectIndecesToControllers[i];if(void 0===r&&(n.__rememberedObjectIndecesToControllers[i]=r={}),r[t.property]=t,n.load&&n.load.remembered){if(r=n.load.remembered,n=void 0,r[e.preset])n=r[e.preset];else{if(!r[pe])return;n=r[pe]}n[i]&&void 0!==n[i][t.property]&&(e=n[i][t.property],t.initialValue=e,t.setValue(e))}}}function Me(e,t,n,i){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var r,o,a,s,l=void 0;l=i.color?new ae(t,n):(t=[t,n].concat(i.factoryArgs),ce.apply(e,t)),i.before instanceof z&&(i.before=i.before.__li),Ce(e,l),G.addClass(l.domElement,"c"),n=document.createElement("span"),(t=(G.addClass(n,"property-name"),n.innerHTML=l.property,document.createElement("div"))).appendChild(n),t.appendChild(l.domElement),n=xe(e,t,i.before);return G.addClass(n,we.CLASS_CONTROLLER_ROW),l instanceof ae?G.addClass(n,"color"):G.addClass(n,D(l.getValue())),r=e,o=n,(a=l).__li=o,a.__gui=r,_.extend(a,{options:function(e){var t;return 1<arguments.length?(t=a.__li.nextElementSibling,a.remove(),Me(r,a.object,a.property,{before:t,factoryArgs:[_.toArray(arguments)]})):_.isArray(e)||_.isObject(e)?(t=a.__li.nextElementSibling,a.remove(),Me(r,a.object,a.property,{before:t,factoryArgs:[e]})):void 0},name:function(e){return a.__li.firstElementChild.firstElementChild.innerHTML=e,a},listen:function(){return a.__gui.listen(a),a},remove:function(){return a.__gui.remove(a),a}}),a instanceof ne?(s=new $(a.object,a.property,{min:a.__min,max:a.__max,step:a.__step}),_.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(e){var t=a[e],n=s[e];a[e]=s[e]=function(){var e=Array.prototype.slice.call(arguments);return n.apply(s,e),t.apply(a,e)}})),G.addClass(o,"has-slider"),a.domElement.insertBefore(s.domElement,a.domElement.firstElementChild)):a instanceof $?(a.min=_.compose(t=function(e){var t,n,i;return _.isNumber(a.__min)&&_.isNumber(a.__max)?(t=a.__li.firstElementChild.firstElementChild.innerHTML,n=-1<a.__gui.__listening.indexOf(a),a.remove(),(i=Me(r,a.object,a.property,{before:a.__li.nextElementSibling,factoryArgs:[a.__min,a.__max,a.__step]})).name(t),n&&i.listen(),i):e},a.min),a.max=_.compose(t,a.max)):a instanceof V?(G.bind(o,"click",(function(){G.fakeEvent(a.__checkbox,"click")})),G.bind(a.__checkbox,"click",(function(e){e.stopPropagation()}))):a instanceof re?(G.bind(o,"click",(function(){G.fakeEvent(a.__button,"click")})),G.bind(o,"mouseover",(function(){G.addClass(a.__button,"hover")})),G.bind(o,"mouseout",(function(){G.removeClass(a.__button,"hover")}))):a instanceof ae&&(G.addClass(o,"color"),a.updateDisplay=_.compose((function(e){return o.style.borderLeftColor=a.__color.toString(),e}),a.updateDisplay),a.updateDisplay()),a.setValue=_.compose((function(e){return r.getRoot().__preset_select&&a.isModified()&&Ae(r.getRoot(),!0),e}),a.setValue),e.__controllers.push(l),l}function Ee(e,t){return document.location.href+"."+t}function Te(e,t,n){var i=document.createElement("option");i.innerHTML=t,i.value=t,e.__preset_select.appendChild(i),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function De(e,t){t.style.display=e.useLocalStorage?"block":"none"}function Pe(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function ke(e,t){var n={};return _.each(e.__rememberedObjects,(function(i,r){var o={},a=e.__rememberedObjectIndecesToControllers[r];_.each(a,(function(e,n){o[n]=t?e.initialValue:e.getValue()})),n[r]=o})),n}we.toggleHide=function(){be=!be,_.each(_e,(function(e){e.domElement.style.display=be?"none":""}))},we.CLASS_AUTO_PLACE="a",we.CLASS_AUTO_PLACE_CONTAINER="ac",we.CLASS_MAIN="main",we.CLASS_CONTROLLER_ROW="cr",we.CLASS_TOO_TALL="taller-than-window",we.CLASS_CLOSED="closed",we.CLASS_CLOSE_BUTTON="close-button",we.CLASS_CLOSE_TOP="close-top",we.CLASS_CLOSE_BOTTOM="close-bottom",we.CLASS_DRAG="drag",we.DEFAULT_WIDTH=245,we.TEXT_CLOSED="Close Controls",we.TEXT_OPEN="Open Controls",we._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||we.toggleHide()},G.bind(window,"keydown",we._keydownHandler,!1),_.extend(we.prototype,{add:function(e,t){return Me(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return Me(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;_.defer((function(){t.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&ye.removeChild(this.domElement);var e=this;_.each(this.__folders,(function(t){e.removeFolder(t)})),G.unbind(window,"keydown",we._keydownHandler,!1),Se(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t=((t={name:e,parent:this}).autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]),new we(t));this.__folders[e]=t,e=xe(this,t.domElement);return G.addClass(e,"folder"),t},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],Se(e);var t=this;_.each(e.__folders,(function(t){e.removeFolder(t)})),_.defer((function(){t.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e,t,n=this.getRoot();n.scrollable&&(e=G.getOffset(n.__ul).top,t=0,_.each(n.__ul.childNodes,(function(e){n.autoPlace&&e===n.__save_row||(t+=G.getHeight(e))})),window.innerHeight-e-20<t?(G.addClass(n.domElement,we.CLASS_TOO_TALL),n.__ul.style.height=window.innerHeight-e-20+"px"):(G.removeClass(n.domElement,we.CLASS_TOO_TALL),n.__ul.style.height="auto")),n.__resize_handle&&_.defer((function(){n.__resize_handle.style.height=n.__ul.offsetHeight+"px"})),n.__closeButton&&(n.__closeButton.style.width=n.width+"px")},onResizeDebounced:_.debounce((function(){this.onResize()}),50),remember:function(){if(_.isUndefined(ve)&&((ve=new de).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;_.each(Array.prototype.slice.call(arguments),(function(t){var n,i,r,o,a,s,l,u,c;0===e.__rememberedObjects.length&&(i=(n=e).__save_row=document.createElement("li"),G.addClass(n.domElement,"has-save"),n.__ul.insertBefore(i,n.__ul.firstChild),G.addClass(i,"save-row"),(r=document.createElement("span")).innerHTML="&nbsp;",G.addClass(r,"button gears"),(o=document.createElement("span")).innerHTML="Save",G.addClass(o,"button"),G.addClass(o,"save"),(a=document.createElement("span")).innerHTML="New",G.addClass(a,"button"),G.addClass(a,"save-as"),(s=document.createElement("span")).innerHTML="Revert",G.addClass(s,"button"),G.addClass(s,"revert"),l=n.__preset_select=document.createElement("select"),n.load&&n.load.remembered?_.each(n.load.remembered,(function(e,t){Te(n,t,t===n.preset)})):Te(n,pe,!1),G.bind(l,"change",(function(){for(var e=0;e<n.__preset_select.length;e++)n.__preset_select[e].innerHTML=n.__preset_select[e].value;n.preset=this.value})),i.appendChild(l),i.appendChild(r),i.appendChild(o),i.appendChild(a),i.appendChild(s),me&&(u=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage"),document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(Ee(0,"isLocal"))&&l.setAttribute("checked","checked"),De(n,u),G.bind(l,"change",(function(){n.useLocalStorage=!n.useLocalStorage,De(n,u)}))),c=document.getElementById("dg-new-constructor"),G.bind(c,"keydown",(function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||ve.hide()})),G.bind(r,"click",(function(){c.innerHTML=JSON.stringify(n.getSaveObject(),void 0,2),ve.show(),c.focus(),c.select()})),G.bind(o,"click",(function(){n.save()})),G.bind(a,"click",(function(){var e=prompt("Enter a new preset name.");e&&n.saveAs(e)})),G.bind(s,"click",(function(){n.revert()}))),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)})),this.autoPlace&&Pe(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,0<this.__rememberedObjects.length&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=ke(this)),e.folders={},_.each(this.__folders,(function(t,n){e.folders[n]=t.getSaveObject()})),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ke(this),Ae(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[pe]=ke(this,!0)),this.load.remembered[e]=ke(this),this.preset=e,Te(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){_.each(this.__controllers,(function(t){this.getRoot().load.remembered?Ce(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())}),this),_.each(this.__folders,(function(e){e.revert(e)})),e||Ae(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&function e(t){0!==t.length&&he.call(window,(function(){e(t)})),_.each(t,(function(e){e.updateDisplay()}))}(this.__listening)},updateDisplay:function(){_.each(this.__controllers,(function(e){e.updateDisplay()})),_.each(this.__folders,(function(e){e.updateDisplay()}))}});var Oe=we;function Re(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Le=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.active="#debug"===window.location.hash,this.active&&(this.ui=new Oe({width:500}))}var t,n;return t=e,(n=[{key:"destroy",value:function(){this.active&&this.ui.destroy()}}])&&Re(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Be=n(0);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ze(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var je={type:"change"},He={type:"start"},Ge={type:"end"},Ve=function(){ze(t,Be.B);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ue(e);n=t?(n=Ue(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===Ie(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Ne(i)}}(t);function t(n,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),(r=e.call(this)).object=n,r.domElement=i,r.domElement.style.touchAction="none",r.enabled=!0,r.target=new Be.oc,r.minDistance=0,r.maxDistance=1/0,r.minZoom=0,r.maxZoom=1/0,r.minPolarAngle=0,r.maxPolarAngle=Math.PI,r.minAzimuthAngle=-1/0,r.maxAzimuthAngle=1/0,r.enableDamping=!1,r.dampingFactor=.05,r.enableZoom=!0,r.zoomSpeed=1,r.enableRotate=!0,r.rotateSpeed=1,r.enablePan=!0,r.panSpeed=1,r.screenSpacePanning=!0,r.keyPanSpeed=7,r.autoRotate=!1,r.autoRotateSpeed=2,r.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},r.mouseButtons={LEFT:Be.gb.ROTATE,MIDDLE:Be.gb.DOLLY,RIGHT:Be.gb.PAN},r.touches={ONE:Be.bc.ROTATE,TWO:Be.bc.DOLLY_PAN},r.target0=r.target.clone(),r.position0=r.object.position.clone(),r.zoom0=r.object.zoom,r._domElementKeyEvents=null,r.getPolarAngle=function(){return m.phi},r.getAzimuthalAngle=function(){return m.theta},r.getDistance=function(){return this.object.position.distanceTo(this.target)},r.listenToKeyEvents=function(e){e.addEventListener("keydown",te),this._domElementKeyEvents=e},r.saveState=function(){h.target0.copy(h.target),h.position0.copy(h.object.position),h.zoom0=h.object.zoom},r.reset=function(){h.target.copy(h.target0),h.object.position.copy(h.position0),h.object.zoom=h.zoom0,h.object.updateProjectionMatrix(),h.dispatchEvent(je),h.update(),f=d.NONE},r.update=(o=new Be.oc,a=(new Be.Hb).setFromUnitVectors(n.up,new Be.oc(0,1,0)),s=a.clone().invert(),l=new Be.oc,u=new Be.Hb,c=2*Math.PI,function(){var e=h.object.position,t=(o.copy(e).sub(h.target),o.applyQuaternion(a),m.setFromVector3(o),h.autoRotate&&f===d.NONE&&O(2*Math.PI/60/60*h.autoRotateSpeed),h.enableDamping?(m.theta+=v.theta*h.dampingFactor,m.phi+=v.phi*h.dampingFactor):(m.theta+=v.theta,m.phi+=v.phi),h.minAzimuthAngle),n=h.maxAzimuthAngle;return isFinite(t)&&isFinite(n)&&(t<-Math.PI?t+=c:t>Math.PI&&(t-=c),n<-Math.PI?n+=c:n>Math.PI&&(n-=c),m.theta=t<=n?Math.max(t,Math.min(n,m.theta)):m.theta>(t+n)/2?Math.max(t,m.theta):Math.min(n,m.theta)),m.phi=Math.max(h.minPolarAngle,Math.min(h.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=g,m.radius=Math.max(h.minDistance,Math.min(h.maxDistance,m.radius)),!0===h.enableDamping?h.target.addScaledVector(y,h.dampingFactor):h.target.add(y),o.setFromSpherical(m),o.applyQuaternion(s),e.copy(h.target).add(o),h.object.lookAt(h.target),!0===h.enableDamping?(v.theta*=1-h.dampingFactor,v.phi*=1-h.dampingFactor,y.multiplyScalar(1-h.dampingFactor)):(v.set(0,0,0),y.set(0,0,0)),g=1,!(!(b||l.distanceToSquared(h.object.position)>p||8*(1-u.dot(h.object.quaternion))>p)||(h.dispatchEvent(je),l.copy(h.object.position),u.copy(h.object.quaternion),b=!1))}),r.dispose=function(){h.domElement.removeEventListener("contextmenu",ne),h.domElement.removeEventListener("pointerdown",K),h.domElement.removeEventListener("pointercancel",$),h.domElement.removeEventListener("wheel",ee),h.domElement.removeEventListener("pointermove",J),h.domElement.removeEventListener("pointerup",Z),null!==h._domElementKeyEvents&&h._domElementKeyEvents.removeEventListener("keydown",te)};var r,o,a,s,l,u,c,h=Ne(r),d={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},f=d.NONE,p=1e-6,m=new Be.Zb,v=new Be.Zb,g=1,y=new Be.oc,b=!1,_=new Be.nc,w=new Be.nc,x=new Be.nc,S=new Be.nc,A=new Be.nc,C=new Be.nc,M=new Be.nc,E=new Be.nc,T=new Be.nc,D=[],P={};function k(){return Math.pow(.95,h.zoomSpeed)}function O(e){v.theta-=e}function R(e){v.phi-=e}L=new Be.oc;var L,B,I,F=function(e,t){L.setFromMatrixColumn(t,0),L.multiplyScalar(-e),y.add(L)},z=(B=new Be.oc,function(e,t){!0===h.screenSpacePanning?B.setFromMatrixColumn(t,1):(B.setFromMatrixColumn(t,0),B.crossVectors(h.object.up,B)),B.multiplyScalar(e),y.add(B)}),N=(I=new Be.oc,function(e,t){var n,i=h.domElement;h.object.isPerspectiveCamera?(n=h.object.position,I.copy(n).sub(h.target),n=I.length(),n*=Math.tan(h.object.fov/2*Math.PI/180),F(2*e*n/i.clientHeight,h.object.matrix),z(2*t*n/i.clientHeight,h.object.matrix)):h.object.isOrthographicCamera?(F(e*(h.object.right-h.object.left)/h.object.zoom/i.clientWidth,h.object.matrix),z(t*(h.object.top-h.object.bottom)/h.object.zoom/i.clientHeight,h.object.matrix)):h.enablePan=!1});function U(e){h.object.isPerspectiveCamera?g/=e:h.object.isOrthographicCamera?(h.object.zoom=Math.max(h.minZoom,Math.min(h.maxZoom,h.object.zoom*e)),h.object.updateProjectionMatrix(),b=!0):h.enableZoom=!1}function j(e){h.object.isPerspectiveCamera?g*=e:h.object.isOrthographicCamera?(h.object.zoom=Math.max(h.minZoom,Math.min(h.maxZoom,h.object.zoom/e)),h.object.updateProjectionMatrix(),b=!0):h.enableZoom=!1}function H(e){_.set(e.clientX,e.clientY)}function G(e){S.set(e.clientX,e.clientY)}function V(){var e,t;1===D.length?_.set(D[0].pageX,D[0].pageY):(e=.5*(D[0].pageX+D[1].pageX),t=.5*(D[0].pageY+D[1].pageY),_.set(e,t))}function W(){var e,t;1===D.length?S.set(D[0].pageX,D[0].pageY):(e=.5*(D[0].pageX+D[1].pageX),t=.5*(D[0].pageY+D[1].pageY),S.set(e,t))}function Y(){var e=D[0].pageX-D[1].pageX,t=D[0].pageY-D[1].pageY;e=Math.sqrt(e*e+t*t);M.set(0,e)}function q(e){1==D.length?w.set(e.pageX,e.pageY):(n=oe(e),t=.5*(e.pageX+n.x),e=.5*(e.pageY+n.y),w.set(t,e)),x.subVectors(w,_).multiplyScalar(h.rotateSpeed);var t,n=h.domElement;O(2*Math.PI*x.x/n.clientHeight),R(2*Math.PI*x.y/n.clientHeight),_.copy(w)}function X(e){var t,n;1===D.length?A.set(e.pageX,e.pageY):(t=oe(e),n=.5*(e.pageX+t.x),e=.5*(e.pageY+t.y),A.set(n,e)),C.subVectors(A,S).multiplyScalar(h.panSpeed),N(C.x,C.y),S.copy(A)}function Q(e){var t=oe(e),n=e.pageX-t.x;e=e.pageY-t.y,t=Math.sqrt(n*n+e*e);E.set(0,t),T.set(0,Math.pow(E.y/M.y,h.zoomSpeed)),U(T.y),M.copy(E)}function K(e){if(!1!==h.enabled){if(0===D.length&&(h.domElement.setPointerCapture(e.pointerId),h.domElement.addEventListener("pointermove",J),h.domElement.addEventListener("pointerup",Z)),D.push(e),"touch"===e.pointerType)switch(re(e),D.length){case 1:switch(h.touches.ONE){case Be.bc.ROTATE:if(!1===h.enableRotate)return;V(),f=d.TOUCH_ROTATE;break;case Be.bc.PAN:if(!1===h.enablePan)return;W(),f=d.TOUCH_PAN;break;default:f=d.NONE}break;case 2:switch(h.touches.TWO){case Be.bc.DOLLY_PAN:if(!1===h.enableZoom&&!1===h.enablePan)return;h.enableZoom&&Y(),h.enablePan&&W(),f=d.TOUCH_DOLLY_PAN;break;case Be.bc.DOLLY_ROTATE:if(!1===h.enableZoom&&!1===h.enableRotate)return;h.enableZoom&&Y(),h.enableRotate&&V(),f=d.TOUCH_DOLLY_ROTATE;break;default:f=d.NONE}break;default:f=d.NONE}else{var t,n=e;switch(n.button){case 0:t=h.mouseButtons.LEFT;break;case 1:t=h.mouseButtons.MIDDLE;break;case 2:t=h.mouseButtons.RIGHT;break;default:t=-1}switch(t){case Be.gb.DOLLY:if(!1===h.enableZoom)return;!function(e){M.set(e.clientX,e.clientY)}(n),f=d.DOLLY;break;case Be.gb.ROTATE:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===h.enablePan)return;G(n),f=d.PAN}else{if(!1===h.enableRotate)return;H(n),f=d.ROTATE}break;case Be.gb.PAN:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===h.enableRotate)return;H(n),f=d.ROTATE}else{if(!1===h.enablePan)return;G(n),f=d.PAN}break;default:f=d.NONE}}f!==d.NONE&&h.dispatchEvent(He)}}function J(e){if(!1!==h.enabled)if("touch"===e.pointerType){var t=e;switch(re(t),f){case d.TOUCH_ROTATE:!1!==h.enableRotate&&(q(t),h.update());break;case d.TOUCH_PAN:!1!==h.enablePan&&(X(t),h.update());break;case d.TOUCH_DOLLY_PAN:!1===h.enableZoom&&!1===h.enablePan||(function(e){h.enableZoom&&Q(e),h.enablePan&&X(e)}(t),h.update());break;case d.TOUCH_DOLLY_ROTATE:!1===h.enableZoom&&!1===h.enableRotate||(function(e){h.enableZoom&&Q(e),h.enableRotate&&q(e)}(t),h.update());break;default:f=d.NONE}}else{var n=e;switch(f){case d.ROTATE:!1!==h.enableRotate&&function(e){w.set(e.clientX,e.clientY),x.subVectors(w,_).multiplyScalar(h.rotateSpeed),e=h.domElement,O(2*Math.PI*x.x/e.clientHeight),R(2*Math.PI*x.y/e.clientHeight),_.copy(w),h.update()}(n);break;case d.DOLLY:!1!==h.enableZoom&&function(e){E.set(e.clientX,e.clientY),T.subVectors(E,M),0<T.y?U(k()):T.y<0&&j(k()),M.copy(E),h.update()}(n);break;case d.PAN:!1!==h.enablePan&&function(e){A.set(e.clientX,e.clientY),C.subVectors(A,S).multiplyScalar(h.panSpeed),N(C.x,C.y),S.copy(A),h.update()}(n)}}}function Z(e){ie(e),0===D.length&&(h.domElement.releasePointerCapture(e.pointerId),h.domElement.removeEventListener("pointermove",J),h.domElement.removeEventListener("pointerup",Z)),h.dispatchEvent(Ge),f=d.NONE}function $(e){ie(e)}function ee(e){!1!==h.enabled&&!1!==h.enableZoom&&f===d.NONE&&(e.preventDefault(),h.dispatchEvent(He),(e=e).deltaY<0?j(k()):0<e.deltaY&&U(k()),h.update(),h.dispatchEvent(Ge))}function te(e){if(!1!==h.enabled&&!1!==h.enablePan){var t=!1;switch(e.code){case h.keys.UP:N(0,h.keyPanSpeed),t=!0;break;case h.keys.BOTTOM:N(0,-h.keyPanSpeed),t=!0;break;case h.keys.LEFT:N(h.keyPanSpeed,0),t=!0;break;case h.keys.RIGHT:N(-h.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),h.update())}}function ne(e){!1!==h.enabled&&e.preventDefault()}function ie(e){delete P[e.pointerId];for(var t=0;t<D.length;t++)if(D[t].pointerId==e.pointerId)return void D.splice(t,1)}function re(e){var t=P[e.pointerId];void 0===t&&(t=new Be.nc,P[e.pointerId]=t),t.set(e.pageX,e.pageY)}function oe(e){return e=e.pointerId===D[0].pointerId?D[1]:D[0],P[e.pointerId]}return h.domElement.addEventListener("contextmenu",ne),h.domElement.addEventListener("pointerdown",K),h.domElement.addEventListener("pointercancel",$),h.domElement.addEventListener("wheel",ee,{passive:!1}),r.update(),r}return function(e,t,n){return t&&Fe(e.prototype,t),n&&Fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}();function We(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ye(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var qe=function(){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");Ye(this,"fovData",35),Ye(this,"nearData",.1),Ye(this,"farData",100),Ye(this,"position",{x:6,y:4,z:8}),Ye(this,"rotation",{x:0,y:0,z:0}),Ye(this,"dampingFactor",!1),Ye(this,"cameraType","PerspectiveCamera"),Ye(this,"instancePCData",!1),Ye(this,"instancePC",!1),this.managerExperience=new It,this.sizes=this.managerExperience.sizes,this.debug=this.managerExperience.debug,this.scene=t,this.canvas=n,this.className=r,i.hasOwnProperty("fov")&&(this.fovData=i.fov),i.hasOwnProperty("near")&&(this.nearData=i.near),i.hasOwnProperty("far")&&(this.farData=i.far),i.hasOwnProperty("position")&&(this.position=i.position),i.hasOwnProperty("dampingFactor")&&(this.dampingFactor=i.dampingFactor),i.hasOwnProperty("type")&&(this.cameraType=i.type),i.hasOwnProperty("instancePCData")&&(this.instancePCData=i.instancePCData),i.hasOwnProperty("rotation")&&(this.rotation=i.rotation),this.setInstance(),this.setOrbitControls(),this.initDebug()}var t,n;return t=e,(n=[{key:"initDebug",value:function(){var e=this;this.debug.active&&(this.debugFolder=this.debug.ui.addFolder("CAMERA "+this.className),this.debugFolder.add(this.position,"x").name("Camera - x").min(-100).max(100).step(.01).onChange((function(){e.instance.position.set(e.position.x,e.position.y,e.position.z)})),this.debugFolder.add(this.position,"y").name("Camera - y").min(-100).max(100).step(.01).onChange((function(){e.instance.position.set(e.position.x,e.position.y,e.position.z)})),this.debugFolder.add(this.position,"z").name("Camera - z").min(-100).max(100).step(.01).onChange((function(){e.instance.position.set(e.position.x,e.position.y,e.position.z)})),this.debugFolder.add(this,"nearData").name("Camera - near").min(0).max(2).step(.001).onChange((function(){e.instance.near=e.nearData,e.instance.updateProjectionMatrix()})),this.debugFolder.add(this,"farData").name("Camera - far").min(0).max(3e3).step(.01).onChange((function(){e.instance.far=e.farData,e.instance.updateProjectionMatrix()})))}},{key:"setInstance",value:function(){"OrthographicCamera"==this.cameraType?this.instance=new Be.zb:(this.instance=new Be.Ab(this.fovData,this.sizes.width/this.sizes.height,this.nearData,this.farData),this.instance.position.set(this.position.x,this.position.y,this.position.z),this.instance.rotation.set(this.rotation.x,this.rotation.y,this.rotation.z)),this.instance.aspect=this.sizes.width/this.sizes.height,this.instance.updateProjectionMatrix(),this.instancePCData&&(this.instancePC=new Be.Ab(this.instancePCData.fov),this.instancePC.position.set(this.instancePCData.position.x,this.instancePCData.position.y,this.instancePCData.position.z))}},{key:"setOrbitControls",value:function(){var e=this.instance;"OrthographicCamera"==this.cameraType&&this.instancePC&&(e=this.instancePC),this.controls=new Ve(e,this.canvas),this.controls.enableDamping=!0,this.dampingFactor&&(this.controls.dampingFactor=this.dampingFactor)}},{key:"resize",value:function(){this.instance.aspect=this.sizes.width/this.sizes.height,this.instance.updateProjectionMatrix();var e=this.getWorldSize();this.wWidth=e[0],this.wHeight=e[1]}},{key:"getWorldSize",value:function(){var e=this.instance.fov*Math.PI/180;return[(e=2*Math.tan(e/2)*Math.abs(this.instance.position.z))*this.instance.aspect,e]}},{key:"update",value:function(){this.controls.update()}},{key:"destroy",value:function(){this.controls.dispose()}},{key:"setInstancePosition",value:function(e,t,n){this.instance.position.set(e,t,n)}},{key:"setInstanceFov",value:function(e){this.instance.fov=e}},{key:"setControlsDampingFactor",value:function(e){this.controls.dampingFactor=e}}])&&We(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Xe(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)),i}function Qe(e){var t,n,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){var i,r;i=e,r=n[t=t],t in i?Object.defineProperty(i,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[t]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:new Be.nc,nPosition:new Be.nc,hover:!1,onEnter:function(){},onMove:function(){},onLeave:function(){}},e);return t=e.domElement,n=i,Je.has(t)||(Ke.push(t),Je.set(t,n),$e||(document.body.addEventListener("pointermove",et),document.body.addEventListener("pointerleave",tt),$e=!0)),i.dispose=function(){var t=e.domElement,n=Ke.indexOf(t);-1!==n&&(Ke.splice(n,1),Je.delete(t)),0===Ke.length&&(document.body.removeEventListener("pointermove",et),document.body.removeEventListener("pointerleave",tt),$e=!1)},i}var Ke=[],Je=new WeakMap,Ze=new Be.nc,$e=!1;function et(e){Ze.x=e.clientX,Ze.y=e.clientY,Ke.forEach((function(e){var t,n,i,r,o,a,s=Je.get(e);"desktop"==s.device&&(e=e.getBoundingClientRect(),n=Ze.x,i=Ze.y,r=e.left,o=e.top,a=e.width,t=e.height,r<=n&&n<=r+a&&o<=i&&i<=o+t?(s.hover||(s.hover=!0,s.onEnter(s)),n=s.position,r=s.nPosition,n.x=Ze.x-e.left,n.y=Ze.y-e.top,r.x=n.x/e.width*2-1,r.y=-n.y/e.height*2+1,s.onMove(s)):s.hover&&(s.hover=!1,s.onLeave(s)))}))}function tt(){Ke.forEach((function(e){"desktop"==(e=Je.get(e)).device&&e.hover&&(e.hover=!1,e.onLeave(e))}))}var nt=n(97),it=n(58);function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function at(e,t){return(at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lt=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&at(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=st(e);n=t?(n=st(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===rt(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(i);function i(e,t){var r;if(this instanceof i)return(r=n.call(this)).textureID=void 0!==t?t:"tDiffuse",e instanceof Be.Tb?(r.uniforms=e.uniforms,r.material=e):e&&(r.uniforms=Be.jc.clone(e.uniforms),r.material=new Be.Tb({defines:Object.assign({},e.defines),uniforms:r.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),r.fsQuad=new it.a(r.material),r;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"render",value:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil)),this.fsQuad.render(e)}}])&&ot(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),i}(it.b);function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function dt(e,t,n){t&&ht(e.prototype,t),n&&ht(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function ft(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=mt(e);n=t?(n=mt(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===ut(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vt=function(){ft(t,it.b);var e=pt(t);function t(n,i){var r;return ct(this,t),(r=e.call(this)).scene=n,r.camera=i,r.clear=!0,r.needsSwap=!1,r.inverse=!1,r}return dt(t,[{key:"render",value:function(e,t,n){var i,r,o=e.getContext(),a=e.state;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0),r=this.inverse?(i=0,1):(i=1,0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),a.buffers.stencil.setFunc(o.ALWAYS,i,4294967295),a.buffers.stencil.setClear(r),a.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.stencil.setLocked(!1),a.buffers.stencil.setFunc(o.EQUAL,1,4294967295),a.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),a.buffers.stencil.setLocked(!0)}}]),t}(),gt=function(){ft(t,it.b);var e=pt(t);function t(){var n;return ct(this,t),(n=e.call(this)).needsSwap=!1,n}return dt(t,[{key:"render",value:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}]),t}();function yt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var bt=function(){function e(t,n){var i;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t,void 0===n?(i=t.getSize(new Be.nc),this._pixelRatio=t.getPixelRatio(),this._width=i.width,this._height=i.height,(n=new Be.sc(this._width*this._pixelRatio,this._height*this._pixelRatio)).texture.name="EffectComposer.rt1"):(this._pixelRatio=1,this._width=n.width,this._height=n.height),this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],nt.a,this.copyPass=new lt(nt.a),this.clock=new Be.p}return function(e,t,n){t&&yt(e.prototype,t),n&&yt(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"swapBuffers",value:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}},{key:"addPass",value:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"insertPass",value:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"removePass",value:function(e){-1!==(e=this.passes.indexOf(e))&&this.passes.splice(e,1)}},{key:"isLastEnabledPass",value:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}},{key:"render",value:function(e){void 0===e&&(e=this.clock.getDelta());for(var t=this.renderer.getRenderTarget(),n=!1,i=0,r=this.passes.length;i<r;i++){var o,a,s=this.passes[i];!1!==s.enabled&&(s.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),s.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),s.needsSwap&&(n&&(o=this.renderer.getContext(),(a=this.renderer.state.buffers.stencil).setFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),a.setFunc(o.EQUAL,1,4294967295)),this.swapBuffers()),void 0!==vt&&(s instanceof vt?n=!0:s instanceof gt&&(n=!1)))}this.renderer.setRenderTarget(t)}},{key:"reset",value:function(e){var t;void 0===e&&(t=this.renderer.getSize(new Be.nc),this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)),this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}},{key:"setSize",value:function(e,t){this._width=e,this._height=t;var n=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(n,i),this.renderTarget2.setSize(n,i);for(var r=0;r<this.passes.length;r++)this.passes[r].setSize(n,i)}},{key:"setPixelRatio",value:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}]),e}();function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function xt(e,t){return(xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(t=(new Be.zb(-1,1,1,-1,0,1),new Be.k)).setAttribute("position",new Be.D([-1,3,0,-1,-1,0,3,-1,0],3)),t.setAttribute("uv",new Be.D([0,2,0,0,2,0],2));var At=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xt(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=St(e);n=t?(n=St(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===_t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(i);function i(e,t,r,o,a){var s;if(this instanceof i)return(s=n.call(this)).scene=e,s.camera=t,s.overrideMaterial=r,s.clearColor=o,s.clearAlpha=void 0!==a?a:0,s.clear=!0,s.clearDepth=!1,s.needsSwap=!1,s._oldClearColor=new Be.q,s;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"render",value:function(e,t,n){var i,r,o=e.autoClear;e.autoClear=!1,void 0!==this.overrideMaterial&&(r=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),i=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,i),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=r),e.autoClear=o}}])&&wt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),i}(it.b),Ct=n(31);function Mt(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)),i}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Dt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var Pt=function(){function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");Dt(this,"powerPreference","default"),Dt(this,"effectComposerActivate",!1),Dt(this,"listEffectComposer",{}),Dt(this,"config",{canvas:null,antialias:!0,powerPreference:"default",depth:!0,stencil:!0}),Dt(this,"toneMapping",!1),Dt(this,"toneMappingExposure",!1),Dt(this,"lookAt",null),this.managerExperience=new It,this.sizes=this.managerExperience.sizes,this.canvas=n,this.scene=t,this.camera=i,this.config.canvas=n,r.hasOwnProperty("config")&&(this.config=Et(Et({},this.config),r.config)),r.hasOwnProperty("effectComposerActivate")&&(this.effectComposerActivate=r.effectComposerActivate),r.hasOwnProperty("toneMapping")&&(this.toneMapping=r.toneMapping),r.hasOwnProperty("toneMappingExposure")&&(this.toneMappingExposure=r.toneMappingExposure),this.setInstance()}var t,n;return t=e,(n=[{key:"setInstance",value:function(){this.instance=new Be.tc(this.config),this.toneMapping&&(this.instance.toneMapping=this.toneMapping),this.toneMappingExposure&&(this.instance.toneMappingExposure=this.toneMappingExposure),this.instance.setSize(this.sizes.width,this.sizes.height),this.instance.setPixelRatio(this.sizes.pixelRatio),this.effectComposerActivate&&"effectComposer"==this.effectComposerActivate&&(this.renderTarget=new Be.sc(800,600,{samples:2}),this.effectComposer=new bt(this.instance,this.renderTarget),this.effectComposer.setPixelRatio(this.sizes.pixelRatio),this.effectComposer.setSize(this.sizes.width,this.sizes.height),this.renderPass=new At(this.scene,this.camera.instance),this.effectComposer.addPass(this.renderPass)),this.effectComposerActivate&&"effectComposerPostprocessing"==this.effectComposerActivate&&(this.effectComposer=new Ct.b(this.instance),this.effectComposer.addPass(new Ct.e(this.scene,this.camera.instance)))}},{key:"resize",value:function(){this.instance.setSize(this.sizes.width,this.sizes.height),this.instance.setPixelRatio(this.sizes.pixelRatio),this.effectComposerActivate&&"effectComposer"==this.effectComposerActivate&&(this.effectComposer.setSize(this.sizes.width,this.sizes.height),this.effectComposer.setPixelRatio(this.sizes.pixelRatio))}},{key:"update",value:function(){this.effectComposerActivate?this.effectComposer.render():(this.lookAt&&this.camera.instance.lookAt(this.lookAt),this.instance.render(this.scene,this.camera.instance))}},{key:"destroy",value:function(){this.instance.dispose()}},{key:"setPowerPreference",value:function(e){this.instance.powerPreference=e}},{key:"addPass",value:function(e){this.listEffectComposer[e.name]=e.core,this.effectComposer.addPass(this.listEffectComposer[e.name])}},{key:"addShaderPass",value:function(e){this.listEffectComposer[e.name]=new lt(e.core),this.effectComposer.addPass(this.listEffectComposer[e.name])}},{key:"setValueShaderPass",value:function(e,t,n){this.listEffectComposer[e].material.uniforms[t].value=n}},{key:"addEffectPass",value:function(e){this.listEffectComposer[e.name]=new Ct.c(this.camera.instance,e.core),this.effectComposer.addPass(this.listEffectComposer[e.name])}},{key:"setLookAt",value:function(e,t,n){this.lookAt=new Be.oc(e,t,n)}}])&&Tt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),kt={"homepage-hero":n(318),"homepage-mobility":n(319),"footer-globe":n(675),"who-we-are-hero":n(320),"invest-together-hero":n(321),"how-we-work-hero":n(682),"how-can-we-help-hero":n(681),"news-hero":n(680),"test-hero":n(677),"contact-hero":n(679)};function Ot(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Rt=function(){function e(t,n,i,r,o,a){var s;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");(s="currentScroll")in this?Object.defineProperty(this,s,{value:0,enumerable:!0,configurable:!0,writable:!0}):this[s]=0,this.domParent=n,this.canvas=i,this.device=a,this.pointer=Qe({domElement:this.canvas,onEnter:this.onEnter.bind(this),onMove:this.onMove.bind(this),onLeave:this.onLeave.bind(this),device:this.device}),this.canvasPosY=this.canvas.getBoundingClientRect().top+this.currentScroll,this.canvasHeight=this.canvas.getBoundingClientRect().height,this.scene=new Be.Qb,this.camera=new qe(this.scene,this.canvas,r,t),this.renderer=new Pt(this.scene,this.canvas,this.camera,o),this.world=new kt[t].default(this.scene,this.pointer,this.camera,this.renderer,this.domParent,this.device),"function"==typeof this.world.setCanvasData&&this.world.setCanvasData(this.canvasPosY,this.canvasHeight)}var t,n;return t=e,(n=[{key:"onEnter",value:function(e){"function"==typeof this.world.onEnter&&this.world.onEnter(e)}},{key:"onMove",value:function(e){"function"==typeof this.world.onMove&&this.world.onMove(e)}},{key:"onLeave",value:function(e){"function"==typeof this.world.onLeave&&this.world.onLeave(e)}},{key:"_resize",value:function(){this.camera.resize(),this.renderer.resize(),this.currentScroll=window.scrollY,this.canvasPosY=this.canvas.getBoundingClientRect().top+this.currentScroll,this.canvasHeight=this.canvas.getBoundingClientRect().height,"function"==typeof this.world.resize&&this.world.resize(this.canvasPosY,this.canvasHeight)}},{key:"_update",value:function(){this.world.update(),this.camera.update(),this.renderer.update()}},{key:"scroll",value:function(e){this.currentScroll=e,"function"==typeof this.world.scroll&&this.world.scroll(e)}},{key:"_toggleDevice",value:function(e){this.device=e,this.pointer.device=this.device,"function"==typeof this.world.toggleDevice&&this.world.toggleDevice(this.device)}},{key:"destroy",value:function(){this.pointer.unbind(),this.camera.destroy(),this.renderer.destroy()}}])&&Ot(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Lt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Bt=null,It=function(){function e(t){var n,i;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(i={},(n="_listExperience")in this?Object.defineProperty(this,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[n]=i,Bt)return Bt;if(Bt=this,(window.managerExperience=this)._init(),this._bind(),Object.keys(t).length)for(var r in t){var o,a,s=t[r],l=document.querySelector("."+s.canvas),u=s.domParent;l&&(r=r,o=!1,s.camera&&(o=s.camera),a=!1,s.renderer&&(a=s.renderer),this._listExperience[r]=new Rt(r,u,l,o,a,this.sizes._device))}}var t,n;return t=e,(n=[{key:"_init",value:function(){this.debug=new Le,this.sizes=new u,this.time=new p}},{key:"_bind",value:function(){var e=this;["_resize","_update","_toggleDevice"].forEach((function(t){return e[t]=e[t].bind(e)})),this.sizes.on("__class_sizes_resize",this._resize),this.sizes.on("__class_sizes_toggle_device",this._toggleDevice),this.time.on("__class_time_tick",this._update)}},{key:"_resize",value:function(){if(Object.keys(this._listExperience).length)for(var e in this._listExperience)this._listExperience.hasOwnProperty(e)&&this._listExperience[e]._resize()}},{key:"_toggleDevice",value:function(e){if(Object.keys(this._listExperience).length)for(var t in this._listExperience)this._listExperience.hasOwnProperty(t)&&this._listExperience[t]._toggleDevice(e.device)}},{key:"_update",value:function(){if(Object.keys(this._listExperience).length)for(var e in this._listExperience)this._listExperience.hasOwnProperty(e)&&this._listExperience[e]._update()}},{key:"scroll",value:function(e){if(Object.keys(this._listExperience).length)for(var t in this._listExperience)this._listExperience.hasOwnProperty(t)&&this._listExperience[t].scroll(e)}},{key:"destroy",value:function(){if(this.sizes.off("__class_sizes_resize",this._resize),this.sizes.destroy(),this.time.off("__class_time_tick",this._update),this.time.destroy(),this.debug.destroy(),Object.keys(this._listExperience).length)for(var e in this._listExperience)this._listExperience.hasOwnProperty(e)&&this._listExperience[e].destroy()}}])&&Lt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.range=[],this.dummy=new i.q,this.colors=t,this.setColors()}var t,n;return t=e,(n=[{key:"setColors",value:function(){var e=this;this.range=[],this.colors.forEach((function(t){e.range.push(new i.q(t))}))}},{key:"getColorAt",value:function(e){e=Math.max(0,Math.min(1,e))*(this.colors.length-1);var t,n=Math.floor(e),i=this.range[n];return(n>=this.colors.length-1?i:(t=this.range[n+1],this.dummy.r=i.r+(e-=n)*(t.r-i.r),this.dummy.g=i.g+e*(t.g-i.g),this.dummy.b=i.b+e*(t.b-i.b),this.dummy)).clone()}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return te})),n.d(t,"b",(function(){return K})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return re})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return ue}));var i=n(0);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,i){return(o="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,i){var r;if(e=s(e,t)){if((r=Object.getOwnPropertyDescriptor(e,t)).set)return r.set.call(i,n),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(i,t)){if(!r.writable)return!1;r.value=n,Object.defineProperty(i,t,r)}else e=n,(r=t)in(n=i)?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e;return!0})(e,t,n,i)}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=s(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function l(e,t){var n,i,r,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==a.return||a.return()}finally{if(i)throw r}}};if(Array.isArray(e)||(a=u(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){var n;if(e)return"string"==typeof e?c(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p(e);n=t?(n=p(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return f(i)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var y="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",b=(t=0,n=1,{FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"}),_=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],w=function(){h(t,i.Tb);var e=d(t);function t(){var n,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new i.pc;return m(this,t),(n=e.call(this,{name:"KawaseBlurMaterial",uniforms:{inputBuffer:new i.ic(null),texelSize:new i.ic(new i.pc),scale:new i.ic(1),kernel:new i.ic(0)},blending:i.vb,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <encodings_fragment>\n}",vertexShader:"uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}"})).toneMapped=!1,n.setTexelSize(r.x,r.y),n.kernelSize=2,n}return g(t,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.inputBuffer=e}},{key:"kernelSequence",get:function(){return _[this.kernelSize]}},{key:"scale",get:function(){return this.uniforms.scale.value},set:function(e){this.uniforms.scale.value=e}},{key:"getScale",value:function(){return this.uniforms.scale.value}},{key:"setScale",value:function(e){this.uniforms.scale.value=e}},{key:"getKernel",value:function(){return null}},{key:"kernel",get:function(){return this.uniforms.kernel.value},set:function(e){this.uniforms.kernel.value=e}},{key:"setKernel",value:function(e){this.kernel=e}},{key:"setTexelSize",value:function(e,t){this.uniforms.texelSize.value.set(e,t,.5*e,.5*t)}},{key:"setSize",value:function(e,t){e=1/e,t=1/t,this.uniforms.texelSize.value.set(e,t,.5*e,.5*t)}}]),t}(),x=function(){h(t,i.Tb);var e=d(t);function t(){var n;return m(this,t),(n=e.call(this,{name:"CopyMaterial",uniforms:{inputBuffer:new i.ic(null),opacity:new i.ic(1)},blending:i.vb,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <encodings_fragment>\n#include <dithering_fragment>\n}",vertexShader:y})).toneMapped=!1,n}return g(t,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.uniforms.inputBuffer.value=e}},{key:"getOpacity",value:function(e){return this.uniforms.opacity.value}},{key:"setOpacity",value:function(e){this.uniforms.opacity.value=e}}]),t}(),S=function(){h(t,i.Tb);var e=d(t);function t(){var n;return m(this,t),(n=e.call(this,{name:"DepthMaskMaterial",defines:{DEPTH_EPSILON:"0.0001",DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0",DEPTH_TEST_STRATEGY:1},uniforms:{inputBuffer:new i.ic(null),depthBuffer0:new i.ic(null),depthBuffer1:new i.ic(null),cameraNearFar:new i.ic(new i.nc(1,1))},blending:i.vb,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <packing>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;\n#else\nuniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;\n#endif\nuniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\n#endif\n}varying vec2 vUv;void main(){vec2 depth;\n#if DEPTH_PACKING_0 == 3201\ndepth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));\n#else\ndepth.x=texture2D(depthBuffer0,vUv).r;\n#endif\n#if DEPTH_PACKING_1 == 3201\ndepth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));\n#else\ndepth.y=texture2D(depthBuffer1,vUv).r;\n#endif\nbool isMaxDepth=(depth.x==1.0);\n#ifdef PERSPECTIVE_CAMERA\ndepth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);\n#endif\n#if DEPTH_TEST_STRATEGY == 0\nbool keep=depthTest(depth.x,depth.y);\n#elif DEPTH_TEST_STRATEGY == 1\nbool keep=isMaxDepth||depthTest(depth.x,depth.y);\n#else\nbool keep=!isMaxDepth&&depthTest(depth.x,depth.y);\n#endif\nif(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}",vertexShader:y})).toneMapped=!1,n.depthMode=i.S,n}return g(t,[{key:"depthBuffer0",set:function(e){this.uniforms.depthBuffer0.value=e}},{key:"depthPacking0",set:function(e){this.defines.DEPTH_PACKING_0=e.toFixed(0),this.needsUpdate=!0}},{key:"setDepthBuffer0",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.f;this.depthBuffer0=e,this.depthPacking0=t}},{key:"depthBuffer1",set:function(e){this.uniforms.depthBuffer1.value=e}},{key:"depthPacking1",set:function(e){this.defines.DEPTH_PACKING_1=e.toFixed(0),this.needsUpdate=!0}},{key:"setDepthBuffer1",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.f;this.depthBuffer1=e,this.depthPacking1=t}},{key:"maxDepthStrategy",get:function(){return Number(this.defines.DEPTH_TEST_STRATEGY)},set:function(e){this.defines.DEPTH_TEST_STRATEGY=e.toFixed(0),this.needsUpdate=!0}},{key:"keepFar",get:function(){return this.maxDepthStrategy},set:function(e){this.maxDepthStrategy=e?1:2}},{key:"getMaxDepthStrategy",value:function(){return this.maxDepthStrategy}},{key:"setMaxDepthStrategy",value:function(e){this.maxDepthStrategy=e}},{key:"epsilon",get:function(){return Number(this.defines.DEPTH_EPSILON)},set:function(e){this.defines.DEPTH_EPSILON=e.toFixed(16),this.needsUpdate=!0}},{key:"getEpsilon",value:function(){return this.epsilon}},{key:"setEpsilon",value:function(e){this.epsilon=e}},{key:"depthMode",get:function(){return Number(this.defines.DEPTH_MODE)},set:function(e){var t;switch(e){case i.ub:t="false";break;case i.b:t="true";break;case i.z:t="abs(d1 - d0) <= DEPTH_EPSILON";break;case i.wb:t="abs(d1 - d0) > DEPTH_EPSILON";break;case i.S:t="d0 > d1";break;case i.T:t="d0 >= d1";break;case i.H:t="d0 <= d1";break;default:i.G,t="d0 < d1"}this.defines.DEPTH_MODE=e.toFixed(0),this.defines["depthTest(d0, d1)"]=t,this.needsUpdate=!0}},{key:"getDepthMode",value:function(){return this.depthMode}},{key:"setDepthMode",value:function(e){this.depthMode=e}},{key:"adoptCameraSettings",value:function(e){e&&(this.uniforms.cameraNearFar.value.set(e.near,e.far),e instanceof i.Ab?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}}]),t}(),A=function(){h(t,i.Tb);var e=d(t);function t(){var n;return m(this,t),(n=e.call(this,{name:"DownsamplingMaterial",uniforms:{inputBuffer:new i.ic(null),texelSize:new i.ic(new i.nc)},blending:i.vb,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#define WEIGHT_INNER 0.125\n#define WEIGHT_OUTER 0.0555555\nvarying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;\n#include <encodings_fragment>\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}"})).toneMapped=!1,n}return g(t,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setSize",value:function(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}}]),t}(),C=function(){h(t,i.Tb);var e=d(t);function t(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new i.nc,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2;return m(this,t),(n=e.call(this,{name:"EdgeDetectionMaterial",defines:{THREE_REVISION:i.Jb.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new i.ic(null),depthBuffer:new i.ic(null),predicationBuffer:new i.ic(null),texelSize:new i.ic(n)},blending:i.vb,depthWrite:!1,depthTest:!1,fragmentShader:"varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\n#if EDGE_DETECTION_MODE == 1\n#include <common>\n#endif\n#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}\n#elif PREDICATION_MODE == 2\nuniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}\n#endif\n#if PREDICATION_MODE != 0\nvec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}\n#endif\n#if EDGE_DETECTION_MODE != 0\nuniform sampler2D inputBuffer;\n#endif\nvoid main(){\n#if EDGE_DETECTION_MODE == 0\nconst vec2 threshold=vec2(DEPTH_THRESHOLD);\n#elif PREDICATION_MODE != 0\nvec2 threshold=calculatePredicatedThreshold();\n#else\nconst vec2 threshold=vec2(EDGE_THRESHOLD);\n#endif\n#if EDGE_DETECTION_MODE == 0\nvec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 1\nfloat l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 2\nvec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#endif\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\n#if EDGE_DETECTION_MODE != 0\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}"})).toneMapped=!1,n.edgeDetectionMode=r,n}return g(t,[{key:"depthBuffer",set:function(e){this.uniforms.depthBuffer.value=e}},{key:"depthPacking",set:function(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}},{key:"setDepthBuffer",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.f;this.depthBuffer=e,this.depthPacking=t}},{key:"edgeDetectionMode",get:function(){return Number(this.defines.EDGE_DETECTION_MODE)},set:function(e){this.defines.EDGE_DETECTION_MODE=e.toFixed(0),this.needsUpdate=!0}},{key:"getEdgeDetectionMode",value:function(){return this.edgeDetectionMode}},{key:"setEdgeDetectionMode",value:function(e){this.edgeDetectionMode=e}},{key:"localContrastAdaptationFactor",get:function(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)},set:function(e){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=e.toFixed("6"),this.needsUpdate=!0}},{key:"getLocalContrastAdaptationFactor",value:function(){return this.localContrastAdaptationFactor}},{key:"setLocalContrastAdaptationFactor",value:function(e){this.localContrastAdaptationFactor=e}},{key:"edgeDetectionThreshold",get:function(){return Number(this.defines.EDGE_THRESHOLD)},set:function(e){this.defines.EDGE_THRESHOLD=e.toFixed("6"),this.defines.DEPTH_THRESHOLD=(.1*e).toFixed("6"),this.needsUpdate=!0}},{key:"getEdgeDetectionThreshold",value:function(){return this.edgeDetectionThreshold}},{key:"setEdgeDetectionThreshold",value:function(e){this.edgeDetectionThreshold=e}},{key:"predicationMode",get:function(){return Number(this.defines.PREDICATION_MODE)},set:function(e){this.defines.PREDICATION_MODE=e.toFixed(0),this.needsUpdate=!0}},{key:"getPredicationMode",value:function(){return this.predicationMode}},{key:"setPredicationMode",value:function(e){this.predicationMode=e}},{key:"predicationBuffer",set:function(e){this.uniforms.predicationBuffer.value=e}},{key:"setPredicationBuffer",value:function(e){this.uniforms.predicationBuffer.value=e}},{key:"predicationThreshold",get:function(){return Number(this.defines.PREDICATION_THRESHOLD)},set:function(e){this.defines.PREDICATION_THRESHOLD=e.toFixed("6"),this.needsUpdate=!0}},{key:"getPredicationThreshold",value:function(){return this.predicationThreshold}},{key:"setPredicationThreshold",value:function(e){this.predicationThreshold=e}},{key:"predicationScale",get:function(){return Number(this.defines.PREDICATION_SCALE)},set:function(e){this.defines.PREDICATION_SCALE=e.toFixed("6"),this.needsUpdate=!0}},{key:"getPredicationScale",value:function(){return this.predicationScale}},{key:"setPredicationScale",value:function(e){this.predicationScale=e}},{key:"predicationStrength",get:function(){return Number(this.defines.PREDICATION_STRENGTH)},set:function(e){this.defines.PREDICATION_STRENGTH=e.toFixed("6"),this.needsUpdate=!0}},{key:"getPredicationStrength",value:function(){return this.predicationStrength}},{key:"setPredicationStrength",value:function(e){this.predicationStrength=e}},{key:"setSize",value:function(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}}]),t}(),M=function(){h(t,i.Tb);var e=d(t);function t(n,r,o,a){var s=4<arguments.length&&void 0!==arguments[4]&&arguments[4];return m(this,t),(s=e.call(this,{name:"EffectMaterial",defines:{THREE_REVISION:i.Jb.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new i.ic(null),depthBuffer:new i.ic(null),resolution:new i.ic(new i.nc),texelSize:new i.ic(new i.nc),cameraNear:new i.ic(.3),cameraFar:new i.ic(1e3),aspect:new i.ic(1),time:new i.ic(0)},blending:i.vb,depthWrite:!1,depthTest:!1,dithering:s})).toneMapped=!1,n&&s.setShaderParts(n),r&&s.setDefines(r),o&&s.setUniforms(o),s.adoptCameraSettings(a),s}return g(t,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.uniforms.inputBuffer.value=e}},{key:"depthBuffer",get:function(){return this.uniforms.depthBuffer.value},set:function(e){this.uniforms.depthBuffer.value=e}},{key:"depthPacking",get:function(){return Number(this.defines.DEPTH_PACKING)},set:function(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}},{key:"setDepthBuffer",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.f;this.depthBuffer=e,this.depthPacking=t}},{key:"setShaderData",value:function(e){this.setShaderParts(e.shaderParts),this.setDefines(e.defines),this.setUniforms(e.uniforms),this.setExtensions(e.extensions)}},{key:"setShaderParts",value:function(e){var t;return this.fragmentShader="#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if THREE_REVISION >= 137\nvec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <encodings_fragment>\n#endif\n#include <dithering_fragment>\n}".replace(b.FRAGMENT_HEAD,null!=(t=e.get(b.FRAGMENT_HEAD))?t:"").replace(b.FRAGMENT_MAIN_UV,null!=(t=e.get(b.FRAGMENT_MAIN_UV))?t:"").replace(b.FRAGMENT_MAIN_IMAGE,null!=(t=e.get(b.FRAGMENT_MAIN_IMAGE))?t:""),this.vertexShader="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}".replace(b.VERTEX_HEAD,null!=(t=e.get(b.VERTEX_HEAD))?t:"").replace(b.VERTEX_MAIN_SUPPORT,null!=(t=e.get(b.VERTEX_MAIN_SUPPORT))?t:""),this.needsUpdate=!0,this}},{key:"setDefines",value:function(e){var t,n=l(e.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;this.defines[i[0]]=i[1]}}catch(e){n.e(e)}finally{n.f()}return this.needsUpdate=!0,this}},{key:"setUniforms",value:function(e){var t,n=l(e.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;this.uniforms[i[0]]=i[1]}}catch(e){n.e(e)}finally{n.f()}return this}},{key:"setExtensions",value:function(e){this.extensions={};var t,n=l(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.extensions[i]=!0}}catch(e){n.e(e)}finally{n.f()}return this}},{key:"encodeOutput",get:function(){return void 0!==this.defines.ENCODE_OUTPUT},set:function(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}},{key:"isOutputEncodingEnabled",value:function(e){return this.encodeOutput}},{key:"setOutputEncodingEnabled",value:function(e){this.encodeOutput=e}},{key:"time",get:function(){return this.uniforms.time.value},set:function(e){this.uniforms.time.value=e}},{key:"setDeltaTime",value:function(e){this.uniforms.time.value+=e}},{key:"adoptCameraSettings",value:function(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof i.Ab?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},{key:"setSize",value:function(e,t){var n=this.uniforms;n.resolution.value.set(e,t),n.texelSize.value.set(1/e,1/t),n.aspect.value=e/t}}],[{key:"Section",get:function(){return b}}]),t}(),E=function(){h(t,i.Tb);var e=d(t);function t(n){return m(this,t),(n=e.call(this,{name:"GodRaysMaterial",defines:{SAMPLES_INT:"60",SAMPLES_FLOAT:"60.0"},uniforms:{inputBuffer:new i.ic(null),lightPosition:new i.ic(n),density:new i.ic(1),decay:new i.ic(1),weight:new i.ic(1),exposure:new i.ic(1),clampMax:new i.ic(1)},blending:i.vb,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform vec2 lightPosition;uniform float exposure;uniform float decay;uniform float density;uniform float weight;uniform float clampMax;varying vec2 vUv;void main(){vec2 coord=vUv;vec2 delta=lightPosition-coord;delta*=1.0/SAMPLES_FLOAT*density;float illuminationDecay=1.0;vec4 color=vec4(0.0);for(int i=0;i<SAMPLES_INT;++i){coord+=delta;vec4 texel=texture2D(inputBuffer,coord);texel*=illuminationDecay*weight;color+=texel;illuminationDecay*=decay;}gl_FragColor=clamp(color*exposure,0.0,clampMax);\n#include <dithering_fragment>\n}",vertexShader:y})).toneMapped=!1,n}return g(t,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.uniforms.inputBuffer.value=e}},{key:"lightPosition",get:function(){return this.uniforms.lightPosition.value}},{key:"getLightPosition",value:function(){return this.uniforms.lightPosition.value}},{key:"setLightPosition",value:function(e){this.uniforms.lightPosition.value=e}},{key:"density",get:function(){return this.uniforms.density.value},set:function(e){this.uniforms.density.value=e}},{key:"getDensity",value:function(){return this.uniforms.density.value}},{key:"setDensity",value:function(e){this.uniforms.density.value=e}},{key:"decay",get:function(){return this.uniforms.decay.value},set:function(e){this.uniforms.decay.value=e}},{key:"getDecay",value:function(){return this.uniforms.decay.value}},{key:"setDecay",value:function(e){this.uniforms.decay.value=e}},{key:"weight",get:function(){return this.uniforms.weight.value},set:function(e){this.uniforms.weight.value=e}},{key:"getWeight",value:function(){return this.uniforms.weight.value}},{key:"setWeight",value:function(e){this.uniforms.weight.value=e}},{key:"exposure",get:function(){return this.uniforms.exposure.value},set:function(e){this.uniforms.exposure.value=e}},{key:"getExposure",value:function(){return this.uniforms.exposure.value}},{key:"setExposure",value:function(e){this.uniforms.exposure.value=e}},{key:"maxIntensity",get:function(){return this.uniforms.clampMax.value},set:function(e){this.uniforms.clampMax.value=e}},{key:"getMaxIntensity",value:function(){return this.uniforms.clampMax.value}},{key:"setMaxIntensity",value:function(e){this.uniforms.clampMax.value=e}},{key:"samples",get:function(){return Number(this.defines.SAMPLES_INT)},set:function(e){e=Math.floor(e),this.defines.SAMPLES_INT=e.toFixed(0),this.defines.SAMPLES_FLOAT=e.toFixed(1),this.needsUpdate=!0}},{key:"getSamples",value:function(){return this.samples}},{key:"setSamples",value:function(e){this.samples=e}}]),t}(),T=function(){h(t,i.Tb);var e=d(t);function t(){var n,r=0<arguments.length&&void 0!==arguments[0]&&arguments[0],o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return m(this,t),(n=e.call(this,{name:"LuminanceMaterial",defines:{THREE_REVISION:i.Jb.replace(/\D+/g,"")},uniforms:{inputBuffer:new i.ic(null),threshold:new i.ic(0),smoothing:new i.ic(1),range:new i.ic(null)},blending:i.vb,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef RANGE\nuniform vec2 range;\n#elif defined(THRESHOLD)\nuniform float threshold;uniform float smoothing;\n#endif\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);\n#ifdef RANGE\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\n#elif defined(THRESHOLD)\nl=smoothstep(threshold,threshold+smoothing,l);\n#endif\n#ifdef COLOR\ngl_FragColor=vec4(texel.rgb*l,l);\n#else\ngl_FragColor=vec4(l);\n#endif\n}",vertexShader:y})).toneMapped=!1,n.colorOutput=r,n.luminanceRange=o,n}return g(t,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.uniforms.inputBuffer.value=e}},{key:"threshold",get:function(){return this.uniforms.threshold.value},set:function(e){0<this.smoothing||0<e?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}},{key:"getThreshold",value:function(){return this.threshold}},{key:"setThreshold",value:function(e){this.threshold=e}},{key:"smoothing",get:function(){return this.uniforms.smoothing.value},set:function(e){0<this.threshold||0<e?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}},{key:"getSmoothingFactor",value:function(){return this.smoothing}},{key:"setSmoothingFactor",value:function(e){this.smoothing=e}},{key:"useThreshold",get:function(){return 0<this.threshold||0<this.smoothing},set:function(e){}},{key:"colorOutput",get:function(){return void 0!==this.defines.COLOR},set:function(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}},{key:"isColorOutputEnabled",value:function(e){return this.colorOutput}},{key:"setColorOutputEnabled",value:function(e){this.colorOutput=e}},{key:"useRange",get:function(){return null!==this.luminanceRange},set:function(e){this.luminanceRange=null}},{key:"luminanceRange",get:function(){return this.uniforms.range.value},set:function(e){null!==e?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}},{key:"getLuminanceRange",value:function(){return this.luminanceRange}},{key:"setLuminanceRange",value:function(e){this.luminanceRange=e}}]),t}(),D=function(){h(t,i.Tb);var e=d(t);function t(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new i.nc,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new i.nc;return m(this,t),(r=e.call(this,{name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new i.ic(null),searchTexture:new i.ic(null),areaTexture:new i.ic(null),resolution:new i.ic(r),texelSize:new i.ic(n)},blending:i.vb,depthWrite:!1,depthTest:!1,fragmentShader:"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\n#if __VERSION__ < 300\n#define round(v) floor(v + 0.5)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\n#endif\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\n#endif\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\n#if !defined(DISABLE_DIAG_DETECTION)\nweights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\n#endif\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\n#if !defined(DISABLE_DIAG_DETECTION)\n}else{e.r=0.0;}\n#endif\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}",vertexShader:"uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}"})).toneMapped=!1,r}return g(t,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"setInputBuffer",value:function(e){this.uniforms.inputBuffer.value=e}},{key:"searchTexture",get:function(){return this.uniforms.searchTexture.value},set:function(e){this.uniforms.searchTexture.value=e}},{key:"areaTexture",get:function(){return this.uniforms.areaTexture.value},set:function(e){this.uniforms.areaTexture.value=e}},{key:"setLookupTextures",value:function(e,t){this.searchTexture=e,this.areaTexture=t}},{key:"orthogonalSearchSteps",get:function(){return Number(this.defines.MAX_SEARCH_STEPS_INT)},set:function(e){e=Math.min(Math.max(e,0),112),this.defines.MAX_SEARCH_STEPS_INT=e.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=e.toFixed("1"),this.needsUpdate=!0}},{key:"setOrthogonalSearchSteps",value:function(e){this.orthogonalSearchSteps=e}},{key:"diagonalSearchSteps",get:function(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)},set:function(e){e=Math.min(Math.max(e,0),20),this.defines.MAX_SEARCH_STEPS_DIAG_INT=e.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=e.toFixed("1"),this.needsUpdate=!0}},{key:"setDiagonalSearchSteps",value:function(e){this.diagonalSearchSteps=e}},{key:"diagonalDetection",get:function(){return void 0===this.defines.DISABLE_DIAG_DETECTION},set:function(e){e?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}},{key:"isDiagonalDetectionEnabled",value:function(){return this.diagonalDetection}},{key:"setDiagonalDetectionEnabled",value:function(e){this.diagonalDetection=e}},{key:"cornerRounding",get:function(){return Number(this.defines.CORNER_ROUNDING)},set:function(e){e=Math.min(Math.max(e,0),100),this.defines.CORNER_ROUNDING=e.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(e/100).toFixed("4"),this.needsUpdate=!0}},{key:"setCornerRounding",value:function(e){this.cornerRounding=e}},{key:"cornerDetection",get:function(){return void 0===this.defines.DISABLE_CORNER_DETECTION},set:function(e){e?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}},{key:"isCornerRoundingEnabled",value:function(){return this.cornerDetection}},{key:"setCornerRoundingEnabled",value:function(e){this.cornerDetection=e}},{key:"setSize",value:function(e,t){var n=this.uniforms;n.texelSize.value.set(1/e,1/t),n.resolution.value.set(e,t)}}]),t}(),P=function(){h(t,i.Tb);var e=d(t);function t(){var n;return m(this,t),(n=e.call(this,{name:"UpsamplingMaterial",uniforms:{inputBuffer:new i.ic(null),supportBuffer:new i.ic(null),texelSize:new i.ic(new i.nc),radius:new i.ic(.85)},blending:i.vb,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;\n#else\nuniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;\n#endif\nuniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);\n#include <encodings_fragment>\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}"})).toneMapped=!1,n}return g(t,[{key:"inputBuffer",set:function(e){this.uniforms.inputBuffer.value=e}},{key:"supportBuffer",set:function(e){this.uniforms.supportBuffer.value=e}},{key:"radius",get:function(){return this.uniforms.radius.value},set:function(e){this.uniforms.radius.value=e}},{key:"setSize",value:function(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}}]),t}(),k=new i.l,O=null,R=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Pass",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new i.Qb,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:k;m(this,e),this.name=t,this.renderer=null,this.scene=n,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}return g(e,[{key:"renderToScreen",get:function(){return!this.rtt},set:function(e){var t;this.rtt===e&&(null!==(t=this.fullscreenMaterial)&&(t.needsUpdate=!0),this.rtt=!e)}},{key:"setRenderer",value:function(e){this.renderer=e}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){this.enabled=e}},{key:"fullscreenMaterial",get:function(){return null!==this.screen?this.screen.material:null},set:function(e){var t,n,r=this.screen;null!==r?r.material=e:((r=new i.kb((null===O&&(t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),n=new Float32Array([0,0,2,0,0,2]),void 0!==(O=new i.k).setAttribute?(O.setAttribute("position",new i.j(t,3)),O.setAttribute("uv",new i.j(n,2))):(O.addAttribute("position",new i.j(t,3)),O.addAttribute("uv",new i.j(n,2)))),O),e)).frustumCulled=!1,null===this.scene&&(this.scene=new i.Qb),this.scene.add(r),this.screen=r)}},{key:"getFullscreenMaterial",value:function(){return this.fullscreenMaterial}},{key:"setFullscreenMaterial",value:function(e){this.fullscreenMaterial=e}},{key:"getDepthTexture",value:function(){return null}},{key:"setDepthTexture",value:function(e){1<arguments.length&&void 0!==arguments[1]||i.f}},{key:"render",value:function(e,t,n,i,r){throw new Error("Render method not implemented!")}},{key:"setSize",value:function(e,t){}},{key:"initialize",value:function(e,t,n){}},{key:"dispose",value:function(){for(var t=0,n=Object.keys(this);t<n.length;t++){var r=n[t],o=this[r];(o instanceof i.sc||o instanceof i.hb||o instanceof i.dc||o instanceof e)&&this[r].dispose()}}}]),e}(),L=function(){h(t,R);var e=d(t);function t(n){var r,o=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return m(this,t),(r=e.call(this,"CopyPass")).fullscreenMaterial=new x,r.needsSwap=!1,void 0===(r.renderTarget=n)&&(r.renderTarget=new i.sc(1,1,{minFilter:i.Z,magFilter:i.Z,stencilBuffer:!1,depthBuffer:!1}),r.renderTarget.texture.name="CopyPass.Target"),r.autoResize=o,r}return g(t,[{key:"resize",get:function(){return this.autoResize},set:function(e){this.autoResize=e}},{key:"texture",get:function(){return this.renderTarget.texture}},{key:"getTexture",value:function(){return this.renderTarget.texture}},{key:"setAutoResizeEnabled",value:function(e){this.autoResize=e}},{key:"render",value:function(e,t,n,i,r){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}},{key:"setSize",value:function(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}},{key:"initialize",value:function(e,t,n){void 0!==n&&((this.renderTarget.texture.type=n)!==i.kc?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e.outputEncoding===i.uc&&(this.renderTarget.texture.encoding=i.uc))}}]),t}(),B=function(){h(t,R);var e=d(t);function t(){var n;return m(this,t),(n=e.call(this,"ClearMaskPass",null,null)).needsSwap=!1,n}return g(t,[{key:"render",value:function(e,t,n,i,r){(e=e.state.buffers.stencil).setLocked(!1),e.setTest(!1)}}]),t}(),I=new i.q,F=function(){h(t,R);var e=d(t);function t(){var n,i=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return m(this,t),(n=e.call(this,"ClearPass",null,null)).needsSwap=!1,n.color=i,n.depth=r,n.stencil=o,n.overrideClearColor=null,n.overrideClearAlpha=-1,n}return g(t,[{key:"setClearFlags",value:function(e,t,n){this.color=e,this.depth=t,this.stencil=n}},{key:"getOverrideClearColor",value:function(){return this.overrideClearColor}},{key:"setOverrideClearColor",value:function(e){this.overrideClearColor=e}},{key:"getOverrideClearAlpha",value:function(){return this.overrideClearAlpha}},{key:"setOverrideClearAlpha",value:function(e){this.overrideClearAlpha=e}},{key:"render",value:function(e,t,n,i,r){var o=this.overrideClearColor,a=this.overrideClearAlpha,s=e.getClearAlpha(),l=null!==o,u=0<=a;l?(I.copy(e.getClearColor(I)),e.setClearColor(o,u?a:s)):u&&e.setClearAlpha(a),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),l?e.setClearColor(I,s):u&&e.setClearAlpha(s)}}]),t}(),z=function(){h(t,i.B);var e=d(t);function t(n){var r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return m(this,t),(r=e.call(this)).resizable=n,r.baseSize=new i.nc(1,1),r.preferredSize=new i.nc(o,a),r.target=r.preferredSize,r.s=s,r.effectiveSize=new i.nc,r.addEventListener("change",(function(){return r.updateEffectiveSize()})),r.updateEffectiveSize(),r}return g(t,[{key:"updateEffectiveSize",value:function(){var e=this.baseSize,t=this.preferredSize,n=this.effectiveSize,i=this.scale;-1!==t.width?n.width=t.width:-1!==t.height?n.width=Math.round(t.height*(e.width/Math.max(e.height,1))):n.width=Math.round(e.width*i),-1!==t.height?n.height=t.height:-1!==t.width?n.height=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):n.height=Math.round(e.height*i)}},{key:"width",get:function(){return this.effectiveSize.width},set:function(e){this.preferredWidth=e}},{key:"height",get:function(){return this.effectiveSize.height},set:function(e){this.preferredHeight=e}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"scale",get:function(){return this.s},set:function(e){this.s!==e&&(this.s=e,this.preferredSize.setScalar(-1),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}},{key:"getScale",value:function(){return this.scale}},{key:"setScale",value:function(e){this.scale=e}},{key:"baseWidth",get:function(){return this.baseSize.width},set:function(e){this.baseSize.width!==e&&(this.baseSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}},{key:"getBaseWidth",value:function(){return this.baseWidth}},{key:"setBaseWidth",value:function(e){this.baseWidth=e}},{key:"baseHeight",get:function(){return this.baseSize.height},set:function(e){this.baseSize.height!==e&&(this.baseSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}},{key:"getBaseHeight",value:function(){return this.baseHeight}},{key:"setBaseHeight",value:function(e){this.baseHeight=e}},{key:"setBaseSize",value:function(e,t){this.baseSize.width===e&&this.baseSize.height===t||(this.baseSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}},{key:"preferredWidth",get:function(){return this.preferredSize.width},set:function(e){this.preferredSize.width!==e&&(this.preferredSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}},{key:"getPreferredWidth",value:function(){return this.preferredWidth}},{key:"setPreferredWidth",value:function(e){this.preferredWidth=e}},{key:"preferredHeight",get:function(){return this.preferredSize.height},set:function(e){this.preferredSize.height!==e&&(this.preferredSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}},{key:"getPreferredHeight",value:function(){return this.preferredHeight}},{key:"setPreferredHeight",value:function(e){this.preferredHeight=e}},{key:"setPreferredSize",value:function(e,t){this.preferredSize.width===e&&this.preferredSize.height===t||(this.preferredSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}},{key:"copy",value:function(e){this.s=e.scale,this.baseSize.set(e.getBaseWidth(),e.getBaseHeight()),this.preferredSize.set(e.getPreferredWidth(),e.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}}],[{key:"AUTO_SIZE",get:function(){return-1}}]),t}(),N=!1,U=function(){function e(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;m(this,e),this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(n),this.meshCount=0,this.replaceMaterial=function(e){if(e.isMesh){var n;if(e.material.flatShading)switch(e.material.side){case i.y:n=t.materialsFlatShadedDoubleSide;break;case i.e:n=t.materialsFlatShadedBackSide;break;default:n=t.materialsFlatShaded}else switch(e.material.side){case i.y:n=t.materialsDoubleSide;break;case i.e:n=t.materialsBackSide;break;default:n=t.materials}t.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=n[2]:e.isInstancedMesh?e.material=n[1]:e.material=n[0],++t.meshCount}}}return g(e,[{key:"setMaterial",value:function(e){if(this.disposeMaterials(),null!==(this.material=e)){for(var t=this.materials=[e.clone(),e.clone(),e.clone()],n=0,r=t;n<r.length;n++){var o=r[n];o.uniforms=Object.assign({},e.uniforms),o.side=i.F}t[2].skinning=!0,this.materialsBackSide=t.map((function(t){return(t=t.clone()).uniforms=Object.assign({},e.uniforms),t.side=i.e,t})),this.materialsDoubleSide=t.map((function(t){return(t=t.clone()).uniforms=Object.assign({},e.uniforms),t.side=i.y,t})),this.materialsFlatShaded=t.map((function(t){return(t=t.clone()).uniforms=Object.assign({},e.uniforms),t.flatShading=!0,t})),this.materialsFlatShadedBackSide=t.map((function(t){return(t=t.clone()).uniforms=Object.assign({},e.uniforms),t.flatShading=!0,t.side=i.e,t})),this.materialsFlatShadedDoubleSide=t.map((function(t){return(t=t.clone()).uniforms=Object.assign({},e.uniforms),t.flatShading=!0,t.side=i.y,t}))}}},{key:"render",value:function(e,t,n){var i=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,N){var r,o=this.originalMaterials,a=(this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,n),l(o));try{for(a.s();!(r=a.n()).done;){var s=r.value;s[0].material=s[1]}}catch(e){a.e(e)}finally{a.f()}this.meshCount!==o.size&&o.clear()}else o=t.overrideMaterial,t.overrideMaterial=this.material,e.render(t,n),t.overrideMaterial=o;e.shadowMap.enabled=i}},{key:"disposeMaterials",value:function(){if(null!==this.material){var e,t=l(this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide));try{for(t.s();!(e=t.n()).done;)e.value.dispose()}catch(e){t.e(e)}finally{t.f()}}}},{key:"dispose",value:function(){this.originalMaterials.clear(),this.disposeMaterials()}}],[{key:"workaroundEnabled",get:function(){return N},set:function(e){N=e}}]),e}(),j=function(){h(t,R);var e=d(t);function t(n,i){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return m(this,t),(n=e.call(this,"RenderPass",n,i)).needsSwap=!1,n.clearPass=new F,n.overrideMaterialManager=null===r?null:new U(r),n.ignoreBackground=!1,n.skipShadowMapUpdate=!1,n.selection=null,n}return g(t,[{key:"renderToScreen",get:function(){return a(p(t.prototype),"renderToScreen",this)},set:function(e){var n=p(t.prototype);if(!o(n,"renderToScreen",e,this||n))throw new Error("failed to set property");this.clearPass.renderToScreen=e}},{key:"overrideMaterial",get:function(){var e=this.overrideMaterialManager;return null!==e?e.material:null},set:function(e){var t=this.overrideMaterialManager;null!==e?null!==t?t.setMaterial(e):this.overrideMaterialManager=new U(e):null!==t&&(t.dispose(),this.overrideMaterialManager=null)}},{key:"getOverrideMaterial",value:function(){return this.overrideMaterial}},{key:"setOverrideMaterial",value:function(e){this.overrideMaterial=e}},{key:"clear",get:function(){return this.clearPass.enabled},set:function(e){this.clearPass.enabled=e}},{key:"getSelection",value:function(){return this.selection}},{key:"setSelection",value:function(e){this.selection=e}},{key:"isBackgroundDisabled",value:function(){return this.ignoreBackground}},{key:"setBackgroundDisabled",value:function(e){this.ignoreBackground=e}},{key:"isShadowMapDisabled",value:function(){return this.skipShadowMapUpdate}},{key:"setShadowMapDisabled",value:function(e){this.skipShadowMapUpdate=e}},{key:"getClearPass",value:function(){return this.clearPass}},{key:"render",value:function(e,t,n,i,r){var o=this.scene,a=this.camera,s=this.selection,l=a.layers.mask,u=o.background,c=e.shadowMap.autoUpdate,h=this.renderToScreen?null:t;null!==s&&a.layers.set(s.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),!this.ignoreBackground&&null===this.clearPass.overrideClearColor||(o.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(h),null!==this.overrideMaterialManager?this.overrideMaterialManager.render(e,o,a):e.render(o,a),a.layers.mask=l,o.background=u,e.shadowMap.autoUpdate=c}}]),t}();function H(e,t,n){var i,r=l(t);try{for(r.s();!(i=r.n()).done;){var o,a=i.value,s="$1"+e+a.charAt(0).toUpperCase()+a.slice(1),u=new RegExp("([^\\.])(\\b"+a+"\\b)","g"),c=l(n.entries());try{for(c.s();!(o=c.n()).done;){var h=o.value;null!==h[1]&&n.set(h[0],h[1].replace(u,s))}}catch(e){c.e(e)}finally{c.f()}}}catch(e){r.e(e)}finally{r.f()}}new Float32Array([255/256/Math.pow(256,3),255/256/Math.pow(256,2),255/256/256,255/256]);var G=function(){h(t,R);var e=d(t);function t(n){var i;m(this,t),(i=e.call(this,"EffectPass")).fullscreenMaterial=new M(null,null,null,n),i.listener=function(e){return i.handleEvent(e)},i.effects=[];for(var r=arguments.length,o=new Array(1<r?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return i.setEffects(o),i.skipRendering=!1,i.minTime=1,i.maxTime=Number.POSITIVE_INFINITY,i}return g(t,[{key:"encodeOutput",get:function(){return this.fullscreenMaterial.encodeOutput},set:function(e){this.fullscreenMaterial.encodeOutput=e}},{key:"dithering",get:function(){return this.fullscreenMaterial.dithering},set:function(e){var t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}},{key:"setEffects",value:function(e){var t,n=l(this.effects);try{for(n.s();!(t=n.n()).done;)t.value.removeEventListener("change",this.listener)}catch(e){n.e(e)}finally{n.f()}this.effects=e.sort((function(e,t){return t.attributes-e.attributes}));var i,r=l(this.effects);try{for(r.s();!(i=r.n()).done;)i.value.addEventListener("change",this.listener)}catch(e){r.e(e)}finally{r.f()}}},{key:"updateMaterial",value:function(){var e,t=new J,n=0,r=l(this.effects);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(9===o.blendMode.blendFunction)t.attributes|=1&o.getAttributes();else{if(0!=(t.attributes&o.getAttributes()&2))throw new Error("Convolution effects cannot be merged (".concat(o.name,")"));!function(e,t,n){var r=t.getFragmentShader(),o=t.getVertexShader(),a=void 0!==r&&/mainImage/.test(r),s=void 0!==r&&/mainUv/.test(r);if(n.attributes|=t.getAttributes(),void 0===r)throw new Error("Missing fragment shader (".concat(t.name,")"));if(s&&0!=(2&n.attributes))throw new Error("Effects that transform UVs are incompatible with convolution effects (".concat(t.name,")"));if(!a&&!s)throw new Error("Could not find mainImage or mainUv function (".concat(t.name,")"));var u=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,c=n.shaderParts,h=null!=(h=c.get(b.FRAGMENT_HEAD))?h:"",d=null!=(d=c.get(b.FRAGMENT_MAIN_UV))?d:"",f=null!=(f=c.get(b.FRAGMENT_MAIN_IMAGE))?f:"",p=null!=(p=c.get(b.VERTEX_HEAD))?p:"",m=null!=(m=c.get(b.VERTEX_MAIN_SUPPORT))?m:"",v=new Set,g=new Set;if(s&&(d+="\t".concat(e,"MainUv(UV);\n"),n.uvTransformation=!0),null!==o&&/mainSupport/.test(o)){s=/mainSupport *\([\w\s]*?uv\s*?\)/.test(o);var y,_=(m=m+"\t".concat(e,"MainSupport(")+(s?"vUv);\n":");\n"),l(o.matchAll(/(?:varying\s+\w+\s+(\w*))/g)));try{for(_.s();!(y=_.n()).done;){var w=y.value;n.varyings.add(w[1]),v.add(w[1]),g.add(w[1])}}catch(t){_.e(t)}finally{_.f()}var x,S=l(o.matchAll(u));try{for(S.s();!(x=S.n()).done;){var A=x.value;g.add(A[1])}}catch(t){S.e(t)}finally{S.f()}}var C,M=l(r.matchAll(u));try{for(M.s();!(C=M.n()).done;){var E=C.value;g.add(E[1])}}catch(t){M.e(t)}finally{M.f()}var T,D=l(t.defines.keys());try{for(D.s();!(T=D.n()).done;){var P=T.value;g.add(P.replace(/\([\w\s,]*\)/g,""))}}catch(t){D.e(t)}finally{D.f()}var k,O=l(t.uniforms.keys());try{for(O.s();!(k=O.n()).done;){var R=k.value;g.add(R)}}catch(t){O.e(t)}finally{O.f()}if(g.delete("while"),g.delete("for"),g.delete("if"),t.uniforms.forEach((function(t,i){return n.uniforms.set(e+i.charAt(0).toUpperCase()+i.slice(1),t)})),t.defines.forEach((function(t,i){return n.defines.set(e+i.charAt(0).toUpperCase()+i.slice(1),t)})),s=new Map([["fragment",r],["vertex",o]]),H(e,g,n.defines),H(e,g,s),r=s.get("fragment"),o=s.get("vertex"),u=t.blendMode,n.blendModes.set(u.blendFunction,u),a&&(null!==t.inputColorSpace&&t.inputColorSpace!==n.colorSpace&&(f+=t.inputColorSpace===i.uc?"color0 = LinearTosRGB(color0);\n\t":"color0 = sRGBToLinear(color0);\n\t"),null!==t.outputColorSpace?n.colorSpace=t.outputColorSpace:null!==t.inputColorSpace&&(n.colorSpace=t.inputColorSpace),f+="".concat(e,"MainImage(color0, UV, "),0!=(1&n.attributes)&&/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/.test(r)&&(f+="depth, ",n.readDepth=!0),f+="color1);\n\t",n.uniforms.set(s=e+"BlendOpacity",u.opacity),f+="color0 = blend".concat(u.blendFunction,"(color0, color1, ").concat(s,");\n\n\t"),h+="uniform float ".concat(s,";\n\n")),null!==o&&(p+=o+"\n"),c.set(b.FRAGMENT_HEAD,h+=r+"\n"),c.set(b.FRAGMENT_MAIN_UV,d),c.set(b.FRAGMENT_MAIN_IMAGE,f),c.set(b.VERTEX_HEAD,p),c.set(b.VERTEX_MAIN_SUPPORT,m),null!==t.extensions){var L,B=l(t.extensions);try{for(B.s();!(L=B.n()).done;){var I=L.value;n.extensions.add(I)}}catch(t){B.e(t)}finally{B.f()}}}("e"+n++,o,t)}}}catch(e){r.e(e)}finally{r.f()}var a,s=t.shaderParts.get(b.FRAGMENT_HEAD),u=t.shaderParts.get(b.FRAGMENT_MAIN_IMAGE),c=t.shaderParts.get(b.FRAGMENT_MAIN_UV),h=/\bblend\b/g,d=l(t.blendModes.values());try{for(d.s();!(a=d.n()).done;){var f=a.value;s+=f.getShaderCode().replace(h,"blend".concat(f.blendFunction))+"\n"}}catch(e){d.e(e)}finally{d.f()}0!=(1&t.attributes)?(t.readDepth&&(u="float depth = readDepth(UV);\n\n\t"+u),this.needsDepthTexture=null===this.getDepthTexture()):this.needsDepthTexture=!1,t.colorSpace===i.uc&&(u+="color0 = sRGBToLinear(color0);\n\t"),t.uvTransformation?(c="vec2 transformedUv = vUv;\n"+c,t.defines.set("UV","transformedUv")):t.defines.set("UV","vUv"),t.shaderParts.set(b.FRAGMENT_HEAD,s),t.shaderParts.set(b.FRAGMENT_MAIN_IMAGE,u),t.shaderParts.set(b.FRAGMENT_MAIN_UV,c),t.shaderParts.forEach((function(e,t,n){return n.set(t,null==e?void 0:e.trim().replace(/^#/,"\n#"))})),this.skipRendering=0===n,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(t)}},{key:"recompile",value:function(){this.updateMaterial()}},{key:"getDepthTexture",value:function(){return this.fullscreenMaterial.depthBuffer}},{key:"setDepthTexture",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.f,r=(this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=n,l(this.effects));try{for(r.s();!(t=r.n()).done;)t.value.setDepthTexture(e,n)}catch(e){r.e(e)}finally{r.f()}}},{key:"render",value:function(e,t,n,i,r){var o,a,s=l(this.effects);try{for(s.s();!(o=s.n()).done;)o.value.update(e,t,i)}catch(e){s.e(e)}finally{s.f()}this.skipRendering&&!this.renderToScreen||((a=this.fullscreenMaterial).inputBuffer=t.texture,a.time+=i,e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera))}},{key:"setSize",value:function(e,t){this.fullscreenMaterial.setSize(e,t);var n,i=l(this.effects);try{for(i.s();!(n=i.n()).done;)n.value.setSize(e,t)}catch(e){i.e(e)}finally{i.f()}}},{key:"initialize",value:function(e,t,n){this.renderer=e;var r,o=l(this.effects);try{for(o.s();!(r=o.n()).done;)r.value.initialize(e,t,n)}catch(e){o.e(e)}finally{o.f()}this.updateMaterial(),void 0!==n&&n!==i.kc&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},{key:"dispose",value:function(){a(p(t.prototype),"dispose",this).call(this);var e,n=l(this.effects);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.removeEventListener("change",this.listener),i.dispose()}}catch(e){n.e(e)}finally{n.f()}}},{key:"handleEvent",value:function(e){"change"===e.type&&this.recompile()}}]),t}(),V=function(){h(t,R);var e=d(t);function t(){var n,r,o=void 0===(o=((l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).kernelSize,l.resolutionScale))?.5:o,a=void 0===(a=l.width)?z.AUTO_SIZE:a,s=void 0===(s=l.height)?z.AUTO_SIZE:s,l=(a=void 0===(r=l.resolutionX)?a:r,void 0===(r=l.resolutionY)?s:r),u=(m(this,t),(n=e.call(this,"KawaseBlurPass")).renderTargetA=new i.sc(1,1,{depthBuffer:!1}),n.renderTargetA.texture.name="Blur.Target.A",n.renderTargetB=n.renderTargetA.clone(),n.renderTargetB.texture.name="Blur.Target.B",n.resolution=new z(f(n),a,l,o));return u.addEventListener("change",(function(e){return n.setSize(u.baseWidth,u.baseHeight)})),n.blurMaterial=new w,n.copyMaterial=new x,n}return g(t,[{key:"getResolution",value:function(){return this.resolution}},{key:"dithering",get:function(){return this.copyMaterial.dithering},set:function(e){this.copyMaterial.dithering=e}},{key:"kernelSize",get:function(){return this.blurMaterial.kernelSize},set:function(e){this.blurMaterial.kernelSize=e}},{key:"width",get:function(){return this.resolution.width},set:function(e){this.resolution.preferredWidth=e}},{key:"height",get:function(){return this.resolution.height},set:function(e){this.resolution.preferredHeight=e}},{key:"scale",get:function(){return this.blurMaterial.scale},set:function(e){this.blurMaterial.scale=e}},{key:"getScale",value:function(){return this.blurMaterial.scale}},{key:"setScale",value:function(e){this.blurMaterial.scale=e}},{key:"getKernelSize",value:function(){return this.kernelSize}},{key:"setKernelSize",value:function(e){this.kernelSize=e}},{key:"getResolutionScale",value:function(){return this.resolution.scale}},{key:"setResolutionScale",value:function(e){this.resolution.scale=e}},{key:"render",value:function(e,t,n,i,r){var o=this.scene,a=this.camera,s=this.renderTargetA,l=this.renderTargetB,u=this.blurMaterial,c=u.kernelSequence,h=t;this.fullscreenMaterial=u;for(var d=0,f=c.length;d<f;++d){var p=0==(1&d)?s:l;u.kernel=c[d],u.inputBuffer=h.texture,e.setRenderTarget(p),e.render(o,a),h=p}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=h.texture,e.setRenderTarget(this.renderToScreen?null:n),e.render(o,a)}},{key:"setSize",value:function(e,t){var n=((i=this.resolution).setBaseSize(e,t),i.width),i=i.height;this.renderTargetA.setSize(n,i),this.renderTargetB.setSize(n,i),this.blurMaterial.setSize(e,t)}},{key:"initialize",value:function(e,t,n){void 0!==n&&(this.renderTargetA.texture.type=n,(this.renderTargetB.texture.type=n)!==i.kc?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e.outputEncoding===i.uc&&(this.renderTargetA.texture.encoding=i.uc,this.renderTargetB.texture.encoding=i.uc))}}],[{key:"AUTO_SIZE",get:function(){return z.AUTO_SIZE}}]),t}(),W=function(){h(t,R);var e=d(t);function t(){var n,r,o=(h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).renderTarget,a=h.luminanceRange,s=h.colorOutput,l=void 0===(l=h.resolutionScale)?1:l,u=void 0===(u=h.width)?z.AUTO_SIZE:u,c=void 0===(c=h.height)?z.AUTO_SIZE:c,h=(u=void 0===(r=h.resolutionX)?u:r,void 0===(r=h.resolutionY)?c:r),d=(m(this,t),(n=e.call(this,"LuminancePass")).fullscreenMaterial=new T(s,a),n.needsSwap=!1,n.renderTarget=o,void 0===n.renderTarget&&(n.renderTarget=new i.sc(1,1,{depthBuffer:!1}),n.renderTarget.texture.name="LuminancePass.Target"),n.resolution=new z(f(n),u,h,l));return d.addEventListener("change",(function(e){return n.setSize(d.baseWidth,d.baseHeight)})),n}return g(t,[{key:"texture",get:function(){return this.renderTarget.texture}},{key:"getTexture",value:function(){return this.renderTarget.texture}},{key:"getResolution",value:function(){return this.resolution}},{key:"render",value:function(e,t,n,i,r){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}},{key:"setSize",value:function(e,t){var n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}},{key:"initialize",value:function(e,t,n){void 0!==n&&n!==i.kc&&(this.renderTarget.texture.type=n,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}}]),t}(),Y=function(){h(t,R);var e=d(t);function t(n,i){return m(this,t),(n=e.call(this,"MaskPass",n,i)).needsSwap=!1,n.clearPass=new F(!1,!1,!0),n.inverse=!1,n}return g(t,[{key:"inverted",get:function(){return this.inverse},set:function(e){this.inverse=e}},{key:"clear",get:function(){return this.clearPass.enabled},set:function(e){this.clearPass.enabled=e}},{key:"getClearPass",value:function(){return this.clearPass}},{key:"isInverted",value:function(){return this.inverted}},{key:"setInverted",value:function(e){this.inverted=e}},{key:"render",value:function(e,t,n,i,r){var o=e.getContext(),a=e.state.buffers,s=this.scene,l=this.camera,u=this.clearPass,c=this.inverted?0:1,h=1-c;a.color.setMask(!1),a.depth.setMask(!1),a.color.setLocked(!0),a.depth.setLocked(!0),a.stencil.setTest(!0),a.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),a.stencil.setFunc(o.ALWAYS,c,4294967295),a.stencil.setClear(h),a.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?u.render(e,null):(u.render(e,t),u.render(e,n))),this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(t),e.render(s,l),e.setRenderTarget(n)),e.render(s,l),a.color.setLocked(!1),a.depth.setLocked(!1),a.stencil.setLocked(!1),a.stencil.setFunc(o.EQUAL,1,4294967295),a.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),a.stencil.setLocked(!0)}}]),t}(),q=function(){h(t,R);var e=d(t);function t(){var n;return m(this,t),(n=e.call(this,"MipmapBlurPass")).needsSwap=!1,n.renderTarget=new i.sc(1,1,{depthBuffer:!1}),n.renderTarget.texture.name="Upsampling.Mipmap0",n.downsamplingMipmaps=[],n.upsamplingMipmaps=[],n.downsamplingMaterial=new A,n.upsamplingMaterial=new P,n.resolution=new i.nc,n}return g(t,[{key:"texture",get:function(){return this.renderTarget.texture}},{key:"levels",get:function(){return this.downsamplingMipmaps.length},set:function(e){if(this.levels!==e){var t=this.renderTarget;this.dispose();for(var n=0;n<e;++n){var i=t.clone();i.texture.name="Downsampling.Mipmap"+n,this.downsamplingMipmaps.push(i)}this.upsamplingMipmaps.push(t);for(var r=1,o=e-1;r<o;++r){var a=t.clone();a.texture.name="Upsampling.Mipmap"+r,this.upsamplingMipmaps.push(a)}this.setSize(this.resolution.x,this.resolution.y)}}},{key:"radius",get:function(){return this.upsamplingMaterial.radius},set:function(e){this.upsamplingMaterial.radius=e}},{key:"render",value:function(e,t,n,i,r){var o=this.scene,a=this.camera,s=this.downsamplingMaterial,l=this.upsamplingMaterial,u=this.downsamplingMipmaps,c=this.upsamplingMipmaps,h=t;this.fullscreenMaterial=s;for(var d=0,f=u.length;d<f;++d){var p=u[d];s.setSize(h.width,h.height),s.inputBuffer=h.texture,e.setRenderTarget(p),e.render(o,a),h=p}this.fullscreenMaterial=l;for(var m=c.length-1;0<=m;--m){var v=c[m];l.setSize(h.width,h.height),l.inputBuffer=h.texture,l.supportBuffer=u[m].texture,e.setRenderTarget(v),e.render(o,a),h=v}}},{key:"setSize",value:function(e,t){for(var n=this.resolution,i=(n.set(e,t),n.width),r=n.height,o=0,a=this.downsamplingMipmaps.length;o<a;++o)i=Math.round(.5*i),r=Math.round(.5*r),this.downsamplingMipmaps[o].setSize(i,r),o<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[o].setSize(i,r)}},{key:"initialize",value:function(e,t,n){if(void 0!==n){var r,o=this.downsamplingMipmaps.concat(this.upsamplingMipmaps),a=l(o);try{for(a.s();!(r=a.n()).done;)r.value.texture.type=n}catch(e){a.e(e)}finally{a.f()}if(n!==i.kc)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(e.outputEncoding===i.uc){var s,u=l(o);try{for(u.s();!(s=u.n()).done;)s.value.texture.encoding=i.uc}catch(e){u.e(e)}finally{u.f()}}}}},{key:"dispose",value:function(){a(p(t.prototype),"dispose",this).call(this);var e,n=l(this.downsamplingMipmaps.concat(this.upsamplingMipmaps));try{for(n.s();!(e=n.n()).done;)e.value.dispose()}catch(e){n.e(e)}finally{n.f()}}}]),t}(),X=function(){h(t,R);var e=d(t);function t(n){var i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"inputBuffer";return m(this,t),(i=e.call(this,"ShaderPass")).fullscreenMaterial=n,i.input=r,i}return g(t,[{key:"setInput",value:function(e){}},{key:"render",value:function(e,t,n,i,r){var o=this.fullscreenMaterial.uniforms;null!==t&&void 0!==o&&void 0!==o[this.input]&&(o[this.input].value=t.texture),e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}},{key:"initialize",value:function(e,t,n){void 0!==n&&n!==i.kc&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}}]),t}(),Q=function(){function e(){m(this,e),this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}return g(e,[{key:"setFixedDeltaEnabled",value:function(e){return this.fixedDeltaEnabled=e,this}},{key:"isAutoResetEnabled",value:function(e){return this.autoReset}},{key:"setAutoResetEnabled",value:function(e){return"undefined"!=typeof document&&void 0!==document.hidden&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=e),this}},{key:"getDelta",value:function(){return.001*this.delta}},{key:"getFixedDelta",value:function(){return.001*this.fixedDelta}},{key:"setFixedDelta",value:function(e){return this.fixedDelta=1e3*e,this}},{key:"getElapsed",value:function(){return.001*this.elapsed}},{key:"getTimescale",value:function(){return this.timescale}},{key:"setTimescale",value:function(e){return this.timescale=e,this}},{key:"update",value:function(e){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=void 0!==e?e:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}},{key:"reset",value:function(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}},{key:"handleEvent",value:function(e){document.hidden||(this.currentTime=performance.now())}},{key:"dispose",value:function(){this.setAutoResetEnabled(!1)}}]),e}(),K=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=void 0===(n=(o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).depthBuffer)||n,i=void 0!==(i=o.stencilBuffer)&&i,r=void 0===(r=o.multisampling)?0:r,o=o.frameBufferType;m(this,e),this.renderer=null,this.inputBuffer=this.createBuffer(n,i,o,r),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new L,this.depthTexture=null,this.passes=[],this.timer=new Q,this.autoRenderToScreen=!0,this.setRenderer(t)}return g(e,[{key:"multisampling",get:function(){return this.inputBuffer.samples||0},set:function(e){var t=this.inputBuffer,n=this.multisampling;0<n&&0<e?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):n!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}},{key:"getTimer",value:function(){return this.timer}},{key:"getRenderer",value:function(){return this.renderer}},{key:"setRenderer",value:function(e){if(null!==(this.renderer=e)){var t,n=e.getSize(new i.nc),r=e.getContext().getContextAttributes().alpha,o=this.inputBuffer.texture.type,a=(o===i.kc&&e.outputEncoding===i.uc&&(this.inputBuffer.texture.encoding=i.uc,this.outputBuffer.texture.encoding=i.uc,this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(n.width,n.height),l(this.passes));try{for(a.s();!(t=a.n()).done;)t.value.initialize(e,r,o)}catch(e){a.e(e)}finally{a.f()}}}},{key:"replaceRenderer",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.renderer,i=n.domElement.parentNode;return this.setRenderer(e),t&&null!==i&&(i.removeChild(n.domElement),i.appendChild(e.domElement)),n}},{key:"createDepthTexture",value:function(){var e=this.depthTexture=new i.v;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=i.u,e.type=i.lc):e.type=i.mc,e}},{key:"deleteDepthTexture",value:function(){if(null!==this.depthTexture){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();var e,t=l(this.passes);try{for(t.s();!(e=t.n()).done;)e.value.setDepthTexture(null)}catch(e){t.e(e)}finally{t.f()}}}},{key:"createBuffer",value:function(e,t,n,r){var o,a=this.renderer,s=null===a?new i.nc:a.getDrawingBufferSize(new i.nc);t={minFilter:i.Z,magFilter:i.Z,stencilBuffer:t,depthBuffer:e,type:n};return 0<r?((o=new(Number(i.Jb.replace(/\D+/g,""))<138?i.rc:i.sc)(s.width,s.height,t)).ignoreDepthForMultisampleCopy=!1,o.samples=r):o=new i.sc(s.width,s.height,t),n===i.kc&&null!==a&&a.outputEncoding===i.uc&&(o.texture.encoding=i.uc),o.texture.name="EffectComposer.Buffer",o.texture.generateMipmaps=!1,o}},{key:"addPass",value:function(e,t){var n=this.passes,r=this.renderer,o=r.getDrawingBufferSize(new i.nc),a=r.getContext().getContextAttributes().alpha,s=this.inputBuffer.texture.type;if(e.setRenderer(r),e.setSize(o.width,o.height),e.initialize(r,a,s),this.autoRenderToScreen&&(0<n.length&&(n[n.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),void 0!==t?n.splice(t,0,e):n.push(e),this.autoRenderToScreen&&(n[n.length-1].renderToScreen=!0),e.needsDepthTexture||null!==this.depthTexture)if(null===this.depthTexture){var u,c=this.createDepthTexture(),h=l(n);try{for(h.s();!(u=h.n()).done;)(e=u.value).setDepthTexture(c)}catch(e){h.e(e)}finally{h.f()}}else e.setDepthTexture(this.depthTexture)}},{key:"removePass",value:function(e){var t=this.passes,n=t.indexOf(e);-1!==n&&0<t.splice(n,1).length&&(null===this.depthTexture||t.reduce((function(e,t){return e||t.needsDepthTexture}),!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture()),this.autoRenderToScreen&&n===t.length&&(e.renderToScreen=!1,0<t.length&&(t[t.length-1].renderToScreen=!0)))}},{key:"removeAllPasses",value:function(){var e=this.passes;this.deleteDepthTexture(),0<e.length&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}},{key:"render",value:function(e){var t,n,i,r,o=this.renderer,a=this.copyPass,s=this.inputBuffer,u=this.outputBuffer,c=!1,h=(void 0===e&&(e=this.timer.update().getDelta()),l(this.passes));try{for(h.s();!(r=h.n()).done;){var d=r.value;d.enabled&&(d.render(o,s,u,e,c),d.needsSwap&&(c&&(a.renderToScreen=d.renderToScreen,t=o.getContext(),(n=o.state.buffers.stencil).setFunc(t.NOTEQUAL,1,4294967295),a.render(o,s,u,e,c),n.setFunc(t.EQUAL,1,4294967295)),i=s,s=u,u=i),d instanceof Y?c=!0:d instanceof B&&(c=!1))}}catch(e){h.e(e)}finally{h.f()}}},{key:"setSize",value:function(e,t,n){var r,o,a=this.renderer,s=(void 0!==e&&void 0!==t||(e=(r=a.getSize(new i.nc)).width,t=r.height),a.setSize(e,t,n),a.getDrawingBufferSize(new i.nc)),u=(this.inputBuffer.setSize(s.width,s.height),this.outputBuffer.setSize(s.width,s.height),l(this.passes));try{for(u.s();!(o=u.n()).done;)o.value.setSize(s.width,s.height)}catch(e){u.e(e)}finally{u.f()}}},{key:"reset",value:function(){var e=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(e)}},{key:"dispose",value:function(){var e,t=l(this.passes);try{for(t.s();!(e=t.n()).done;)e.value.dispose()}catch(e){t.e(e)}finally{t.f()}this.passes=[],null!==this.inputBuffer&&this.inputBuffer.dispose(),null!==this.outputBuffer&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}}]),e}(),J=g((function e(){m(this,e),this.shaderParts=new Map([[b.FRAGMENT_HEAD,null],[b.FRAGMENT_MAIN_UV,null],[b.FRAGMENT_MAIN_IMAGE,null],[b.VERTEX_HEAD,null],[b.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=0,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=i.Y})),Z=new Map([[t,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}"],[n,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}"],[2,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}"],[3,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[4,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}"],[5,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}"],[6,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}"],[7,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}"],[8,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}"],[9,null],[10,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}"],[11,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}"],[12,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}"],[13,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}"],[14,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}"],[15,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}"],[16,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}"],[17,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}"],[18,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}"],[19,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}"],[20,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[21,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}"],[22,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}"],[23,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}"],[24,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}"],[25,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}"],[26,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}"],[27,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[28,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}"],[29,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}"],[30,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}"],[31,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}"],[32,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}"]]),$=function(){h(t,i.B);var e=d(t);function t(n){var r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return m(this,t),(r=e.call(this))._blendFunction=n,r.opacity=new i.ic(o),r}return g(t,[{key:"getOpacity",value:function(){return this.opacity.value}},{key:"setOpacity",value:function(e){this.opacity.value=e}},{key:"blendFunction",get:function(){return this._blendFunction},set:function(e){this._blendFunction=e,this.dispatchEvent({type:"change"})}},{key:"getBlendFunction",value:function(){return this.blendFunction}},{key:"setBlendFunction",value:function(e){this.blendFunction=e}},{key:"getShaderCode",value:function(){return Z.get(this.blendFunction)}}]),t}(),ee=function(){h(t,i.B);var e=d(t);function t(n,r){var o,a=void 0===(a=(h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).attributes)?0:a,s=void 0===(s=h.blendFunction)?23:s,l=void 0===(l=h.defines)?new Map:l,u=void 0===(u=h.uniforms)?new Map:u,c=void 0===(c=h.extensions)?null:c,h=void 0===(h=h.vertexShader)?null:h;return m(this,t),(o=e.call(this)).name=n,o.renderer=null,o.attributes=a,o.fragmentShader=r,o.vertexShader=h,o.defines=l,o.uniforms=u,o.extensions=c,o.blendMode=new $(s),o.blendMode.addEventListener("change",(function(e){return o.setChanged()})),o._inputColorSpace=i.Y,o._outputColorSpace=null,o}return g(t,[{key:"inputColorSpace",get:function(){return this._inputColorSpace},set:function(e){this._inputColorSpace=e,this.setChanged()}},{key:"outputColorSpace",get:function(){return this._outputColorSpace},set:function(e){this._outputColorSpace=e,this.setChanged()}},{key:"getName",value:function(){return this.name}},{key:"setRenderer",value:function(e){this.renderer=e}},{key:"getDefines",value:function(){return this.defines}},{key:"getUniforms",value:function(){return this.uniforms}},{key:"getExtensions",value:function(){return this.extensions}},{key:"getBlendMode",value:function(){return this.blendMode}},{key:"getAttributes",value:function(){return this.attributes}},{key:"setAttributes",value:function(e){this.attributes=e,this.setChanged()}},{key:"getFragmentShader",value:function(){return this.fragmentShader}},{key:"setFragmentShader",value:function(e){this.fragmentShader=e,this.setChanged()}},{key:"getVertexShader",value:function(){return this.vertexShader}},{key:"setVertexShader",value:function(e){this.vertexShader=e,this.setChanged()}},{key:"setChanged",value:function(){this.dispatchEvent({type:"change"})}},{key:"setDepthTexture",value:function(e){1<arguments.length&&void 0!==arguments[1]||i.f}},{key:"update",value:function(e,t,n){}},{key:"setSize",value:function(e,t){}},{key:"initialize",value:function(e,t,n){}},{key:"dispose",value:function(){for(var e=0,t=Object.keys(this);e<t.length;e++){var n=t[e],r=this[n];(r instanceof i.sc||r instanceof i.hb||r instanceof i.dc||r instanceof R)&&this[n].dispose()}}}]),t}(),te=function(){h(t,ee);var e=d(t);function t(){var n,r,o=void 0===(o=(y=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).blendFunction)?28:o,a=void 0===(a=y.luminanceThreshold)?.9:a,s=void 0===(s=y.luminanceSmoothing)?.025:s,l=void 0!==(l=y.mipmapBlur)&&l,u=void 0===(u=y.intensity)?1:u,c=void 0===(c=y.radius)?.85:c,h=void 0===(h=y.levels)?8:h,d=void 0===(d=y.kernelSize)?3:d,p=void 0===(p=y.resolutionScale)?.5:p,v=void 0===(v=y.width)?z.AUTO_SIZE:v,g=void 0===(g=y.height)?z.AUTO_SIZE:g,y=(v=void 0===(r=y.resolutionX)?v:r,void 0===(r=y.resolutionY)?g:r),b=(m(this,t),(n=e.call(this,"BloomEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nuniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}",{blendFunction:o,uniforms:new Map([["map",new i.ic(null)],["intensity",new i.ic(u)]])})).renderTarget=new i.sc(1,1,{depthBuffer:!1}),n.renderTarget.texture.name="Bloom.Target",n.blurPass=new V({kernelSize:d}),n.luminancePass=new W({colorOutput:!0}),n.luminanceMaterial.threshold=a,n.luminanceMaterial.smoothing=s,n.mipmapBlurPass=new q,n.mipmapBlurPass.enabled=l,n.mipmapBlurPass.radius=c,n.mipmapBlurPass.levels=h,n.uniforms.get("map").value=(l?n.mipmapBlurPass:n.renderTarget).texture,n.resolution=new z(f(n),v,y,p));return b.addEventListener("change",(function(e){return n.setSize(b.baseWidth,b.baseHeight)})),n}return g(t,[{key:"texture",get:function(){return(this.mipmapBlurPass.enabled?this.mipmapBlurPass:this.renderTarget).texture}},{key:"getTexture",value:function(){return this.texture}},{key:"getResolution",value:function(){return this.resolution}},{key:"getBlurPass",value:function(){return this.blurPass}},{key:"getLuminancePass",value:function(){return this.luminancePass}},{key:"luminanceMaterial",get:function(){return this.luminancePass.fullscreenMaterial}},{key:"getLuminanceMaterial",value:function(){return this.luminancePass.fullscreenMaterial}},{key:"width",get:function(){return this.resolution.width},set:function(e){this.resolution.preferredWidth=e}},{key:"height",get:function(){return this.resolution.height},set:function(e){this.resolution.preferredHeight=e}},{key:"dithering",get:function(){return this.blurPass.dithering},set:function(e){this.blurPass.dithering=e}},{key:"kernelSize",get:function(){return this.blurPass.kernelSize},set:function(e){this.blurPass.kernelSize=e}},{key:"distinction",get:function(){return 1},set:function(e){}},{key:"intensity",get:function(){return this.uniforms.get("intensity").value},set:function(e){this.uniforms.get("intensity").value=e}},{key:"getIntensity",value:function(){return this.intensity}},{key:"setIntensity",value:function(e){this.intensity=e}},{key:"getResolutionScale",value:function(){return this.resolution.scale}},{key:"setResolutionScale",value:function(e){this.resolution.scale=e}},{key:"update",value:function(e,t,n){var i=this.renderTarget,r=this.luminancePass;r.enabled?(r.render(e,t),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,r.renderTarget):this.blurPass.render(e,r.renderTarget,i)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,t):this.blurPass.render(e,t,i)}},{key:"setSize",value:function(e,t){var n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n),this.luminancePass.setSize(e,t),this.mipmapBlurPass.setSize(e,t)}},{key:"initialize",value:function(e,t,n){this.blurPass.initialize(e,t,n),this.luminancePass.initialize(e,t,n),this.mipmapBlurPass.initialize(e,t,n),void 0!==n&&(this.renderTarget.texture.type=n,e.outputEncoding===i.uc&&(this.renderTarget.texture.encoding=i.uc))}}]),t}(),ne=new i.oc,ie=new i.jb,re=function(){h(t,ee);var e=d(t);function t(n,r){var o,a,s=void 0===(s=(w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).blendFunction)?28:s,l=void 0===(l=w.samples)?60:l,u=void 0===(u=w.density)?.96:u,c=void 0===(c=w.decay)?.9:c,h=void 0===(h=w.weight)?.4:h,d=void 0===(d=w.exposure)?.6:d,p=void 0===(p=w.clampMax)?1:p,v=void 0===(v=w.blur)||v,g=void 0===(g=w.kernelSize)?1:g,y=void 0===(y=w.resolutionScale)?.5:y,b=void 0===(b=w.width)?z.AUTO_SIZE:b,_=void 0===(_=w.height)?z.AUTO_SIZE:_,w=(b=void 0===(a=w.resolutionX)?b:a,void 0===(a=w.resolutionY)?_:a),x=((a=((_=(m(this,t),(o=e.call(this,"GodRaysEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv);}",{blendFunction:s,attributes:1,uniforms:new Map([["map",new i.ic(null)]])})).camera=n,o.lightSource=r,o.lightSource.material.depthWrite=!1,o.lightSource.material.transparent=!0,o.lightScene=new i.Qb,o.screenPosition=new i.nc,o.renderTargetA=new i.sc(1,1,{depthBuffer:!1}),o.renderTargetA.texture.name="GodRays.Target.A",o.renderTargetB=o.renderTargetA.clone(),o.renderTargetB.texture.name="GodRays.Target.B",o.uniforms.get("map").value=o.renderTargetB.texture,o.renderTargetLight=new i.sc(1,1),o.renderTargetLight.texture.name="GodRays.Light",o.renderTargetLight.depthTexture=new i.v,o.renderPassLight=new j(o.lightScene,n),o.renderPassLight.clearPass.overrideClearColor=new i.q(0),o.clearPass=new F(!0,!1,!1),o.clearPass.overrideClearColor=new i.q(0),o.blurPass=new V({kernelSize:g}),o.blurPass.enabled=v,o.depthMaskPass=new X(new S),o.depthMaskPass.fullscreenMaterial)).depthBuffer1=o.renderTargetLight.depthTexture,_.adoptCameraSettings(n),o.godRaysPass=new X(new E(o.screenPosition)),o.godRaysPass.fullscreenMaterial)).density=u,a.decay=c,a.weight=h,a.exposure=d,a.maxIntensity=p,a.samples=l,o.resolution=new z(f(o),b,w,y));return x.addEventListener("change",(function(e){return o.setSize(x.baseWidth,x.baseHeight)})),o}return g(t,[{key:"getBlurPass",value:function(){return this.blurPass}},{key:"texture",get:function(){return this.renderTargetB.texture}},{key:"getTexture",value:function(){return this.texture}},{key:"depthMaskMaterial",get:function(){return this.depthMaskPass.fullscreenMaterial}},{key:"godRaysMaterial",get:function(){return this.godRaysPass.fullscreenMaterial}},{key:"getGodRaysMaterial",value:function(){return this.godRaysMaterial}},{key:"getResolution",value:function(){return this.resolution}},{key:"width",get:function(){return this.resolution.width},set:function(e){this.resolution.preferredWidth=e}},{key:"height",get:function(){return this.resolution.height},set:function(e){this.resolution.preferredHeight=e}},{key:"dithering",get:function(){return this.godRaysMaterial.dithering},set:function(e){var t=this.godRaysMaterial;t.dithering=e,t.needsUpdate=!0}},{key:"blur",get:function(){return this.blurPass.enabled},set:function(e){this.blurPass.enabled=e}},{key:"kernelSize",get:function(){return this.blurPass.kernelSize},set:function(e){this.blurPass.kernelSize=e}},{key:"getResolutionScale",value:function(){return this.resolution.scale}},{key:"setResolutionScale",value:function(e){this.resolution.scale=e}},{key:"samples",get:function(){return this.godRaysMaterial.samples},set:function(e){this.godRaysMaterial.samples=e}},{key:"setDepthTexture",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.f;this.depthMaskPass.fullscreenMaterial.depthBuffer0=e,this.depthMaskPass.fullscreenMaterial.depthPacking0=t}},{key:"update",value:function(e,t,n){var i=this.lightSource,r=i.parent,o=i.matrixAutoUpdate,a=this.renderTargetA,s=this.renderTargetLight;i.material.depthWrite=!0,i.matrixAutoUpdate=!1,i.updateWorldMatrix(!0,!1),null!==r&&(o||ie.copy(i.matrix),i.matrix.copy(i.matrixWorld)),this.lightScene.add(i),this.renderPassLight.render(e,s),this.clearPass.render(e,a),this.depthMaskPass.render(e,s,a),i.material.depthWrite=!1,i.matrixAutoUpdate=o,null!==r&&(o||i.matrix.copy(ie),r.add(i)),ne.setFromMatrixPosition(i.matrixWorld).project(this.camera),this.screenPosition.set(Math.min(Math.max(.5*(ne.x+1),-1),2),Math.min(Math.max(.5*(ne.y+1),-1),2)),this.blurPass.enabled&&this.blurPass.render(e,a,a),this.godRaysPass.render(e,a,this.renderTargetB)}},{key:"setSize",value:function(e,t){var n=this.resolution;n.setBaseSize(e,t),e=n.width,t=n.height;this.renderTargetA.setSize(e,t),this.renderTargetB.setSize(e,t),this.renderTargetLight.setSize(e,t),this.blurPass.resolution.copy(n)}},{key:"initialize",value:function(e,t,n){this.blurPass.initialize(e,t,n),this.renderPassLight.initialize(e,t,n),this.depthMaskPass.initialize(e,t,n),this.godRaysPass.initialize(e,t,n),void 0!==n&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,this.renderTargetLight.texture.type=n,e.outputEncoding===i.uc&&(this.renderTargetA.texture.encoding=i.uc,this.renderTargetB.texture.encoding=i.uc,this.renderTargetLight.texture.encoding=i.uc))}}]),t}();function oe(e,t,n){return e+(t-e)*n}function ae(e,t,n,i){return e=oe(e,t,.75),t=oe(n,i,.75),oe(e,t,.875)}new i.q,new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array(2),new Float32Array(2),new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]),ae(0,0,0,0),new Float32Array([0,0,0,0]),ae(0,0,0,1),new Float32Array([0,0,0,1]),ae(0,0,1,0),new Float32Array([0,0,1,0]),ae(0,0,1,1),new Float32Array([0,0,1,1]),ae(0,1,0,0),new Float32Array([0,1,0,0]),ae(0,1,0,1),new Float32Array([0,1,0,1]),ae(0,1,1,0),new Float32Array([0,1,1,0]),ae(0,1,1,1),new Float32Array([0,1,1,1]),ae(1,0,0,0),new Float32Array([1,0,0,0]),ae(1,0,0,1),new Float32Array([1,0,0,1]),ae(1,0,1,0),new Float32Array([1,0,1,0]),ae(1,0,1,1),new Float32Array([1,0,1,1]),ae(1,1,0,0),new Float32Array([1,1,0,0]),ae(1,1,0,1),new Float32Array([1,1,0,1]),ae(1,1,1,0),new Float32Array([1,1,1,0]),ae(1,1,1,1),new Float32Array([1,1,1,1]),Math.PI,new i.oc,new i.oc;var se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",le="data:image/png;base64,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",ue=function(){h(t,ee);var e=d(t);function t(){var n,r,o,a=void 0===(a=(u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).blendFunction)?30:a,s=void 0===(s=u.preset)?1:s,l=void 0===(l=u.edgeDetectionMode)?2:l,u=void 0===(u=u.predicationMode)?0:u,c=(m(this,t),n=e.call(this,"SMAAEffect","uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",{vertexShader:"varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",blendFunction:a,attributes:3,uniforms:new Map([["weightMap",new i.ic(null)]])}),1<arguments.length&&(r=arguments[0],o=arguments[1],2<arguments.length&&(s=arguments[2]),3<arguments.length&&(l=arguments[3])),n.renderTargetEdges=new i.sc(1,1,{depthBuffer:!1}),n.renderTargetEdges.texture.name="SMAA.Edges",n.renderTargetWeights=n.renderTargetEdges.clone(),n.renderTargetWeights.texture.name="SMAA.Weights",n.uniforms.get("weightMap").value=n.renderTargetWeights.texture,n.clearPass=new F(!0,!1,!1),n.clearPass.overrideClearColor=new i.q(0),n.clearPass.overrideClearAlpha=1,n.edgeDetectionPass=new X(new C),n.edgeDetectionMaterial.edgeDetectionMode=l,n.edgeDetectionMaterial.predicationMode=u,n.weightsPass=new X(new D),new i.eb);return c.onLoad=function(){var e;(e=((e=new i.dc(r)).name="SMAA.Search",e.magFilter=i.rb,e.minFilter=i.rb,e.generateMipmaps=!1,e.needsUpdate=!0,e.flipY=!0,n.weightsMaterial.searchTexture=e,new i.dc(o))).name="SMAA.Area",e.magFilter=i.Z,e.minFilter=i.Z,e.generateMipmaps=!1,e.needsUpdate=!0,e.flipY=!1,n.weightsMaterial.areaTexture=e,n.dispatchEvent({type:"load"})},c.itemStart("search"),c.itemStart("area"),void 0!==r&&void 0!==o?(c.itemEnd("search"),c.itemEnd("area")):"undefined"!=typeof Image&&(r=new Image,o=new Image,r.addEventListener("load",(function(){return c.itemEnd("search")})),o.addEventListener("load",(function(){return c.itemEnd("area")})),r.src=se,o.src=le),n.applyPreset(s),n}return g(t,[{key:"edgesTexture",get:function(){return this.renderTargetEdges.texture}},{key:"getEdgesTexture",value:function(){return this.edgesTexture}},{key:"weightsTexture",get:function(){return this.renderTargetWeights.texture}},{key:"getWeightsTexture",value:function(){return this.weightsTexture}},{key:"edgeDetectionMaterial",get:function(){return this.edgeDetectionPass.fullscreenMaterial}},{key:"colorEdgesMaterial",get:function(){return this.edgeDetectionMaterial}},{key:"getEdgeDetectionMaterial",value:function(){return this.edgeDetectionMaterial}},{key:"weightsMaterial",get:function(){return this.weightsPass.fullscreenMaterial}},{key:"getWeightsMaterial",value:function(){return this.weightsMaterial}},{key:"setEdgeDetectionThreshold",value:function(e){this.edgeDetectionMaterial.edgeDetectionThreshold=e}},{key:"setOrthogonalSearchSteps",value:function(e){this.weightsMaterial.orthogonalSearchSteps=e}},{key:"applyPreset",value:function(e){var t=this.edgeDetectionMaterial,n=this.weightsMaterial;switch(e){case 0:t.edgeDetectionThreshold=.15,n.orthogonalSearchSteps=4,n.diagonalDetection=!1,n.cornerDetection=!1;break;case 1:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=8,n.diagonalDetection=!1,n.cornerDetection=!1;break;case 2:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=16,n.diagonalSearchSteps=8,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0;break;case 3:t.edgeDetectionThreshold=.05,n.orthogonalSearchSteps=32,n.diagonalSearchSteps=16,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0}}},{key:"setDepthTexture",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.f;this.edgeDetectionMaterial.depthBuffer=e,this.edgeDetectionMaterial.depthPacking=t}},{key:"update",value:function(e,t,n){this.clearPass.render(e,this.renderTargetEdges),this.edgeDetectionPass.render(e,t,this.renderTargetEdges),this.weightsPass.render(e,this.renderTargetEdges,this.renderTargetWeights)}},{key:"setSize",value:function(e,t){this.edgeDetectionMaterial.setSize(e,t),this.weightsMaterial.setSize(e,t),this.renderTargetEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t)}},{key:"dispose",value:function(){var e=(n=this.weightsMaterial).searchTexture,n=n.areaTexture;null!==e&&null!==n&&(e.dispose(),n.dispose()),a(p(t.prototype),"dispose",this).call(this)}}],[{key:"searchImageDataURL",get:function(){return se}},{key:"areaImageDataURL",get:function(){return le}}]),t}()},,,function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r,o=n(188),a=Object.prototype.toString,s=(r=Object.create(null),function(e){return e=a.call(e),r[e]||(r[e]=e.slice(8,-1).toLowerCase())});function l(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function u(e){return Array.isArray(e)}function c(e){return void 0===e}var h=l("ArrayBuffer");function d(e){return null!==e&&"object"===i(e)}function f(e){return"object"===s(e)&&(null===(e=Object.getPrototypeOf(e))||e===Object.prototype)}n=l("Date");var p=l("File"),m=l("Blob"),v=l("FileList");function g(e){return"[object Function]"===a.call(e)}var y,b=l("URLSearchParams");function _(e,t){if(null!=e)if(u(e="object"!==i(e)?[e]:e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}y="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),e.exports={isArray:u,isArrayBuffer:h,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||a.call(e)===t||g(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:d,isPlainObject:f,isUndefined:c,isDate:n,isFile:p,isBlob:m,isFunction:g,isStream:function(e){return d(e)&&g(e.pipe)},isURLSearchParams:b,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:_,merge:function e(){var t={};function n(n,i){f(t[i])&&f(n)?t[i]=e(t[i],n):f(n)?t[i]=e({},n):u(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)_(arguments[i],n);return t},extend:function(e,t,n){return _(t,(function(t,i){e[i]=n&&"function"==typeof t?o(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)?e.slice(1):e},inherits:function(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var i,r,o,a={};t=t||{};do{for(r=(i=Object.getOwnPropertyNames(e)).length;0<r--;)a[o=i[r]]||(t[o]=e[o],a[o]=!0)}while((e=Object.getPrototypeOf(e))&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:l,endsWith:function(e,t,n){return e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length,-1!==(e=e.indexOf(t,n))&&e===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);0<t--;)n[t]=e[t];return n},isTypedArray:function(e){return y&&e instanceof y},isFileList:v}},,function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.Scrollbar=null,this.hpDBBIsBusy=!1,this.useVideo=!1,this.isMobile=document.body.classList.contains("mobile"),this.isDesktop=!this.isMobile,this.dbbIsBusy=!1,this.dbbIndex=0,this.dbbVideoIsPlaying=!1,this.dbbCTAHovered=!1,this.slide3Hit=!1,this.loaderPause=!1,window.storeDebug=this}var t,n;return t=e,(n=[{key:"scrollTop",get:function(){return this.Scrollbar?this.Scrollbar.scrollTop:window.scrollY}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.a=new r},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a}));var i=/(?:^\s+|\s+$)/g,r=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function o(e){var t=e.nodeType,n="";if(1===t||9===t||11===t){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===t||4===t)return e.nodeValue;return n}function a(e,t,n,o){if(e+="",n&&(e=e.trim?e.trim():e.replace(i,"")),t&&""!==t)return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(t);for(var a,s,l=[],u=e.length,c=0;c<u;c++)(55296<=(s=e.charAt(c)).charCodeAt(0)&&s.charCodeAt(0)<=56319||65024<=e.charCodeAt(c+1)&&e.charCodeAt(c+1)<=65039)&&(a=((e.substr(c,12).split(r)||[])[1]||"").length||2,s=e.substr(c,a),c+=a-(l.emoji=1)),l.push(">"===s?"&gt;":"<"===s?"&lt;":!o||" "!==s||" "!==e.charAt(c-1)&&" "!==e.charAt(c+1)?s:"&nbsp;");return l}},function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n(38);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return f.getComputedStyle(e)}function a(e,t){var n=~(e=void 0===e?"":e).indexOf("++"),i=1;return n&&(e=e.split("++").join("")),function(){return"<"+t+" style='position:relative;display:inline-block;'"+(e?" class='"+e+(n?i++:"")+"'>":">")}}function s(e,t){for(var n=t.length;-1<--n;)e.push(t[n])}function l(e,t,n){for(var i;e&&e!==t;){if(i=e._next||e.nextSibling)return i.textContent.charAt(0)===n;e=e.parentNode||e._parent}}function u(e){for(var t,n=b(e.childNodes),i=n.length,r=0;r<i;r++)(t=n[r])._isSplit?u(t):r&&t.previousSibling&&3===t.previousSibling.nodeType?(t.previousSibling.nodeValue+=(3===t.nodeType?t:t.firstChild).nodeValue,e.removeChild(t)):3!==t.nodeType&&(e.insertBefore(t.firstChild,t),e.removeChild(t))}function c(e,t){return parseFloat(t[e])||0}function h(e,t,n,r){var a,s,l=b(e.childNodes),u=l.length,c=_(t);if(3!==e.nodeType||1<u){for(t.absolute=!1,a=0;a<u;a++)(s=l[a])._next=s._isFirst=s._parent=s._wordEnd=null,3===s.nodeType&&!/\S+/.test(s.nodeValue)||(c&&3!==s.nodeType&&"inline"===o(s).display&&(s.style.display="inline-block",s.style.position="relative"),s._isSplit=!0,h(s,t,n,r));t.absolute=c,e._isSplit=!0}else{var f,p,g,y,S,A,C,M=t,E=n,T=r,D=M.tag||(M.span?"span":"div"),P=~(M.type||M.split||"chars,words,lines").indexOf("chars"),k=_(M),O=M.wordDelimiter||" ",R=" "!==O?"":k?"&#173; ":" ",L="</"+D+">",B=1,I=M.specialChars?"function"==typeof M.specialChars?M.specialChars:w:null,F=(k=d.createElement("div"),e.parentNode);for(F.insertBefore(k,e),k.textContent=e.nodeValue,F.removeChild(e),e=k,k=-1!==(f=Object(i.c)(e)).indexOf("<"),!1!==M.reduceWhiteSpace&&(f=f.replace(v," ").replace(m,"")),S=(f=k?f.split("<").join("{{LT}}"):f).length,p=(" "===f.charAt(0)?R:"")+E(),g=0;g<S;g++)if(A=f.charAt(g),I&&(C=I(f.substr(g),M.specialChars)))A=f.substr(g,C||1),p+=P&&" "!==A?T()+A+"</"+D+">":A,g+=C-1;else if(A===O&&f.charAt(g-1)!==O&&g){for(p+=B?L:"",B=0;f.charAt(g+1)===O;)p+=R,g++;g===S-1?p+=R:")"!==f.charAt(g+1)&&(p+=R+E(),B=1)}else"{"===A&&"{{LT}}"===f.substr(g,6)?(p+=P?T()+"{{LT}}</"+D+">":"{{LT}}",g+=5):55296<=A.charCodeAt(0)&&A.charCodeAt(0)<=56319||65024<=f.charCodeAt(g+1)&&f.charCodeAt(g+1)<=65039?(y=((f.substr(g,12).split(i.a)||[])[1]||"").length||2,p+=P&&" "!==A?T()+f.substr(g,y)+"</"+D+">":f.substr(g,y),g+=y-1):p+=P&&" "!==A?T()+A+"</"+D+">":A;e.outerHTML=p+(B?L:""),k&&x(F,"{{LT}}","<")}}var d,f,p,m=/(?:\r|\n|\t\t)/g,v=/(?:\s\s+)/g,g=Array.isArray,y=[].slice,b=function(e,t){var n;return g(e)?e:"string"===(n=r(e))&&!t&&e?y.call(d.querySelectorAll(e),0):e&&"object"===n&&"length"in e?y.call(e,0):e?[e]:[]},_=function(e){return"absolute"===e.position||!0===e.absolute},w=function(e,t){for(var n,i=t.length;-1<--i;)if(n=t[i],e.substr(0,n.length)===n)return n.length},x=function e(t,n,i){var r=t.nodeType;if(1===r||9===r||11===r)for(t=t.firstChild;t;t=t.nextSibling)e(t,n,i);else 3!==r&&4!==r||(t.nodeValue=t.nodeValue.split(n).join(i))},S=function(){function e(e,t){p||(d=document,f=window,p=1),this.elements=b(e),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=t||{},this.split(t)}var t=e.prototype;return t.split=function(e){this.isSplit&&this.revert(),this.vars=e=e||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var t=this.elements.length,n=e.tag||(e.span?"span":"div"),i=a(e.wordsClass,n),r=a(e.charsClass,n);-1<--t;){k=this.elements[t],this._originals[t]=k.innerHTML,T=k.clientHeight,E=k.clientWidth,h(k,e,i,r),M=C=A=S=w=b=y=g=v=m=p=f=P=X=te=$=Q=X=W=V=G=I=void 0;var f,p,m,v,g,y,b,w,S,A,C,M,E,T,D=k,P=e,k=this.chars,O=this.words,R=this.lines,L=o(D),B=c("paddingLeft",L),I=-999,F=c("borderBottomWidth",L)+c("borderTopWidth",L),z=c("borderLeftWidth",L)+c("borderRightWidth",L),N=c("paddingTop",L)+c("paddingBottom",L),U=c("paddingLeft",L)+c("paddingRight",L),j=c("fontSize",L)*(P.lineThreshold||.2),H=L.textAlign,G=[],V=[],W=[],Y=P.wordDelimiter||" ",q=P.tag||(P.span?"span":"div"),X=P.type||P.split||"chars,words,lines",Q=R&&~X.indexOf("lines")?[]:null,K=~X.indexOf("words"),J=~X.indexOf("chars"),Z=_(P),$=P.linesClass,ee=~($||"").indexOf("++"),te=[];X="flex"===L.display,P=D.style.display;for(ee&&($=$.split("++").join("")),X&&(D.style.display="block"),m=(p=D.getElementsByTagName("*")).length,g=[],f=0;f<m;f++)g[f]=p[f];if(Q||Z)for(f=0;f<m;f++)((y=(v=g[f]).parentNode===D)||Z||J&&!K)&&(M=v.offsetTop,Q&&y&&Math.abs(M-I)>j&&("BR"!==v.nodeName||0===f)&&(Q.push(b=[]),I=M),Z&&(v._x=v.offsetLeft,v._y=M,v._w=v.offsetWidth,v._h=v.offsetHeight),Q&&((v._isSplit&&y||!J&&y||K&&y||!K&&v.parentNode.parentNode===D&&!v.parentNode._isSplit)&&(b.push(v),v._x-=B,l(v,D,Y)&&(v._wordEnd=!0)),"BR"===v.nodeName&&(v.nextSibling&&"BR"===v.nextSibling.nodeName||0===f)&&Q.push([])));for(f=0;f<m;f++)if(y=(v=g[f]).parentNode===D,"BR"===v.nodeName)Q||Z?(v.parentNode&&v.parentNode.removeChild(v),g.splice(f--,1),m--):K||D.appendChild(v);else if(Z&&(S=v.style,K||y||(v._x+=v.parentNode._x,v._y+=v.parentNode._y),S.left=v._x+"px",S.top=v._y+"px",S.position="absolute",S.display="block",S.width=v._w+1+"px",S.height=v._h+"px"),!K&&J)if(v._isSplit)for(v._next=p=v.nextSibling,v.parentNode.appendChild(v);p&&3===p.nodeType&&" "===p.textContent;)v._next=p.nextSibling,v.parentNode.appendChild(p),p=p.nextSibling;else v.parentNode._isSplit?(v._parent=v.parentNode,!v.previousSibling&&v.firstChild&&(v.firstChild._isFirst=!0),v.nextSibling&&" "===v.nextSibling.textContent&&!v.nextSibling.nextSibling&&te.push(v.nextSibling),v._next=v.nextSibling&&v.nextSibling._isFirst?null:v.nextSibling,v.parentNode.removeChild(v),g.splice(f--,1),m--):y||(M=!v.nextSibling&&l(v.parentNode,D,Y),v.parentNode._parent&&v.parentNode._parent.appendChild(v),M&&v.parentNode.appendChild(d.createTextNode(" ")),"span"===q&&(v.style.display="inline"),G.push(v));else v.parentNode._isSplit&&!v._isSplit&&""!==v.innerHTML?V.push(v):J&&!v._isSplit&&("span"===q&&(v.style.display="inline"),G.push(v));for(f=te.length;-1<--f;)te[f].parentNode.removeChild(te[f]);if(Q){for(Z&&(A=d.createElement(q),D.appendChild(A),C=A.offsetWidth+"px",M=A.offsetParent===D?0:D.offsetLeft,D.removeChild(A)),S=D.style.cssText,D.style.cssText="display:none;";D.firstChild;)D.removeChild(D.firstChild);for(w=" "===Y&&(!Z||!K&&!J),f=0;f<Q.length;f++){for(b=Q[f],(A=d.createElement(q)).style.cssText="display:block;text-align:"+H+";position:"+(Z?"absolute;":"relative;"),$&&(A.className=$+(ee?f+1:"")),W.push(A),m=b.length,p=0;p<m;p++)"BR"!==b[p].nodeName&&(v=b[p],A.appendChild(v),w&&v._wordEnd&&A.appendChild(d.createTextNode(" ")),Z&&(0===p&&(A.style.top=v._y+"px",A.style.left=B+M+"px"),v.style.top="0px",M&&(v.style.left=v._x-M+"px")));0===m?A.innerHTML="&nbsp;":K||J||(u(A),x(A,String.fromCharCode(160)," ")),Z&&(A.style.width=C,A.style.height=v._h+"px"),D.appendChild(A)}D.style.cssText=S}Z&&(T>D.clientHeight&&(D.style.height=T-N+"px",D.clientHeight<T&&(D.style.height=T+F+"px")),E>D.clientWidth&&(D.style.width=E-U+"px",D.clientWidth<E&&(D.style.width=E+z+"px"))),X&&(P?D.style.display=P:D.style.removeProperty("display")),s(k,G),K&&s(O,V),s(R,W)}return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},t.revert=function(){var e=this._originals;if(e)return this.elements.forEach((function(t,n){return t.innerHTML=e[n]})),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this;throw"revert() call wasn't scoped properly."},e.create=function(t,n){return new e(t,n)},e}();S.version="3.11.3"},,,,,function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)i.call(e,t)&&n.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e,t){e=r?r+e:e;var n=this._events[e];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var l,u=this._events[s],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,o),!0;case 6:return u.fn.call(u.context,t,n,i,o,a),!0}for(f=1,l=new Array(c-1);f<c;f++)l[f-1]=arguments[f];u.fn.apply(u.context,l)}else for(var h,d=u.length,f=0;f<d;f++)switch(u[f].once&&this.removeListener(e,u[f].fn,void 0,!0),c){case 1:u[f].fn.call(u[f].context);break;case 2:u[f].fn.call(u[f].context,t);break;case 3:u[f].fn.call(u[f].context,t,n);break;case 4:u[f].fn.call(u[f].context,t,n,i);break;default:if(!l)for(h=1,l=new Array(c-1);h<c;h++)l[h-1]=arguments[h];u[f].fn.apply(u[f].context,l)}return!0},s.prototype.on=function(e,t,n){return t=new a(t,n||this),n=r?r+e:e,this._events[n]?this._events[n].fn?this._events[n]=[this._events[n],t]:this._events[n].push(t):(this._events[n]=t,this._eventsCount++),this},s.prototype.once=function(e,t,n){return t=new a(t,n||this,!0),n=r?r+e:e,this._events[n]?this._events[n].fn?this._events[n]=[this._events[n],t]:this._events[n].push(t):(this._events[n]=t,this._eventsCount++),this},s.prototype.removeListener=function(e,t,n,i){if(e=r?r+e:e,this._events[e])if(t){var a=this._events[e];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[e]);else{for(var s=0,l=[],u=a.length;s<u;s++)(a[s].fn!==t||i&&!a[s].once||n&&a[s].context!==n)&&l.push(a[s]);l.length?this._events[e]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new o:delete this._events[e]}}else 0==--this._eventsCount?this._events=new o:delete this._events[e];return this},s.prototype.removeAllListeners=function(e){return e?(e=r?r+e:e,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=r,e.exports=s.EventEmitter=s},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=a(n(310)),o=a(n(312));function a(e){return e&&e.__esModule?e:{default:e}}function s(){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._listeners=[],this._binded=!1,this._raf=null}!function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(s,[{key:"bind",value:function(){if(!0===this._binded)return o.default.warn("Raf instance is already binded");this._binded=!0,this._update=this._update.bind(this),this._baseTime=Date.now(),this._raf=(0,r.default)(this._update)}},{key:"unbind",value:function(){this._binded=!1,null!==this._raf&&(r.default.cancel(this._raf),this._raf=null),this._listeners=[]}},{key:"add",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:60,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return"function"!=typeof e?o.default.error("add() : Callback argument must be a function"):(t=new Date,e={id:this._listeners.length,callback:e,fps:n,delay:i,once:r,deltaTargeted:1e3/n,lastTime:t.getTime()},this._listeners.push(e),this._binded||this.bind(),e)}},{key:"addOnce",value:function(e){return this.add(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:60,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,!0)}},{key:"remove",value:function(e){if("function"!=typeof e)return o.default.error("remove() : Callback argument must be a function");for(var t=0,n=this._listeners.length;t<n;t++)if(this._listeners[t].callback===e){this._listeners.splice(t,1);break}}},{key:"_update",value:function(){for(var e=Date.now(),t=e-this._baseTime,n=0;n<this._listeners.length;n++){var i=this._listeners[n],o=e-i.lastTime;o<i.deltaTargeted&&i.fps<60||(i.lastTime=e,0<i.delay&&t<i.delay||(i.callback(o,t,e),i.once&&this.remove(i.callback)))}this._binded&&(0,r.default)(this._update)}}]),n=s,t.default=new n,e.exports=t.default},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n(0);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1})}var s=function(){function e(){r(this,e),this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}return a(e,[{key:"setSize",value:function(){}},{key:"render",value:function(){}}]),e}(),l=new i.zb(-1,1,1,-1,0,1),u=new i.k,c=(u.setAttribute("position",new i.D([-1,3,0,-1,-1,0,3,-1,0],3)),u.setAttribute("uv",new i.D([0,2,0,0,2,0],2)),function(){function e(t){r(this,e),this._mesh=new i.kb(u,t)}return a(e,[{key:"dispose",value:function(){this._mesh.geometry.dispose()}},{key:"render",value:function(e){e.render(this._mesh,l)}},{key:"material",get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}]),e}())},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={IS_AJAX:!1,IS_LOADER:!1,IS_LAZY_LOADING:!1,IS_SMOOTH_SCROLL:!1,DEBUG:!1}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2;return parseFloat(Math.min(e+Math.random()*(t-e),t).toFixed(n))}n.d(t,"b",(function(){return i}))},function(e,t,n){"use strict";var i=n(34);function r(e,t,n,i,r){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}i.inherits(r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=r.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){a[e]={value:e}})),Object.defineProperties(r,a),Object.defineProperty(o,"isAxiosError",{value:!0}),r.from=function(e,t,n,a,s,l){var u=Object.create(o);return i.toFlatObject(e,u,(function(e){return e!==Error.prototype})),r.call(u,e.message,t,n,a,s),u.name=e.name,l&&Object.assign(u,l),u},e.exports=r},,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return le}));t=n(44),t=n.n(t);var i=n(0);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){var n,i,r,o,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return i=!(n=!0),{s:function(){s=s.call(e)},n:function(){var e=s.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==s.return||s.return()}finally{if(i)throw r}}};if(Array.isArray(e)||(s=a(e))||t&&e&&"number"==typeof e.length)return s&&(e=s),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){var n;if(e)return"string"==typeof e?s(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=v(e);n=t?(n=v(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===l(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return m(i)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(){f(t,i.cb);var e=p(t);function t(n){return c(this,t),(n=e.call(this,n)).dracoLoader=null,n.ktx2Loader=null,n.meshoptDecoder=null,n.pluginCallbacks=[],n.register((function(e){return new S(e)})),n.register((function(e){return new P(e)})),n.register((function(e){return new k(e)})),n.register((function(e){return new C(e)})),n.register((function(e){return new M(e)})),n.register((function(e){return new E(e)})),n.register((function(e){return new T(e)})),n.register((function(e){return new x(e)})),n.register((function(e){return new D(e)})),n.register((function(e){return new A(e)})),n.register((function(e){return new _(e)})),n.register((function(e){return new O(e)})),n}return d(t,[{key:"load",value:function(e,t,n,r){function o(t){r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)}var a=this,s=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:i.db.extractUrlBase(e),l=(this.manager.itemStart(e),new i.C(this.manager));l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,(function(n){try{a.parse(n,s,(function(n){t(n),a.manager.itemEnd(e)}),o)}catch(n){o(n)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var o,a={},s={};if("string"==typeof e)o=e;else if(i.db.decodeText(new Uint8Array(e,0,4))===R){try{a[b.KHR_BINARY_GLTF]=new L(e)}catch(e){return void(r&&r(e))}o=a[b.KHR_BINARY_GLTF].content}else o=i.db.decodeText(new Uint8Array(e));var l=JSON.parse(o);if(void 0===l.asset||l.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var u=new ee(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(var c=0;c<this.pluginCallbacks.length;c++){var h=this.pluginCallbacks[c](u);a[(s[h.name]=h).name]=!0}if(l.extensionsUsed)for(var d=0;d<l.extensionsUsed.length;++d){var f=l.extensionsUsed[d],p=l.extensionsRequired||[];switch(f){case b.KHR_MATERIALS_UNLIT:a[f]=new w;break;case b.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[f]=new z;break;case b.KHR_DRACO_MESH_COMPRESSION:a[f]=new B(l,this.dracoLoader);break;case b.KHR_TEXTURE_TRANSFORM:a[f]=new I;break;case b.KHR_MESH_QUANTIZATION:a[f]=new N;break;default:0<=p.indexOf(f)&&s[f]}}u.setExtensions(a),u.setPlugins(s),u.parse(n,r)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(i,r){n.parse(e,t,i,r)}))}}]),t}();function y(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var b={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},_=function(){function e(t){c(this,e),this.parser=t,this.name=b.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return d(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,i=t.length;n<i;n++){var r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(!r){var o,a=t.json,s=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],l=new i.q(16777215),u=(void 0!==s.color&&l.fromArray(s.color),void 0!==s.range?s.range:0);switch(s.type){case"directional":(o=new i.w(l)).target.position.set(0,0,-1),o.add(o.target);break;case"point":(o=new i.Db(l)).distance=u;break;case"spot":(o=new i.ac(l)).distance=u,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,o.angle=s.spot.outerConeAngle,o.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}o.position.set(0,0,0),o.decay=2,void 0!==s.intensity&&(o.intensity=s.intensity),o.name=t.createUniqueName(s.name||"light_"+e),r=Promise.resolve(o),t.cache.add(n,r)}return r}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,i=((e=n.json.nodes[e]).extensions&&e.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),w=function(){function e(){c(this,e),this.name=b.KHR_MATERIALS_UNLIT}return d(e,[{key:"getMaterialType",value:function(){return i.lb}},{key:"extendParams",value:function(e,t,n){var r,o=[];return(t=(e.color=new i.q(1,1,1),e.opacity=1,t.pbrMetallicRoughness))&&(Array.isArray(t.baseColorFactor)&&(r=t.baseColorFactor,e.color.fromArray(r),e.opacity=r[3]),void 0!==t.baseColorTexture&&o.push(n.assignTexture(e,"map",t.baseColorTexture,i.uc))),Promise.all(o)}}]),e}(),x=function(){function e(t){c(this,e),this.parser=t,this.name=b.KHR_MATERIALS_EMISSIVE_STRENGTH}return d(e,[{key:"extendMaterialParams",value:function(e,t){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]&&void 0!==(e=e.extensions[this.name].emissiveStrength)&&(t.emissiveIntensity=e),Promise.resolve()}}]),e}(),S=function(){function e(t){c(this,e),this.parser=t,this.name=b.KHR_MATERIALS_CLEARCOAT}return d(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?i.ob:null}},{key:"extendMaterialParams",value:function(e,t){var n,r=this.parser;return(e=r.json.materials[e]).extensions&&e.extensions[this.name]?(n=[],void 0!==(e=e.extensions[this.name]).clearcoatFactor&&(t.clearcoat=e.clearcoatFactor),void 0!==e.clearcoatTexture&&n.push(r.assignTexture(t,"clearcoatMap",e.clearcoatTexture)),void 0!==e.clearcoatRoughnessFactor&&(t.clearcoatRoughness=e.clearcoatRoughnessFactor),void 0!==e.clearcoatRoughnessTexture&&n.push(r.assignTexture(t,"clearcoatRoughnessMap",e.clearcoatRoughnessTexture)),void 0!==e.clearcoatNormalTexture&&(n.push(r.assignTexture(t,"clearcoatNormalMap",e.clearcoatNormalTexture)),void 0!==e.clearcoatNormalTexture.scale&&(r=e.clearcoatNormalTexture.scale,t.clearcoatNormalScale=new i.nc(r,r))),Promise.all(n)):Promise.resolve()}}]),e}(),A=function(){function e(t){c(this,e),this.parser=t,this.name=b.KHR_MATERIALS_IRIDESCENCE}return d(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?i.ob:null}},{key:"extendMaterialParams",value:function(e,t){var n,i=this.parser;return(e=i.json.materials[e]).extensions&&e.extensions[this.name]?(n=[],void 0!==(e=e.extensions[this.name]).iridescenceFactor&&(t.iridescence=e.iridescenceFactor),void 0!==e.iridescenceTexture&&n.push(i.assignTexture(t,"iridescenceMap",e.iridescenceTexture)),void 0!==e.iridescenceIor&&(t.iridescenceIOR=e.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==e.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=e.iridescenceThicknessMinimum),void 0!==e.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=e.iridescenceThicknessMaximum),void 0!==e.iridescenceThicknessTexture&&n.push(i.assignTexture(t,"iridescenceThicknessMap",e.iridescenceThicknessTexture)),Promise.all(n)):Promise.resolve()}}]),e}(),C=function(){function e(t){c(this,e),this.parser=t,this.name=b.KHR_MATERIALS_SHEEN}return d(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?i.ob:null}},{key:"extendMaterialParams",value:function(e,t){var n,r=this.parser;return(e=r.json.materials[e]).extensions&&e.extensions[this.name]?(n=[],t.sheenColor=new i.q(0,0,0),t.sheenRoughness=0,t.sheen=1,void 0!==(e=e.extensions[this.name]).sheenColorFactor&&t.sheenColor.fromArray(e.sheenColorFactor),void 0!==e.sheenRoughnessFactor&&(t.sheenRoughness=e.sheenRoughnessFactor),void 0!==e.sheenColorTexture&&n.push(r.assignTexture(t,"sheenColorMap",e.sheenColorTexture,i.uc)),void 0!==e.sheenRoughnessTexture&&n.push(r.assignTexture(t,"sheenRoughnessMap",e.sheenRoughnessTexture)),Promise.all(n)):Promise.resolve()}}]),e}(),M=function(){function e(t){c(this,e),this.parser=t,this.name=b.KHR_MATERIALS_TRANSMISSION}return d(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?i.ob:null}},{key:"extendMaterialParams",value:function(e,t){var n,i=this.parser;return(e=i.json.materials[e]).extensions&&e.extensions[this.name]?(n=[],void 0!==(e=e.extensions[this.name]).transmissionFactor&&(t.transmission=e.transmissionFactor),void 0!==e.transmissionTexture&&n.push(i.assignTexture(t,"transmissionMap",e.transmissionTexture)),Promise.all(n)):Promise.resolve()}}]),e}(),E=function(){function e(t){c(this,e),this.parser=t,this.name=b.KHR_MATERIALS_VOLUME}return d(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?i.ob:null}},{key:"extendMaterialParams",value:function(e,t){var n,r=this.parser;return(e=r.json.materials[e]).extensions&&e.extensions[this.name]?(n=[],e=e.extensions[this.name],t.thickness=void 0!==e.thicknessFactor?e.thicknessFactor:0,void 0!==e.thicknessTexture&&n.push(r.assignTexture(t,"thicknessMap",e.thicknessTexture)),t.attenuationDistance=e.attenuationDistance||0,r=e.attenuationColor||[1,1,1],t.attenuationColor=new i.q(r[0],r[1],r[2]),Promise.all(n)):Promise.resolve()}}]),e}(),T=function(){function e(t){c(this,e),this.parser=t,this.name=b.KHR_MATERIALS_IOR}return d(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?i.ob:null}},{key:"extendMaterialParams",value:function(e,t){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]&&(e=e.extensions[this.name],t.ior=void 0!==e.ior?e.ior:1.5),Promise.resolve()}}]),e}(),D=function(){function e(t){c(this,e),this.parser=t,this.name=b.KHR_MATERIALS_SPECULAR}return d(e,[{key:"getMaterialType",value:function(e){return(e=this.parser.json.materials[e]).extensions&&e.extensions[this.name]?i.ob:null}},{key:"extendMaterialParams",value:function(e,t){var n,r,o=this.parser;return(e=o.json.materials[e]).extensions&&e.extensions[this.name]?(n=[],e=e.extensions[this.name],t.specularIntensity=void 0!==e.specularFactor?e.specularFactor:1,void 0!==e.specularTexture&&n.push(o.assignTexture(t,"specularIntensityMap",e.specularTexture)),r=e.specularColorFactor||[1,1,1],t.specularColor=new i.q(r[0],r[1],r[2]),void 0!==e.specularColorTexture&&n.push(o.assignTexture(t,"specularColorMap",e.specularColorTexture,i.uc)),Promise.all(n)):Promise.resolve()}}]),e}(),P=function(){function e(t){c(this,e),this.parser=t,this.name=b.KHR_TEXTURE_BASISU}return d(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json;if((i=n.textures[e]).extensions&&i.extensions[this.name]){var i=i.extensions[this.name],r=t.options.ktx2Loader;if(r)return t.loadTextureImage(e,i.source,r);if(n.extensionsRequired&&0<=n.extensionsRequired.indexOf(this.name))throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures")}return null}}]),e}(),k=function(){function e(t){c(this,e),this.parser=t,this.name=b.EXT_TEXTURE_WEBP,this.isSupported=null}return d(e,[{key:"loadTexture",value:function(e){var t,n,i=this.name,r=this.parser,o=r.json,a=o.textures[e];return a.extensions&&a.extensions[i]?(t=a.extensions[i],a=o.images[t.source],n=r.textureLoader,a.uri&&null!==(a=r.options.manager.getHandler(a.uri))&&(n=a),this.detectSupport().then((function(a){if(a)return r.loadTextureImage(e,t.source,n);if(o.extensionsRequired&&0<=o.extensionsRequired.indexOf(i))throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)}))):null}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),O=function(){function e(t){c(this,e),this.name=b.EXT_MESHOPT_COMPRESSION,this.parser=t}return d(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json;if((e=t.bufferViews[e]).extensions&&e.extensions[this.name]){var n=e.extensions[this.name],i=(e=this.parser.getDependency("buffer",n.buffer),this.parser.options.meshoptDecoder);if(i&&i.supported)return e.then((function(e){var t=n.byteOffset||0,r=n.byteLength||0,o=n.count,a=n.byteStride,s=new Uint8Array(e,t,r);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(o,a,s,n.mode,n.filter).then((function(e){return e.buffer})):i.ready.then((function(){var e=new ArrayBuffer(o*a);return i.decodeGltfBuffer(new Uint8Array(e),o,a,s,n.mode,n.filter),e}))}));if(t.extensionsRequired&&0<=t.extensionsRequired.indexOf(this.name))throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files")}return null}}]),e}(),R="glTF",L=d((function e(t){c(this,e),this.name=b.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:i.db.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==R)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,o=new DataView(t,12),a=0;a<r;){var s,l=o.getUint32(a,!0),u=(a+=4,o.getUint32(a,!0));a+=4,1313821514===u?(s=new Uint8Array(t,12+a,l),this.content=i.db.decodeText(s)):5130562===u&&(this.body=t.slice(s=12+a,s+l)),a+=l}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),B=function(){function e(t,n){if(c(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=b.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return d(e,[{key:"decodePrimitive",value:function(e,t){var n,i,r=this.json,o=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,l={},u={},c={};for(n in s){var h=q[n]||n.toLowerCase();l[h]=s[n]}for(i in e.attributes){var d,f,p=q[i]||i.toLowerCase();void 0!==s[i]&&(d=r.accessors[e.attributes[i]],f=G[d.componentType],c[p]=f.name,u[p]=!0===d.normalized)}return t.getDependency("bufferView",a).then((function(e){return new Promise((function(t){o.decodeDracoFile(e,(function(e){for(var n in e.attributes){var i=e.attributes[n];void 0!==(n=u[n])&&(i.normalized=n)}t(e)}),l,c)}))}))}}]),e}(),I=function(){function e(){c(this,e),this.name=b.KHR_TEXTURE_TRANSFORM}return d(e,[{key:"extendTexture",value:function(e,t){return t.texCoord,void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),F=function(){f(t,i.pb);var e=p(t);function t(n){c(this,t),(r=e.call(this)).isGLTFSpecularGlossinessMaterial=!0;var r,o=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),a=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),s=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),l=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),u=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),h={specular:{value:(new i.q).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return r._extraUniforms=h,r.onBeforeCompile=function(e){for(var t in h)e.uniforms[t]=h[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",o).replace("#include <metalnessmap_pars_fragment>",a).replace("#include <roughnessmap_fragment>",s).replace("#include <metalnessmap_fragment>",l).replace("#include <lights_physical_fragment>",u)},Object.defineProperties(m(r),{specular:{get:function(){return h.specular.value},set:function(e){h.specular.value=e}},specularMap:{get:function(){return h.specularMap.value},set:function(e){(h.specularMap.value=e)?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return h.glossiness.value},set:function(e){h.glossiness.value=e}},glossinessMap:{get:function(){return h.glossinessMap.value},set:function(e){(h.glossinessMap.value=e)?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete r.metalness,delete r.roughness,delete r.metalnessMap,delete r.roughnessMap,r.setValues(n),r}return d(t,[{key:"copy",value:function(e){return u(v(t.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),t}(),z=function(){function e(){c(this,e),this.name=b.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}return d(e,[{key:"getMaterialType",value:function(){return F}},{key:"extendParams",value:function(e,t,n){t=t.extensions[this.name];var r,o=(e.color=new i.q(1,1,1),e.opacity=1,[]);return Array.isArray(t.diffuseFactor)&&(r=t.diffuseFactor,e.color.fromArray(r),e.opacity=r[3]),void 0!==t.diffuseTexture&&o.push(n.assignTexture(e,"map",t.diffuseTexture,i.uc)),e.emissive=new i.q(0,0,0),e.glossiness=void 0!==t.glossinessFactor?t.glossinessFactor:1,e.specular=new i.q(1,1,1),Array.isArray(t.specularFactor)&&e.specular.fromArray(t.specularFactor),void 0!==t.specularGlossinessTexture&&(r=t.specularGlossinessTexture,o.push(n.assignTexture(e,"glossinessMap",r)),o.push(n.assignTexture(e,"specularMap",r,i.uc))),Promise.all(o)}},{key:"createMaterial",value:function(e){var t=new F(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=void 0===e.emissiveIntensity?1:e.emissiveIntensity,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=i.cc,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t}}]),e}(),N=d((function e(){c(this,e),this.name=b.KHR_MESH_QUANTIZATION})),U=function(){f(t,i.P);var e=p(t);function t(n,i,r,o){return c(this,t),e.call(this,n,i,r,o)}return d(t,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i*3+i,o=0;o!==i;o++)t[o]=n[r+o];return t}},{key:"interpolate_",value:function(e,t,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,l=3*a,u=i-t,c=e*l,h=c-l,d=-2*(t=(n=(i=(n-t)/u)*i)*i)+3*n,f=t-n,p=1-d,m=f-n+i,v=0;v!==a;v++){var g=o[h+v+a],y=o[h+v+s]*u,b=o[c+v+a],_=o[c+v]*u;r[v]=p*g+m*y+d*b+f*_}return r}}]),t}(),j=new i.Hb,H=function(){f(t,U);var e=p(t);function t(){return c(this,t),e.apply(this,arguments)}return d(t,[{key:"interpolate_",value:function(e,n,i,r){return e=u(v(t.prototype),"interpolate_",this).call(this,e,n,i,r),j.fromArray(e).normalize().toArray(e),e}}]),t}(),G={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},V={9728:i.rb,9729:i.Z,9984:i.tb,9985:i.bb,9986:i.sb,9987:i.ab},W={33071:i.o,33648:i.qb,10497:i.Pb},Y={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},q={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},X={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Q={CUBICSPLINE:void 0,LINEAR:i.R,STEP:i.Q};function K(e,t,n){for(var i in n.extensions)void 0===e[i]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=n.extensions[i])}function J(e,t){void 0!==t.extras&&"object"===l(t.extras)&&Object.assign(e.userData,t.extras)}function Z(e){for(var t="",n=Object.keys(e).sort(),i=0,r=n.length;i<r;i++)t+=n[i]+":"+e[n[i]]+";";return t}function $(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var ee=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=(t=(c(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new y,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={},!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),(n=-1<navigator.userAgent.indexOf("Firefox"))?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1);"undefined"==typeof createImageBitmap||t||n&&r<98?this.textureLoader=new i.ec(this.options.manager):this.textureLoader=new i.K(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new i.C(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return d(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var o={scene:t[0][i.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:i.asset,parser:n,userData:{}};K(r,o,i),J(o,i),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(o)}))).then((function(){e(o)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],i=0,r=t.length;i<r;i++)for(var o=t[i].joints,a=0,s=o.length;a<s;a++)e[o[a]].isBone=!0;for(var l=0,u=e.length;l<u;l++){var c=e[l];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var i,a=this;return e.refs[t]<=1?n:(i=n.clone(),function e(t,n){var i,s=a.associations.get(t),l=(null!=s&&a.associations.set(n,s),o(t.children.entries()));try{for(l.s();!(i=l.n()).done;){var u=r(i.value,2),c=u[0];e(u[1],n.children[c])}}catch(e){l.e(e)}finally{l.f()}}(n,i),i.name+="_instance_"+e.uses[t]++,i)}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var i=e(t[n]);if(i)return i}return null}},{key:"_invokeAll",value:function(e){for(var t=Object.values(this.plugins),n=(t.unshift(this),[]),i=0;i<t.length;i++){var r=e(t[i]);r&&n.push(r)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":i=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,i)}return i}},{key:"getDependencies",value:function(e){var t,n,i=this.cache.get(e);return i||(n=(t=this).json[e+("mesh"===e?"es":"s")]||[],i=Promise.all(n.map((function(n,i){return t.getDependency(e,i)}))),this.cache.add(e,i)),i}},{key:"loadBuffer",value:function(e){var t,n=this.json.buffers[e],r=this.fileLoader;if(n.type&&"arraybuffer"!==n.type)throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");return void 0===n.uri&&0===e?Promise.resolve(this.extensions[b.KHR_BINARY_GLTF].body):(t=this.options,new Promise((function(e,o){r.load(i.db.resolveURL(n.uri,t.path),e,void 0,(function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))}))})))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,i=t.byteOffset||0;return e.slice(i,i+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];return void 0===r.bufferView&&void 0===r.sparse?Promise.resolve(null):(e=[],void 0!==r.bufferView?e.push(this.getDependency("bufferView",r.bufferView)):e.push(null),void 0!==r.sparse&&(e.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),e.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(e).then((function(e){var o,a=e[0],s=Y[r.type],l=G[r.componentType],u=l.BYTES_PER_ELEMENT,c=r.byteOffset||0,h=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,d=!0===r.normalized,f=h&&h!==u*s?(p=Math.floor(c/h),m="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+p+":"+r.count,(v=t.cache.get(m))||(o=new l(a,p*h,r.count*h/u),v=new i.N(o,h/u),t.cache.add(m,v)),new i.O(v,s,c%h/u,d)):(o=null===a?new l(r.count*s):new l(a,c,r.count*s),new i.j(o,s,d));if(void 0!==r.sparse){var p=G[r.sparse.indices.componentType],m=r.sparse.indices.byteOffset||0,v=r.sparse.values.byteOffset||0,g=new p(e[1],m,r.sparse.count*Y.SCALAR),y=new l(e[2],v,r.sparse.count*s);null!==a&&(f=new i.j(f.array.slice(),f.itemSize,f.normalized));for(var b=0,_=g.length;b<_;b++){var w=g[b];if(f.setX(w,y[b*s]),2<=s&&f.setY(w,y[b*s+1]),3<=s&&f.setZ(w,y[b*s+2]),4<=s&&f.setW(w,y[b*s+3]),5<=s)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return f})))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,i=t.textures[e].source,r=(t=t.images[i],this.textureLoader);return t.uri&&null!==(n=n.manager.getHandler(t.uri))&&(r=n),this.loadTextureImage(e,i,r)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,o=this.json,a=o.textures[e],s=((s=o.images[t]).uri||s.bufferView)+":"+a.sampler;return this.textureCache[s]||(t=this.loadImageSource(t,n).then((function(t){t.flipY=!1,a.name&&(t.name=a.name);var n=(o.samplers||{})[a.sampler]||{};return t.magFilter=V[n.magFilter]||i.Z,t.minFilter=V[n.minFilter]||i.ab,t.wrapS=W[n.wrapS]||i.Pb,t.wrapT=W[n.wrapT]||i.Pb,r.associations.set(t,{textures:e}),t})).catch((function(){return null})),this.textureCache[s]=t)}},{key:"loadImageSource",value:function(e,t){var n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var o=n.images[e],a=self.URL||self.webkitURL,s=o.uri||"",l=!1;if(void 0!==o.bufferView)s=this.getDependency("bufferView",o.bufferView).then((function(e){return l=!0,e=new Blob([e],{type:o.mimeType}),s=a.createObjectURL(e)}));else if(void 0===o.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");return n=Promise.resolve(s).then((function(e){return new Promise((function(n,o){var a=n;!0===t.isImageBitmapLoader&&(a=function(e){(e=new i.dc(e)).needsUpdate=!0,n(e)}),t.load(i.db.resolveURL(e,r.path),a,void 0,o)}))})).then((function(e){var t;return!0===l&&a.revokeObjectURL(s),e.userData.mimeType=o.mimeType||(0<(t=o.uri).search(/\.jpe?g($|\?)/i)||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":0<t.search(/\.webp($|\?)/i)||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw e})),this.sourceCache[e]=n}},{key:"assignTexture",value:function(e,t,n,i){var r=this;return this.getDependency("texture",n.index).then((function(o){var a,s;return void 0!==n.texCoord&&0!=n.texCoord&&"aoMap"===t&&n.texCoord,r.extensions[b.KHR_TEXTURE_TRANSFORM]&&(a=void 0!==n.extensions?n.extensions[b.KHR_TEXTURE_TRANSFORM]:void 0)&&(s=r.associations.get(o),o=r.extensions[b.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),r.associations.set(o,s)),void 0!==i&&(o.encoding=i),e[t]=o}))}},{key:"assignFinalMaterial",value:function(e){var t,n,r=e.geometry,o=e.material,a=void 0===r.attributes.tangent,s=void 0!==r.attributes.color,l=void 0===r.attributes.normal;e.isPoints?(t="PointsMaterial:"+o.uuid,(n=this.cache.get(t))||(n=new i.Fb,i.hb.prototype.copy.call(n,o),n.color.copy(o.color),n.map=o.map,n.sizeAttenuation=!1,this.cache.add(t,n)),o=n):e.isLine&&(t="LineBasicMaterial:"+o.uuid,(n=this.cache.get(t))||(n=new i.V,i.hb.prototype.copy.call(n,o),n.color.copy(o.color),this.cache.add(t,n)),o=n),(a||s||l)&&(t="ClonedMaterial:"+o.uuid+":",o.isGLTFSpecularGlossinessMaterial&&(t+="specular-glossiness:"),a&&(t+="derivative-tangents:"),s&&(t+="vertex-colors:"),l&&(t+="flat-shading:"),(n=this.cache.get(t))||(n=o.clone(),s&&(n.vertexColors=!0),l&&(n.flatShading=!0),a&&(n.normalScale&&(n.normalScale.y*=-1),n.clearcoatNormalScale&&(n.clearcoatNormalScale.y*=-1)),this.cache.add(t,n),this.associations.set(n,this.associations.get(o))),o=n),o.aoMap&&void 0===r.attributes.uv2&&void 0!==r.attributes.uv&&r.setAttribute("uv2",r.attributes.uv),e.material=o}},{key:"getMaterialType",value:function(){return i.pb}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,o=this.extensions,a=r.materials[e],s={},l=[],u=((r=a.extensions||{})[b.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]?(u=o[b.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS],t=u.getMaterialType(),l.push(u.extendParams(s,a,n))):r[b.KHR_MATERIALS_UNLIT]?(u=o[b.KHR_MATERIALS_UNLIT],t=u.getMaterialType(),l.push(u.extendParams(s,a,n))):(r=a.pbrMetallicRoughness||{},s.color=new i.q(1,1,1),s.opacity=1,Array.isArray(r.baseColorFactor)&&(u=r.baseColorFactor,s.color.fromArray(u),s.opacity=u[3]),void 0!==r.baseColorTexture&&l.push(n.assignTexture(s,"map",r.baseColorTexture,i.uc)),s.metalness=void 0!==r.metallicFactor?r.metallicFactor:1,s.roughness=void 0!==r.roughnessFactor?r.roughnessFactor:1,void 0!==r.metallicRoughnessTexture&&(l.push(n.assignTexture(s,"metalnessMap",r.metallicRoughnessTexture)),l.push(n.assignTexture(s,"roughnessMap",r.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),l.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,s)}))))),!0===a.doubleSided&&(s.side=i.y),a.alphaMode||"OPAQUE");return"BLEND"===u?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,"MASK"===u&&(s.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==i.lb&&(l.push(n.assignTexture(s,"normalMap",a.normalTexture)),s.normalScale=new i.nc(1,1),void 0!==a.normalTexture.scale&&(r=a.normalTexture.scale,s.normalScale.set(r,r))),void 0!==a.occlusionTexture&&t!==i.lb&&(l.push(n.assignTexture(s,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(s.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==i.lb&&(s.emissive=(new i.q).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==i.lb&&l.push(n.assignTexture(s,"emissiveMap",a.emissiveTexture,i.uc)),Promise.all(l).then((function(){var i=t===F?o[b.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s);return a.name&&(i.name=a.name),J(i,a),n.associations.set(i,{materials:e}),a.extensions&&K(o,i,a),i}))}},{key:"createUniqueName",value:function(e){for(var t=i.Gb.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){for(var t=this,n=this.extensions,r=this.primitiveCache,o=[],a=0,s=e.length;a<s;a++){var l=e[a],u=(c=void 0,c=(c=(u=l).extensions&&u.extensions[b.KHR_DRACO_MESH_COMPRESSION])?"draco:"+c.bufferView+":"+c.indices+":"+Z(c.attributes):u.indices+":"+Z(u.attributes)+":"+u.mode),c=r[u];c?o.push(c.promise):(c=void 0,c=l.extensions&&l.extensions[b.KHR_DRACO_MESH_COMPRESSION]?function(e){return n[b.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return te(n,e,t)}))}(l):te(new i.k,l,t),r[u]={primitive:l,promise:c},o.push(c))}return Promise.all(o)}},{key:"loadMesh",value:function(e){for(var t=this,n=this.json,r=this.extensions,o=n.meshes[e],a=o.primitives,s=[],l=0,u=a.length;l<u;l++){var c=void 0===a[l].material?(void 0===(c=this.cache).DefaultMaterial&&(c.DefaultMaterial=new i.pb({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:i.F})),c.DefaultMaterial):this.getDependency("material",a[l].material);s.push(c)}return s.push(t.loadGeometries(a)),Promise.all(s).then((function(n){for(var s=n.slice(0,n.length-1),l=n[n.length-1],u=[],c=0,h=l.length;c<h;c++){var d=l[c],f=a[c],p=void 0,m=s[c];if(4===f.mode||5===f.mode||6===f.mode||void 0===f.mode)!0!==(p=new(!0===o.isSkinnedMesh?i.Vb:i.kb)(d,m)).isSkinnedMesh||p.geometry.attributes.skinWeight.normalized||p.normalizeSkinWeights(),5===f.mode?p.geometry=ne(p.geometry,i.gc):6===f.mode&&(p.geometry=ne(p.geometry,i.fc));else if(1===f.mode)p=new i.X(d,m);else if(3===f.mode)p=new i.U(d,m);else if(2===f.mode)p=new i.W(d,m);else{if(0!==f.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);p=new i.Eb(d,m)}if(0<Object.keys(p.geometry.morphAttributes).length){x=w=_=b=y=v=void 0;var v=p,g=o;if(v.updateMorphTargets(),void 0!==g.weights)for(var y=0,b=g.weights.length;y<b;y++)v.morphTargetInfluences[y]=g.weights[y];if(g.extras&&Array.isArray(g.extras.targetNames)){var _=g.extras.targetNames;if(v.morphTargetInfluences.length===_.length){v.morphTargetDictionary={};for(var w=0,x=_.length;w<x;w++)v.morphTargetDictionary[_[w]]=w}}}p.name=t.createUniqueName(o.name||"mesh_"+e),J(p,o),f.extensions&&K(r,p,f),t.assignFinalMaterial(p),u.push(p)}for(var S=0,A=u.length;S<A;S++)t.associations.set(u[S],{meshes:e,primitives:S});if(1===u.length)return u[0];var C=new i.I;t.associations.set(C,{meshes:e});for(var M=0,E=u.length;M<E;M++)C.add(u[M]);return C}))}},{key:"loadCamera",value:function(e){var t,n=(e=this.json.cameras[e])[e.type];if(n)return"perspective"===e.type?t=new i.Ab(i.ib.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===e.type&&(t=new i.zb(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),e.name&&(t.name=this.createUniqueName(e.name)),J(t,e),Promise.resolve(t)}},{key:"loadSkin",value:function(e){var t={joints:(e=this.json.skins[e]).joints};return void 0===e.inverseBindMatrices?Promise.resolve(t):this.getDependency("accessor",e.inverseBindMatrices).then((function(e){return t.inverseBindMatrices=e,t}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],r=[],o=[],a=[],s=[],l=0,u=t.channels.length;l<u;l++){var c=t.channels[l],h=t.samplers[c.sampler],d=(c=c.target).node,f=void 0!==t.parameters?t.parameters[h.input]:h.input,p=void 0!==t.parameters?t.parameters[h.output]:h.output;n.push(this.getDependency("node",d)),r.push(this.getDependency("accessor",f)),o.push(this.getDependency("accessor",p)),a.push(h),s.push(c)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(o),Promise.all(a),Promise.all(s)]).then((function(n){for(var r=n[0],o=n[1],a=n[2],s=n[3],l=n[4],u=[],c=0,h=r.length;c<h;c++)!function(e){var t=r[e],n=o[e],c=a[e],h=s[e],d=l[e];if(void 0!==t){t.updateMatrix();var f=void 0;switch(X[d.path]){case X.weights:f=i.xb;break;case X.rotation:f=i.Ib;break;default:f=i.qc}e=t.name||t.uuid;var p=void 0!==h.interpolation?Q[h.interpolation]:i.R,m=[],v=(X[d.path]===X.weights?t.traverse((function(e){e.morphTargetInfluences&&m.push(e.name||e.uuid)})):m.push(e),c.array);if(c.normalized){for(var g=$(v.constructor),y=new Float32Array(v.length),b=0,_=v.length;b<_;b++)y[b]=v[b]*g;v=y}for(var w=0,x=m.length;w<x;w++){var S=new f(m[w]+"."+X[d.path],n.array,v,p);"CUBICSPLINE"===h.interpolation&&(S.createInterpolant=function(e){return new(this instanceof i.Ib?H:U)(this.times,this.values,this.getValueSize()/3,e)},S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(S)}}}(c);return n=t.name||"animation_"+e,new i.d(n,void 0,u)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,i=t.nodes[e];return void 0===i.mesh?null:n.getDependency("mesh",i.mesh).then((function(e){return e=n._getNodeRef(n.meshCache,i.mesh,e),void 0!==i.weights&&e.traverse((function(e){if(e.isMesh)for(var t=0,n=i.weights.length;t<n;t++)e.morphTargetInfluences[t]=i.weights[t]})),e}))}},{key:"loadNode",value:function(e){var t,n=this.json,r=this.extensions,o=this,a=n.nodes[e],s=a.name?o.createUniqueName(a.name):"";return t=[],(n=o._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)})))&&t.push(n),void 0!==a.camera&&t.push(o.getDependency("camera",a.camera).then((function(e){return o._getNodeRef(o.cameraCache,a.camera,e)}))),o._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t).then((function(t){var n,l=!0===a.isBone?new i.g:1<t.length?new i.I:1===t.length?t[0]:new i.yb;if(l!==t[0])for(var u=0,c=t.length;u<c;u++)l.add(t[u]);return a.name&&(l.userData.name=a.name,l.name=s),J(l,a),a.extensions&&K(r,l,a),void 0!==a.matrix?((n=new i.jb).fromArray(a.matrix),l.applyMatrix4(n)):(void 0!==a.translation&&l.position.fromArray(a.translation),void 0!==a.rotation&&l.quaternion.fromArray(a.rotation),void 0!==a.scale&&l.scale.fromArray(a.scale)),o.associations.has(l)||o.associations.set(l,{}),o.associations.get(l).nodes=e,l}))}},{key:"loadScene",value:function(e){for(var t=this.json,n=this.extensions,a=(e=this.json.scenes[e],this),s=new i.I,l=(e.name&&(s.name=a.createUniqueName(e.name)),J(s,e),e.extensions&&K(n,s,e),e.nodes||[]),u=[],c=0,h=l.length;c<h;c++)u.push(function e(t,n,r,o){var a=r.nodes[t];return o.getDependency("node",t).then((function(e){var t;return void 0===a.skin?e:o.getDependency("skin",a.skin).then((function(e){for(var n=[],i=0,r=(t=e).joints.length;i<r;i++)n.push(o.getDependency("node",t.joints[i]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],o=[],a=0,s=n.length;a<s;a++){var l=n[a];l&&(r.push(l),l=new i.jb,void 0!==t.inverseBindMatrices&&l.fromArray(t.inverseBindMatrices.array,16*a),o.push(l))}e.bind(new i.Ub(r,o),e.matrixWorld)}})),e}))})).then((function(t){n.add(t);var i=[];if(a.children)for(var s=a.children,l=0,u=s.length;l<u;l++){var c=s[l];i.push(e(c,t,r,o))}return Promise.all(i)}))}(l[c],s,t,a));return Promise.all(u).then((function(){return a.associations=function(e){var t,n=new Map,s=o(a.associations);try{for(s.s();!(t=s.n()).done;){var l=r(t.value,2),u=l[0],c=l[1];(u instanceof i.hb||u instanceof i.dc)&&n.set(u,c)}}catch(e){s.e(e)}finally{s.f()}return e.traverse((function(e){var t=a.associations.get(e);null!=t&&n.set(e,t)})),n}(s),s}))}}]),e}();function te(e,t,n){var r,o=t.attributes,a=[];for(r in o){var s=q[r]||r.toLowerCase();s in e.attributes||a.push(function(t,i){return n.getDependency("accessor",t).then((function(t){e.setAttribute(i,t)}))}(o[r],s))}void 0===t.indices||e.index||(l=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)})),a.push(l)),J(e,t);var l=e,u=t,c=n,h=u.attributes,d=new i.h;if(void 0!==h.POSITION){var f=(h=c.json.accessors[h.POSITION]).min,p=h.max;if(void 0!==f&&void 0!==p){d.set(new i.oc(f[0],f[1],f[2]),new i.oc(p[0],p[1],p[2])),h.normalized&&(f=$(G[h.componentType]),d.min.multiplyScalar(f),d.max.multiplyScalar(f));var m=u.targets;if(void 0!==m){for(var v=new i.oc,g=new i.oc,y=0,b=m.length;y<b;y++){var _,w,x=m[y];void 0!==x.POSITION&&(w=(x=c.json.accessors[x.POSITION]).min,_=x.max,void 0!==w&&void 0!==_&&(g.setX(Math.max(Math.abs(w[0]),Math.abs(_[0]))),g.setY(Math.max(Math.abs(w[1]),Math.abs(_[1]))),g.setZ(Math.max(Math.abs(w[2]),Math.abs(_[2]))),x.normalized&&(w=$(G[x.componentType]),g.multiplyScalar(w)),v.max(g)))}d.expandByVector(v)}l.boundingBox=d,p=new i.Wb,d.getCenter(p.center),p.radius=d.min.distanceTo(d.max)/2,l.boundingSphere=p}}return Promise.all(a).then((function(){if(void 0===t.targets)return e;for(var i=e,r=t.targets,o=n,a=!1,s=!1,l=!1,u=0,c=r.length;u<c;u++){var h=r[u];if(void 0!==h.POSITION&&(a=!0),void 0!==h.NORMAL&&(s=!0),void 0!==h.COLOR_0&&(l=!0),a&&s&&l)break}if(!a&&!s&&!l)return Promise.resolve(i);for(var d=[],f=[],p=[],m=0,v=r.length;m<v;m++){var g,y=r[m];a&&(g=void 0!==y.POSITION?o.getDependency("accessor",y.POSITION):i.attributes.position,d.push(g)),s&&(g=void 0!==y.NORMAL?o.getDependency("accessor",y.NORMAL):i.attributes.normal,f.push(g)),l&&(y=void 0!==y.COLOR_0?o.getDependency("accessor",y.COLOR_0):i.attributes.color,p.push(y))}return Promise.all([Promise.all(d),Promise.all(f),Promise.all(p)]).then((function(e){var t=e[0],n=e[1];e=e[2];return a&&(i.morphAttributes.position=t),s&&(i.morphAttributes.normal=n),l&&(i.morphAttributes.color=e),i.morphTargetsRelative=!0,i}))}))}function ne(e,t){var n=e.getIndex();if(null===n){var r=[],o=e.getAttribute("position");if(void 0===o)return e;for(var a=0;a<o.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var s=n.count-2,l=[];if(t===i.fc)for(var u=1;u<=s;u++)l.push(n.getX(0)),l.push(n.getX(u)),l.push(n.getX(u+1));else for(var c=0;c<s;c++)c%2==0?(l.push(n.getX(c)),l.push(n.getX(c+1)),l.push(n.getX(c+2))):(l.push(n.getX(c+2)),l.push(n.getX(c+1)),l.push(n.getX(c)));return l.length,(t=e.clone()).setIndex(l),t}function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function oe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ae(e,t){return(ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ae(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=se(e);n=t?(n=se(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===ie(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(r);function r(e){var t;if(this instanceof r)return(t=n.call(this)).sources=e,t.items={},t.toLoad=t.sources.length,t.loaded=0,t.setLoaders(),t.startLoading(),t.toLoad,t;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"setLoaders",value:function(){this.loaders={},this.loaders.gltfLoader=new g,this.loaders.textureLoader=new i.ec,this.loaders.cubeTextureLoader=new i.r}},{key:"startLoading",value:function(){var e,t=this,n=function(e,t){var n,i,r,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==a.return||a.return()}finally{if(i)throw r}}};if(Array.isArray(e)||(a=function(e,t){var n;if(e)return"string"==typeof e?re(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.sources);try{for(n.s();!(e=n.n()).done;)!function(){var n,i=e.value;"gltfModel"===i.type?t.loaders.gltfLoader.load(i.path,(function(e){t.sourceLoaded(i,e)})):"texture"===i.type?t.loaders.textureLoader.load(i.path,(function(e){t.sourceLoaded(i,e)})):"cubeTexture"===i.type?t.loaders.cubeTextureLoader.load(i.path,(function(e){t.sourceLoaded(i,e)})):"image"===i.type&&((n=new Image).src=i.path,n.onload=function(){t.sourceLoaded(i,n)})}()}catch(e){n.e(e)}finally{n.f()}}},{key:"sourceLoaded",value:function(e,t){this.items[e.name]=t,this.loaded++,this.loaded===this.toLoad&&this.emit("__class_resource_loaded")}}])&&oe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(t.a)},function(e,t,n){"use strict";(function(e){var i=n(149),r=n.n(i),o=n(98);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function l(e,t,n,i,r){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}s(i=function(){function e(){var t;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._binded=!1,this.width=window.innerWidth,this.height=window.innerHeight,this.webGLEl=document.body.querySelector(".webgl"),this.webGLEl&&(t=this.webGLEl.getBoundingClientRect(),this.wWidth=t.width,this.wHeight=t.height),this.pixelRatio=window.devicePixelRatio,this.prWidth=this.width*this.pixelRatio,this.prHeight=this.height*this.pixelRatio,this.aspect=this.width/this.height,this.isFocused=!0,this.bind()}var t,n;return t=e,(n=[{key:"bind",value:function(){this._binded||(this._handleDebounceResize=r()(this._handleResize,50),window.addEventListener("resize",this._handleDebounceResize,!1),window.addEventListener("blur",this._handleBlur,!1),window.addEventListener("focus",this._handleFocus,!1),this._binded=!0)}},{key:"unbind",value:function(){this._binded&&(window.removeEventListener("resize",this._handleDebounceResize,!1),window.removeEventListener("blur",this._handleBlur,!1),window.removeEventListener("focus",this._handleFocus,!1),this._binded=!1)}},{key:"addResize",value:function(t){o.a.on(e.RESIZED,t)}},{key:"removeResize",value:function(t){o.a.off(e.RESIZED,t)}},{key:"_handleResize",value:function(t){var n;this.pixelRatio=window.devicePixelRatio,this.width=window.innerWidth,this.height=window.innerHeight,this.webGLEl?(n=this.webGLEl.getBoundingClientRect(),this.wWidth=n.width,this.wHeight=n.height):(this.wWidth=this.width,this.wHeight=this.height),this.prWidth=this.width*this.pixelRatio,this.prHeight=this.height*this.pixelRatio,this.aspect=this.width/this.height,o.a.emit(e.RESIZED,this.width,this.height,this.aspect)}},{key:"_handleBlur",value:function(t){this.isFocused=!1,o.a.emit(e.BLURRED,t)}},{key:"_handleFocus",value:function(t){this.isFocused=!0,o.a.emit(e.FOCUSED,t)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),"RESIZED","stage_resized"),s(i,"BLURRED","stage_blured"),s(i,"FOCUSED","stage_focused"),l((i=i).prototype,"_handleResize",[e],Object.getOwnPropertyDescriptor(i.prototype,"_handleResize"),i.prototype),l(i.prototype,"_handleBlur",[e],Object.getOwnPropertyDescriptor(i.prototype,"_handleBlur"),i.prototype),l(i.prototype,"_handleFocus",[e],Object.getOwnPropertyDescriptor(i.prototype,"_handleFocus"),i.prototype),e=i;t.a=new e}).call(this,n(154).bind)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor.a *= opacity;\n\n\n\t\t}"}},function(e,t,n){"use strict";var i=n(44);n=new(n.n(i).a);window.emitterDebug=n,t.a=n},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}e.exports=i},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(82);function r(e){i.call(this,null==e?"canceled":e,i.ERR_CANCELED),this.name="CanceledError"}n(34).inherits(r,i,{__CANCEL__:!0}),e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return c.Date.now()}var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,u=(t="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t,"object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self),c=t||u||Function("return this")(),h=Object.prototype.toString,d=Math.max,f=Math.min;function p(e){var t=n(e);return e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==n(e)||!!(t=e)&&"object"==n(t)&&"[object Symbol]"==h.call(e);var t}(e))return NaN;if("string"!=typeof(e=p(e)?p(t="function"==typeof e.valueOf?e.valueOf():e)?t+"":t:e))return 0===e?e:+e;e=e.replace(r,"");var t=a.test(e);return t||s.test(e)?l(e.slice(2),t?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,a,s,l,u,c=0,h=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,i=o;return r=o=void 0,c=t,s=e.apply(i,n)}function b(e){var n=e-u;return void 0===u||t<=n||n<0||v&&a<=e-c}function _(){var e,n=i();if(b(n))return w(n);l=setTimeout(_,(e=t-((n=n)-u),v?f(e,a-(n-c)):e))}function w(e){return l=void 0,g&&r?y(e):(r=o=void 0,s)}function x(){var e=i(),n=b(e);if(r=arguments,o=this,u=e,n){if(void 0===l)return c=e=u,l=setTimeout(_,t),h?y(e):s;if(v)return l=setTimeout(_,t),y(u)}return void 0===l&&(l=setTimeout(_,t)),s}return t=m(t)||0,p(n)&&(h=!!n.leading,a=(v="maxWait"in n)?d(m(n.maxWait)||0,t):a,g="trailing"in n?!!n.trailing:g),x.cancel=function(){void 0!==l&&clearTimeout(l),r=u=o=l=void(c=0)},x.flush=function(){return void 0===l?s:w(i())},x}}).call(this,n(99))},function(e,t,n){"use strict";var i=n(259),r=n.n(i);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._webglContext=this._getWebglContext()}var t,n;return t=e,(n=[{key:"gamepad",get:function(){return void 0!==window.navigator.getGamepads}},{key:"canvas",get:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}},{key:"webgl",get:function(){return{supported:this._webglSupported(),extensions:this._webglExtensions(),textureFormat:this._webglTextureFormat()}}},{key:"blob",get:function(){return!!window.Blob}},{key:"worker",get:function(){return"undefined"!=typeof Worker}},{key:"_getWebglContext",value:function(){return document.createElement("canvas").getContext("webgl")||document.createElement("canvas").getContext("experimental-webgl")}},{key:"_webglSupported",value:function(){return!!this._webglContext}},{key:"_getWebglExtension",value:function(e,t){var n,i=["","WEBKIT_","MOZ_"],r=null;for(n in i)if(r=e.getExtension(i[n]+t))break;return r}},{key:"_webglExtensions",value:function(){var e=this._webglContext;return e?{dxt:this._getWebglExtension(e,"WEBGL_compressed_texture_s3tc")}:null}},{key:"_webglTextureFormat",value:function(){var e=this._webglExtensions(),t="uncompressed";return{format:t=e&&e.dxt&&e.dxt.COMPRESSED_RGB_S3TC_DXT1_EXT?"dxt":t,compressed:"uncompressed"!==t}}},{key:"webglContext",get:function(){return this._webglContext}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n;return t=e,(n=[{key:"init",value:function(e){this.sniffer=r()(e),this.os=this.sniffer.os,this.browser=this.sniffer.browser,this.feature=this.sniffer.feature,this.browserName=this.sniffer.browser.name,this.isMobile=this.sniffer.features.mobile,this.isDesktop=!this.sniffer.features.mobile,this.addClasses(),this.supports=new a,window.detectDebug=this,window.browserName=this.sniffer.browserName}},{key:"addClasses",value:function(){var e=document.body;e.classList.add("os-".concat(this.os.name)),e.classList.add("browser-".concat(this.browserName)),this.isMobile&&e.classList.add("is-mobile"),this.isDesktop&&e.classList.add("is-desktop")}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.a=new n},function(e,t,n){e.exports=n(286)},function(e,t,n){"use strict";(function(t){var i=n(34),r=n(291),o=n(82),a=n(190),s=n(191),l={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,h={transitional:a,adapter:c="undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?n(192):c,transformRequest:[function(e,t){if(r(t,"Accept"),r(t,"Content-Type"),!(i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e))){if(i.isArrayBufferView(e))return e.buffer;if(i.isURLSearchParams(e))return u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n=i.isObject(e),o=t&&t["Content-Type"];if((a=i.isFileList(e))||n&&"multipart/form-data"===o)return l=this.env&&this.env.FormData,s(a?{"files[]":e}:e,l&&new l);if(n||"application/json"===o){u(t,"application/json");var a=e,l=void 0;n=void 0;if(i.isString(a))try{return(l||JSON.parse)(a),i.trim(a)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(a)}}return e}],transformResponse:[function(e){var t=(n=this.transitional||h.transitional)&&n.silentJSONParsing,n=n&&n.forcedJSONParsing;if((t=!t&&"json"===this.responseType)||n&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(t){if("SyntaxError"===e.name)throw o.from(e,o.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(303)},validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){h.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){h.headers[e]=i.merge(l)})),e.exports=h}).call(this,n(153))},function(e,t){var n,i;e=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return(n=setTimeout)(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}var s,l=[],u=!1,c=-1;function h(){u&&s&&(u=!1,s.length?l=s.concat(l):c=-1,l.length&&d())}function d(){if(!u){for(var e=a(h),t=(u=!0,l.length);t;){for(s=l,l=[];++c<t;)s&&s[c].run();c=-1,t=l.length}s=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return(i=clearTimeout)(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||u||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=p,e.addListener=p,e.once=p,e.off=p,e.removeListener=p,e.removeAllListeners=p,e.emit=p,e.prependListener=p,e.prependOnceListener=p,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(308));n=r(n(309));function r(e){return e&&e.__esModule?e:{default:e}}t.default={bind:i.default,mixin:n.default},e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"a",(function(){return d})),t=n(44);var r=new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.expires=30,this.prefix="%_"}var t,n;return t=e,(n=[{key:"set",value:function(e,t){e=this.prefix+e;var n=((n=new Date).setTime(n.getTime()+24*this.expires*60*60*1e3),"expires="+n.toUTCString());document.cookie=e+"="+t+"; "+n+"; path=/"}},{key:"get",value:function(e){for(var t=(e=this.prefix+e)+"=",n=document.cookie.split(";"),i=0,r=n.length;i<r;i++){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}},{key:"check",value:function(e){return null!=this.get(e)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1})}var d=function(){function e(t){u(this,e),this._target=t.target,this._inputs=t.inputs,this._parent=t.parent||!1,this._cookies=t.cookies||!1,this._callback=null,this._formValidatorInputs=[],this._init()}return h(e,[{key:"_init",value:function(){if(Array.isArray(this._inputs))for(var e=0,t=this._inputs.length;e<t;e++){var n=this._inputs[e];this._formValidatorInputs.push(new p({input:n,parent:this._parent,cookies:this._cookies}))}else{var i=this._inputs;this._formValidatorInputs.push(new p({input:i,parent:this._parent,cookies:this._cookies}))}this.bind()}},{key:"bind",value:function(){for(var e=0,t=this._formValidatorInputs.length;e<t;e++){var n=this._formValidatorInputs[e];n.on(f.CHANGED,this._changedHandler,this),n.bind()}}},{key:"unbind",value:function(){for(var e=0,t=this._formValidatorInputs.length;e<t;e++){var n=this._formValidatorInputs[e];n.off(f.CHANGED,this._changedHandler,this),n.unbind()}}},{key:"_changedHandler",value:function(){if("function"==typeof this._callback){for(var e=0,t=0,n=this._formValidatorInputs.length;t<n;t++)this._formValidatorInputs[t].isValid()&&e++;this._callback.call(this._callback,e)}}},{key:"on",value:function(e){this._callback=e}},{key:"off",value:function(){this._callback=null}},{key:"isValid",value:function(){for(var e=!0,t=0,n=this._formValidatorInputs.length;t<n;t++){var i=this._formValidatorInputs[t];i.process(),!1===i.isValid()&&(e=!1)}return e}},{key:"isValidEmail",value:function(){for(var e=!0,t=0,n=this._formValidatorInputs.length;t<n;t++){var i=this._formValidatorInputs[t];"email"==i.getType()&&(i.process(),!1===i.isValid()&&(e=!1))}return e}},{key:"getData",value:function(){for(var e={},t=0,n=this._formValidatorInputs.length;t<n;t++){var i=this._formValidatorInputs[t];e[i.getName()]=i.getValue()}return e}}]),e}(),f={CHANGED:"__fvi_changed"},p=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);n=t?(n=l(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===o(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return s(i)}}(i);function i(e){var t;return u(this,i),(t=n.call(this))._input=e.input,t._parent=e.parent,t._cookies=e.cookies,t._type=t._input.getAttribute("data-type"),t._name=t._input.getAttribute("name"),t._value=null,t._valid=!1,t._elementToToggle=!1===t._parent?t._input:t._input.parentNode,t._allowedTypes=["text","email","phone","zipcode","number","textarea","date","not-required"],t.process=t.process.bind(s(t)),t._focusHandler=t._focusHandler.bind(s(t)),t._dateKeyupHandler=t._dateKeyupHandler.bind(s(t)),t._textareaInputHandler=t._textareaInputHandler.bind(s(t)),t._init(),t}return h(i,[{key:"_init",value:function(){if("INPUT"!==this._input.tagName&&"TEXTAREA"!==this._input.tagName)throw new Error("Element must be an INPUT");if(this._allowedTypes.indexOf(this._input.getAttribute("data-type"))<0)throw new Error("Unknown input type '"+this._input.getAttribute("data-type")+"'. This class can't validate this type.");if(null==this._input.getAttribute("name"))throw new Error("Please specify attribute 'name' in your input Element.");r.check(this._name)&&(this._value=r.get(this._name),this._input.value=this._value)}},{key:"bind",value:function(){this._input.addEventListener("keyup",this.process),this._input.addEventListener("blur",this.process),this._input.addEventListener("focus",this._focusHandler),"date"===this._type&&this._input.addEventListener("keyup",this._dateKeyupHandler),"textarea"===this._type&&this._input.addEventListener("input",this._textareaInputHandler)}},{key:"unbind",value:function(){this._input.removeEventListener("keyup",this.process),this._input.removeEventListener("blur",this.process),this._input.removeEventListener("focus",this._focusHandler),"date"===this._type&&this._input.removeEventListener("keyup",this._dateKeyupHandler),"textarea"===this._type&&this._input.removeEventListener("input",this._textareaInputHandler)}},{key:"process",value:function(){this._valid=!1,this._value=this._input.value,this._elementToToggle.classList.remove("focus");var e="";switch(this._type){case"text":1<=this._value.length&&(this._valid=!0);break;case"textarea":5<=this._value.length&&(this._valid=!0);break;case"email":e=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;break;case"number":e=/^[0-9]{1}[0-9 ]*$/;break;case"date":e=/^(0?[1-9]|[12][0-9]|3[01])\/(0?[1-9]|1[012])\/(19[0-9]{2}|20[0-9]{2})$/;break;case"zipcode":e=/^\d{5}(?:[-\s]\d{4})?$/;break;case"phone":this._value=this._value.replace(/ /g,"").replace(/\./g,""),this._input.value=this._value,e=/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im;break;case"not-required":this._valid=!0}""!==e&&e.test(this._value)&&(this._valid=!0),""==this._value&&this._input.classList.contains("not-required")&&(this._valid=!0),this._valid?(this._elementToToggle.parentNode.classList.remove("error"),this._elementToToggle.parentNode.classList.add("success"),""==this._value&&this._input.classList.contains("not-required")&&this._elementToToggle.parentNode.classList.remove("success"),this._cookies&&r.set(this._name,this._value)):(this._elementToToggle.parentNode.classList.remove("success"),this._elementToToggle.parentNode.classList.add("error")),this.emit(f.CHANGED,null)}},{key:"_focusHandler",value:function(){this._elementToToggle.classList.add("focus")}},{key:"_dateKeyupHandler",value:function(e){var t=this._input.value,n=t.length;191!==e.which&&111!==e.which||"/"!==t.charAt(t.length-1)?8===e.which||2!==n&&5!==n||(this._input.value=t+"/"):e.preventDefault()}},{key:"_textareaInputHandler",value:function(e){this._input.parentNode.dataset.replicatedValue=this._input.value}},{key:"getValue",value:function(){return this._value}},{key:"getName",value:function(){return this._name}},{key:"getType",value:function(){return this._type}},{key:"isValid",value:function(){return this._valid}}]),i}(t.EventEmitter)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},function(e,t,n){"use strict";var i=n(34);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){var o;return!t||(n=n?n(t):i.isURLSearchParams(t)?t.toString():(o=[],i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),o.push(r(t)+"="+r(e))})))})),o.join("&")))&&(-1!==(t=e.indexOf("#"))&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n),e}},function(e,t,n){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},function(e,t,n){"use strict";(function(t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n(34);e.exports=function(e,n){n=n||new FormData;var o=[];function a(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):t.from(e):e}return function e(t,s){if(r.isPlainObject(t)||r.isArray(t)){if(-1!==o.indexOf(t))throw Error("Circular reference detected in "+s);o.push(t),r.forEach(t,(function(t,o){if(!r.isUndefined(t)){var l=s?s+"."+o:o;if(t&&!s&&"object"===i(t))if(r.endsWith(o,"{}"))t=JSON.stringify(t);else if(r.endsWith(o,"[]")&&(o=r.toArray(t)))return void o.forEach((function(e){r.isUndefined(e)||n.append(l,a(e))}));e(t,l)}})),o.pop()}else n.append(s,a(t))}(e),n}}).call(this,n(292).Buffer)},function(e,t,n){"use strict";var i=n(34),r=n(296),o=n(297),a=n(189),s=n(193),l=n(300),u=n(301),c=n(190),h=n(82),d=n(119),f=n(302);e.exports=function(e){return new Promise((function(t,n){var p,m=e.data,v=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}i.isFormData(m)&&i.isStandardBrowserEnv()&&delete v["Content-Type"];var b=new XMLHttpRequest,_=(e.auth&&(_=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"",v.Authorization="Basic "+btoa(_+":"+x)),s(e.baseURL,e.url));function w(){var i;b&&(i="getAllResponseHeaders"in b?l(b.getAllResponseHeaders()):null,i={data:g&&"text"!==g&&"json"!==g?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:i,config:e,request:b},r((function(e){t(e),y()}),(function(e){n(e),y()}),i),b=null)}b.open(e.method.toUpperCase(),a(_,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(w)},b.onabort=function(){b&&(n(new h("Request aborted",h.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new h("Network Error",h.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||c;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new h(t,i.clarifyTimeoutError?h.ETIMEDOUT:h.ECONNABORTED,e,b)),b=null},i.isStandardBrowserEnv()&&(x=(e.withCredentials||u(_))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0)&&(v[e.xsrfHeaderName]=x),"setRequestHeader"in b&&i.forEach(v,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete v[t]:b.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),g&&"json"!==g&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){b&&(n(!e||e.type?new d:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p)));m=m||null;var x=f(_);x&&-1===["http","https","file"].indexOf(x)?n(new h("Unsupported protocol "+x+":",h.ERR_BAD_REQUEST,e)):b.send(m)}))}},function(e,t,n){"use strict";var i=n(298),r=n(299);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var i=n(34);e.exports=function(e,t){t=t||{};var n={};function r(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function o(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function a(e){if(!i.isUndefined(t[e]))return r(void 0,t[e])}function s(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function l(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return i.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,r=t(e);i.isUndefined(r)&&t!==l||(n[e]=r)})),n}},function(e,t){e.exports={version:"0.27.2"}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.camelToKebab=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},t.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.isBrowser=function(){return!(void 0!==e&&"node"===e.title)}}).call(this,n(153))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var i,r,o,a,s,l=n(55),u=n.n(l),c=n(96),h=n(36),d=n(2),f=n(39),p=n(81),m=n(150);function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}d.a.registerPlugin(f.a),i=(l=function(){function e(t,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=this,o=e;if(!(r instanceof o))throw new TypeError("Cannot call a class as a function");t&&(this.el=t,this.type=n,this.opts=i,this._isAnimated=!1,this._timeouts=[],this.resize(),this.bind(),d.a.set(t,{opacity:0}),this.baseContent=t.innerHTML)}var t,n;return t=e,(n=[{key:"bind",value:function(){this.rafData=u.a.add(this.update,30)}},{key:"destroy",value:function(){this._tl&&this._tl.kill(),this._timeouts&&this._timeouts.forEach((function(e){return clearTimeout(e)})),u.a.remove(this.update)}},{key:"delayedCall",value:function(e,t){return e=setTimeout(e,t),this._timeouts.push(e),e}},{key:"animateIn",value:function(){if(!this._isAnimated)switch(this._isAnimated=!0,u.a.remove(this.update),this.opts.callback&&this.opts.callback(),this.type){case"title":this.titleAnim();break;case"shuffle":this.shuffleAnim();break;case"fade":this.fadeAnim();break;default:this.titleAnim()}}},{key:"titleAnim",value:function(){var e=this,t=(this.splitted=new f.a(this.el,{type:"lines"}),this._tl=d.a.timeline(),this.opts.delay||0),n=m.a.isMobile?30:50;this._tl.set(this.splitted.lines,{y:n,opacity:0},0),this._tl.set(this.el,{opacity:1},t),this._tl.to(this.splitted.lines,{y:0,opacity:1,duration:.7,stagger:.14,ease:"cubic.out",onComplete:function(t){e.splitted.revert()}},t)}},{key:"shuffleAnim",value:function(){for(var e=new f.a(this.el,{type:"chars"}),t=d.a.timeline({onComplete:function(){}}),n=(this._tl=t,this.opts.delay||0),i=(t.set(e.chars,{fontFamily:"glyph",letterSpacing:5,opacity:1},0).set(this.el,{opacity:1},n),0),r=e.chars.length;i<r;i++)!function(i){var r=e.chars[i];i=Object(p.b)(.2,.4)+n;Object(p.b)(.2,1),t.to(r,{opacity:0,duration:.1,onComplete:function(){r.style.fontFamily="Larsseit",r.style.letterSpacing=null,d.a.to(r,{opacity:1,duration:.4})}},i)}(i)}},{key:"fadeAnim",value:function(){d.a.set(this.el,{opacity:.01});var e=d.a.timeline({onComplete:function(){}}),t=(this._tl=e,this.opts.duration||1),n=this.opts.delay||.1;e.to(this.el,{opacity:1,duration:t,ease:"cubic.out"},n)}},{key:"resize",value:function(){!this._isAnimated&&this.el&&(this.bbox=this.el.getBoundingClientRect(),this.offsetY=h.a.scrollTop,this.top=this.bbox.y+h.a.scrollTop-c.a.height,this.bottom=this.bbox.y+h.a.scrollTop-c.a.height+this.bbox.height)}},{key:"update",value:function(e,t){h.a.scrollTop>this.top+50&&!this._isAnimated&&this.animateIn()}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()).prototype,r="update",e=[e],o=Object.getOwnPropertyDescriptor(l.prototype,"update"),a=l.prototype,s={},Object.keys(o).forEach((function(e){s[e]=o[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=e.slice().reverse().reduce((function(e,t){return t(i,r,e)||e}),s),a&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(a):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(i,r,s),s=null),(e=l).getShuffleTl=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=d.a.timeline({paused:!0}),i=new f.a(e,{type:"chars"}),r=(d.a.set(e,{opacity:0}),n.set(i.chars,{fontFamily:"glyph",textTransform:"uppercase",letterSpacing:5,opacity:1},.001).set(e,{opacity:1},t),0),o=i.chars.length;r<o;r++)!function(e){var r=i.chars[e];e=Object(p.b)(.2,.4)+t;Object(p.b)(.2,1),n.to(r,{opacity:0,duration:.1,onComplete:function(){r.style.fontFamily="Larsseit",r.style.letterSpacing=null,r.style.textTransform="none",d.a.to(r,{opacity:1,duration:.4})}},e)}(r);return n},t.a=e}).call(this,n(154).bind)},function(e,t,n){!function(t){"use strict";function n(e){var t={browser:{fullName:"",name:"",version:"",majorVersion:null,minorVersion:null,patchVersion:null,engine:""},os:{fullName:"",name:"",version:"",versionName:"",versionAltNames:[],majorVersion:null,minorVersion:null,patchVersion:null},features:{bw:!1,mobile:!1,tv:!1,proxy:!1}},n={browser:[{test:["SailfishBrowser"],browser:{fullName:"Sailfish Browser",name:"sailfishbrowser",engine:"gecko",$version:{search:"SailfishBrowser/"}},features:{mobile:!0}},{test:["Edge/"],browser:{fullName:"Edge",name:"edge",engine:"edgehtml",$version:{search:"Edge/"}}},{test:["Edg/"],browser:{fullName:"Edge",name:"edge",engine:"webkit",$version:{search:"Edg/"}}},{test:["MSIE"],browser:{fullName:"Internet Explorer",name:"ie",engine:"trident",$version:{search:"MSIE "}}},{test:["Trident"],browser:{fullName:"Internet Explorer",name:"ie",engine:"trident",$version:{search:"rv:"}}},{test:["OPR/"],browser:{fullName:"Opera",name:"opera",engine:"webkit",$version:{search:"OPR/"}}},{test:["UCBrowser"],browser:{fullName:"UC Browser",name:"ucbrowser",engine:"webkit",$version:{search:"UCBrowser/"}}},{test:["YaBrowser"],browser:{fullName:"Yandex Browser",name:"yabrowser",engine:"webkit",$version:{search:"YaBrowser/"}}},{test:["Chrome"],browser:{fullName:"Chrome",name:"chrome",engine:"webkit",$version:{search:"Chrome/"}}},{test:["Firefox"],browser:{fullName:"Firefox",name:"firefox",engine:"gecko",$version:{search:"Firefox/"}}},{test:["NokiaBrowser"],browser:{fullName:"Nokia Browser",name:"nokiabrowser",engine:"webkit",$version:{search:"NokiaBrowser/"}},features:{mobile:!0}},{test:["Opera Mini","Presto"],browser:{fullName:"Opera Mini",name:"operamini",engine:"presto",$version:{search:"Version/"}},features:{mobile:!0,proxy:!0}},{test:["Opera Mini","WebKit"],browser:{fullName:"Opera Mini",name:"operamini",engine:"webkit"},features:{mobile:!0,proxy:!0}},{test:["Opera"],browser:{fullName:"Opera",name:"opera",engine:"presto",$version:{search:"Version/"}}},{test:["OviBrowser"],browser:{fullName:"Ovi Browser",name:"ovi",engine:"gecko",$version:{search:"OviBrowser/"}},features:{mobile:!0,proxy:!0}},{test:["CriOS/"],browser:{fullName:"Chrome",name:"chrome",engine:"webkit",$version:{search:"CriOS/"}}},{test:["Coast/"],browser:{fullName:"Opera Coast",name:"coast",engine:"webkit",$version:{search:"Coast/"}}},{test:["Safari","Version/",/(iPhone|iPod|iPad|Macintosh|Windows)/],browser:{fullName:"Safari",name:"safari",engine:"webkit",$version:{search:"Version/"}}},{test:["WebKit"],browser:{engine:"webkit"}},{test:["Gecko/"],browser:{engine:"gecko"}}],os:[{test:["Sailfish"],os:{fullName:"Sailfish OS",name:"sailfish"},features:{mobile:!0}},{test:["Windows Phone"],os:{fullName:"Windows Phone",name:"winphone",$version:{search:"Windows Phone "}},features:{mobile:!0}},{test:["Windows"],os:{fullName:"Windows",name:"win",$version:{search:"Windows NT ",names:{"10.0":"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP",5.01:"2000","5.0":"2000"},altNames:{5.2:["Server 2003"]}}}},{test:["Macintosh","OS X"],os:{fullName:"macOS",name:"osx",$version:{search:/OS X /,names:{10.6:"Snow Leopard",10.7:"Lion",10.8:"Mountain Lion",10.9:"Mavericks","10.10":"Yosemite",10.11:"El Capitan",10.12:"Sierra",10.13:"High Sierra",10.14:"Mojave",10.15:"Catalina","11.0":"Big Sur"}}}},{test:["Ubuntu"],os:{fullName:"Ubuntu",name:"ubuntu"}},{test:["Fedora"],os:{fullName:"Fedora",name:"fedora",$version:{search:"Fedora/",names:{20:"Heisenbug",19:"Schrödinger's Cat",18:"Spherical Cow",17:"Beefy Miracle",16:"Verne",15:"Lovelock",14:"Laughlin",13:"Goddard",12:"Constantine",11:"Leonidas",10:"Cambridge",9:"Sulphur",8:"Werewolf",7:"Moonshine"}}}},{test:["Kindle"],os:{fullName:"Kindle",name:"kindle",$version:{search:"Kindle/"}},features:{bw:!0,mobile:!0}},{test:[/(BlackBerry|BB\d+)/],os:{fullName:"BlackBerry",name:"blackberry",$version:{search:"Version/"}},features:{mobile:!0}},{test:["Symbian"],os:{fullName:"Symbian",name:"symbian"},features:{mobile:!0}},{test:["Series40"],os:{fullName:"Symbian",name:"symbian"},features:{mobile:!0}},{test:["PlayStation Vita"],os:{fullName:"PlayStation Vita",name:"psvita"},features:{mobile:!0}},{test:[/playstation/i],os:{fullName:"PlayStation",name:"playstation",$version:{search:/playstation\s/i}},features:{tv:!0}},{test:["Nintendo DSi"],os:{fullName:"Nintendo DSi",name:"dsi"},features:{mobile:!0}},{test:["New Nintendo 3DS"],os:{fullName:"New Nintendo 3DS",name:"n3ds"},browser:{engine:"webkit"},features:{mobile:!0}},{test:["Nintendo 3DS"],os:{fullName:"Nintendo 3DS",name:"3ds"},browser:{engine:"webkit"},features:{mobile:!0}},{test:["Viera"],os:{fullName:"Viera",name:"viera"},browser:{engine:"webkit"},features:{tv:!0}},{test:["SonyDTV"],features:{tv:!0}},{test:["Android"],os:{fullName:"Android",name:"android",$version:{search:"Android "}},features:{mobile:!0}},{test:[/iPhone|iPod|iPad/],os:{fullName:"iOS",name:"ios",$version:{search:"OS "}},features:{mobile:!0}}],features:[{test:[/mobile/i],features:{mobile:!0}},{test:[/smart-{0,1}tv/i],features:{tv:!0}}]};if(e)for(var i in n){s=a=o=r=void 0;for(var r=n[i],o=0;o<r.length;o++){for(var a=!0,s=0;s<r[o].test.length;s++)if(r[o].test[s]instanceof RegExp){if(!r[o].test[s].test(e)){a=!1;break}}else if(-1==e.indexOf(r[o].test[s])){a=!1;break}if(a){!function(i){for(var r in n)if(n.hasOwnProperty(r)&&i[r]){if(i[r].$version){var o=function(t){if(t instanceof RegExp){if(!(n=(e.match(t)||[])[0]))return}else n=t;if(-1!=(t=e.indexOf(n))){t=e.substring(t+n.length);var n=/^(\d+(\.|_)){0,2}\d+/.exec(t);if(n)return n[0].replace(/_/g,".")}}(i[r].$version.search);if(o){var a=o.split("."),s=i[r].$version.names,l=i[r].$version.altNames;if(i[r].version=o,a[0]&&(i[r].majorVersion=parseInt(a[0])),a[1]&&(i[r].minorVersion=parseInt(a[1])),a[2]&&(i[r].patchVersion=parseInt(a[2])),s)for(var u,c=[],h=0;h<a.length;h++)c.push(a[h]),s[u=c.join(".")]&&(i[r].versionName=s[u]),l&&l[u]&&(i[r].versionAltNames=l[u])}}for(var d in i[r])i[r].hasOwnProperty(d)&&"$"!==d[0]&&(t[r][d]=i[r][d])}}(r[o]);break}}}return t}e.exports?e.exports=n:t.Sniffer=n}(this)},function(e,t,n){"use strict";(function(e){var i=n(55),r=n.n(i),o=n(96),a=n(36);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}l=(i=function(){function e(t){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this,o=e;if(!(r instanceof o))throw new TypeError("Cannot call a class as a function");t&&(this.el=t,this.opts=i,this.onViewportIn=i.onViewportIn,!(this._onlyOnce=!0)===i.onlyOnce&&(this._onlyOnce=!1),this._offset=i.offset||50,this._isAnimated=!1,this.resize(),this._rzTo=setTimeout((function(){n.resize()}),400),this.bind())}var t,n;return t=e,(n=[{key:"bind",value:function(){this.rafData=r.a.add(this.update,30)}},{key:"destroy",value:function(){clearTimeout(this._rzTo),this._tl&&this._tl.kill(),r.a.remove(this.update)}},{key:"resize",value:function(){this._isAnimated&&this._onlyOnce||!this.el||(this.bbox=this.el.getBoundingClientRect(),this.offsetY=a.a.scrollTop,this.top=this.bbox.y+a.a.scrollTop-o.a.height,this.bottom=this.bbox.y+a.a.scrollTop-o.a.height+this.bbox.height)}},{key:"update",value:function(e,t){a.a.scrollTop>this.top+this._offset&&(this.onViewportIn&&this.onViewportIn(),this._onlyOnce&&r.a.remove(this.update))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()).prototype,u="update",e=[e],c=Object.getOwnPropertyDescriptor(i.prototype,"update"),h=i.prototype,d={},Object.keys(c).forEach((function(e){d[e]=c[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=e.slice().reverse().reduce((function(e,t){return t(l,u,e)||e}),d),h&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(h):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(l,u,d),d=null);var l,u,c,h,d;e=i;t.a=e}).call(this,n(154).bind)},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main() {\n\n    gl_Position = vec4( position, 1.0 );\n\n    vUv = uv;\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform vec2 uRatio;\nuniform vec2 uSize;\nuniform vec3 uPoints[NUM_POINTS];\nuniform vec3 uColors[NUM_SEGMENTS];\nvarying vec2 vUv;\n\nfloat sdSegment(in vec2 p, in vec2 a, in vec2 b)\n{\n    vec2 pa = p - a, ba = b - a;\n    float h = clamp(dot(pa, ba) / dot(ba, ba), 0.0, 1.0);\n    return length(pa - ba*h);\n}\n\nvoid main() {\n    // float intensity = 1.0;\n    // float radius = 0.015;\n    vec2 pos = (vUv - 0.5) * uRatio;\n    vec2 limit = vec2(0.5) * uRatio;\n\n    vec3 col = vec3(0.0);\n    for(int i = 0; i < NUM_SEGMENTS; i++) {\n    vec3 p1 = uPoints[i * 2];\n    vec3 p2 = uPoints[i * 2 + 1];\n    if ((p1.z < -1.0 || p1.z > 1.0) || (p2.z < -1.0 || p2.z > 1.0)) continue;\n    float dist = sdSegment(pos, p1.xy, p2.xy);\n    // if (dist > 0.25) continue;\n    float glow = uSize.y / dist; // pow(uSize.y / dist, intensity);\n    // col += 5.0 * vec3(smoothstep(uSize.x, 0.0, dist));\n    col += glow * uColors[i];\n    }\n\n    // Tone mapping\n    // col = 1.0 - exp(-col);\n    // col = pow(col, vec3(0.5));\n\n    gl_FragColor = vec4(col, 1.0);\n\n    // gl_FragColor = vec4(1.0);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform vec3 uColor;\nuniform float uSize;\n\nvarying vec3 vColor;\n\nvoid main() {\n\n    vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n    vec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectedPosition = projectionMatrix * viewPosition;\n\n    gl_Position = projectedPosition;\n\n    /**\n    * Varying\n    */\n    vColor = color;\n\n    /**\n    * Size\n    */\n    // gl_PointSize = aScale * (200.0 / -mvPosition.z) * (vBokehStrength + 1.0);\n    gl_PointSize = uSize; //uSize * aScale;\n    gl_PointSize *= (1.0 / - viewPosition.z);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uBokehBlurLength;\n\nvarying vec3 vColor;\nvarying float vBokehStrength;\n\nvoid main() {\n\n    float l = length(gl_PointCoord - vec2(0.5, 0.5));\n    if (l > 0.475) discard;\n    // float s = smoothstep(0.0, uBokehBlurLength, vBokehStrength);\n    // float a = smoothstep(0.5, 0.4 * s, l);\n    \n    // gl_FragColor = vec4(vColor, a);\n    gl_FragColor = vec4( vColor, 1.0);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform vec3 uColor;\nuniform float uBokehStrength;\nuniform float uFocalDistance;\nuniform float uDistanceAttenuation;\nuniform float utargetProgress;\n\nattribute vec3 aPositionRandom;\n\nvarying vec3 vColor;\nvarying float vBokehStrength;\n\nvoid main() {\n\n    vec3 pos = position;\n    pos = mix( aPositionRandom, position, utargetProgress );\n    vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n\n    gl_Position = projectionMatrix * mvPosition;\n\n    /**\n    * Varying\n    */\n    \n    // compute bokehStrength\n    float distanceFromFocalPoint = abs(mvPosition.z + uFocalDistance);\n    vBokehStrength = distanceFromFocalPoint * uBokehStrength;\n\n    // distance attenuation\n    vColor = uColor * color;\n    vColor *= exp(-distanceFromFocalPoint * uDistanceAttenuation);\n    \n    /**\n    * Size\n    */\n    gl_PointSize = (50.0 / -mvPosition.z) * (vBokehStrength + 1.0);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uBokehBlurLength;\nuniform float uOpacity;\n\nvarying vec3 vColor;\nvarying float vBokehStrength;\n\nvoid main() {\n    float l = length(gl_PointCoord - vec2(0.5, 0.5));\n    if (l > 0.475) discard;\n    float s = smoothstep(0.0, uBokehBlurLength, vBokehStrength);\n    float a = ( 0.1 + 0.9 * smoothstep(0.5, 0.2 + 0.275 * s, l) ) * uOpacity;\n    gl_FragColor = vec4(vColor, a);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uTime;\nuniform vec3 uColor;\nuniform float uBokehStrength;\nuniform float uFocalDistance;\nuniform float uDistanceAttenuation;\nuniform float utargetProgress;\nuniform float uSpeed;\nuniform float uElevation;\n\nattribute vec3 aRandom;\nattribute vec3 aPositionRandom;\n\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying float vBokehStrength;\n\nvoid main() {\n    \n    vec3 pos = position;\n    pos = mix( aPositionRandom, position, utargetProgress );\n\n    float modulo = mod(uTime * uSpeed * aRandom.y * 0.025, 0.1 * aRandom.z * uElevation );\n    float disp = aRandom.x * modulo;\n    pos *= 1.0 + disp;\n    \n    vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n\n    gl_Position = projectionMatrix * mvPosition;\n\n    /**\n    * Varying\n    */\n\n    // compute bokehStrength\n    float distanceFromFocalPoint = abs(mvPosition.z + uFocalDistance);\n    vBokehStrength = distanceFromFocalPoint * uBokehStrength;\n\n    // distance attenuation\n    vColor = uColor * color;\n    vColor *= exp(-distanceFromFocalPoint * uDistanceAttenuation);\n\n    // opacity\n    float progress = modulo / (0.1 * aRandom.z * uElevation);\n    if (progress < 0.1) {\n        vOpacity = progress / 0.1;\n    } else {\n        vOpacity = 1.0 - progress;\n    }\n    vOpacity *= utargetProgress;\n    \n    /**\n    * Size\n    */\n    gl_PointSize = (50.0 / -mvPosition.z) * (vBokehStrength + 1.0);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uBokehBlurLength;\n\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying float vBokehStrength;\n\nvoid main() {\n    float l = length(gl_PointCoord - vec2(0.5, 0.5));\n    if (l > 0.475) discard;\n    float s = smoothstep(0.0, uBokehBlurLength, vBokehStrength);\n    float a = vOpacity * (0.1 + 0.9 * smoothstep(0.5, 0.2 + 0.275 * s, l));\n    gl_FragColor = vec4(vColor, a);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main()\n{\n    // gl_Position = projewctionMatrix * modelViewMatrix * vec4(position, 1.0);\n    gl_Position = vec4(position, 1.0);\n\n    vUv = uv;\n}"},function(e,t){e.exports="#define GLSLIFY 1\n#define PI 3.1415926535897932384626433832795\n\nuniform float uTime;\nuniform vec3 uColor;\nuniform float uNoiseTime;\nuniform float uNoiseCoord;\nuniform float uOpacity;\nuniform float utargetProgress;\n\nvarying vec2 vUv;\n\nfloat random(vec2 st)\n{\n    return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);\n}\n\nvec2 rotate(vec2 uv, float rotation, vec2 mid)\n{\n    return vec2(\n        cos(rotation) * (uv.x - mid.x) + sin(rotation) * (uv.y - mid.y) + mid.x,\n        cos(rotation) * (uv.y - mid.y) - sin(rotation) * (uv.x - mid.x) + mid.y\n    );\n}\n\n//\tClassic Perlin 2D Noise\n//\tby Stefan Gustavson\n//\n// vec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\n// vec4 permute(vec4 x)\n// {\n//     return mod(((x*34.0)+1.0)*x, 289.0);\n// }\n\n// float cnoise(vec2 P){\n//     vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n//     vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n//     Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n//     vec4 ix = Pi.xzxz;\n//     vec4 iy = Pi.yyww;\n//     vec4 fx = Pf.xzxz;\n//     vec4 fy = Pf.yyww;\n//     vec4 i = permute(permute(ix) + iy);\n//     vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n//     vec4 gy = abs(gx) - 0.5;\n//     vec4 tx = floor(gx + 0.5);\n//     gx = gx - tx;\n//     vec2 g00 = vec2(gx.x,gy.x);\n//     vec2 g10 = vec2(gx.y,gy.y);\n//     vec2 g01 = vec2(gx.z,gy.z);\n//     vec2 g11 = vec2(gx.w,gy.w);\n//     vec4 norm = 1.79284291400159 - 0.85373472095314 *\n//     vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n//     g00 *= norm.x;\n//     g01 *= norm.y;\n//     g10 *= norm.z;\n//     g11 *= norm.w;\n//     float n00 = dot(g00, vec2(fx.x, fy.x));\n//     float n10 = dot(g10, vec2(fx.y, fy.y));\n//     float n01 = dot(g01, vec2(fx.z, fy.z));\n//     float n11 = dot(g11, vec2(fx.w, fy.w));\n//     vec2 fade_xy = fade(Pf.xy);\n//     vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n//     float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n//     return 2.3 * n_xy;\n// }\n\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\nvec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec3 P){\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod(Pi0, 289.0);\n  Pi1 = mod(Pi1, 289.0);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 / 7.0;\n  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 / 7.0;\n  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); \n  return 2.2 * n_xyz;\n}\n\nvoid main()\n{\n\n    // Test\n    vec3 blackColor = vec3(0.0);\n    vec2 displacedUv = vUv + cnoise( vec3( vUv * uNoiseCoord, uTime * uNoiseTime ) );\n    vec3 mixedColor = mix(blackColor, uColor, displacedUv.x * displacedUv.y);\n    float mixAlpha = mix( 0.0, uOpacity * utargetProgress, displacedUv.x * displacedUv.y);\n    gl_FragColor = vec4(mixedColor, mixAlpha);\n    // gl_FragColor = vec4(1., 0., 0., 1.);\n\n    // Test\n    // float strength = cnoise( vec3( vUv * uNoiseCoord, uTime * uNoiseTime ) );\n    // vec3 blackColor = vec3(0.0);\n    // vec3 mixedColor = mix(blackColor, uColor, strength);\n    // float mixAlpha = mix( 0.0, 0.6, strength);\n    // gl_FragColor = vec4(mixedColor, mixAlpha);\n\n    // Test\n    // vec2 displacedUv = vUv + cnoise( vec3( vUv * uNoiseCoord, uTime * uNoiseTime ) );\n    // gl_FragColor = vec4(displacedUv, 1.0, 1.0);\n\n    // Test\n    // vec3 blackColor = vec3(0.0);\n    // vec2 displacedUv = vUv + cnoise( vec3( vUv * 2.0, uTime * 0.1 ) );\n    // float mixedColor1 = mix(blackColor.r, uColor.r, displacedUv.x);\n    // float mixedColor2 = mix(blackColor.g, uColor.g, displacedUv.y);\n    // float mixedColor3 = mix(blackColor.b, uColor.b, displacedUv.y);\n    // float mixAlpha = mix( 0.0, 0.6, mixedColor3);\n    // gl_FragColor = vec4(mixedColor1, mixedColor2, mixedColor3, mixAlpha);\n}"},function(e,t){e.exports='#define GLSLIFY 1\nuniform float uTime;\nuniform vec3 uColor;\nuniform float uNoiseCoordScale;\nuniform float uBokehStrength;\nuniform float uFocalDistance;\nuniform float uDistanceAttenuation;\nuniform vec3 uNoiseOffsets;\nuniform float uProgressScrollRotation;\nuniform float uProgressScrollScale;\n\nattribute float aRandomness;\n\nvarying vec3 vColor;\nvarying float vBokehStrength;\nvarying float vAttenuation;\n\n//\n// psrdnoise3.glsl\n//\n// Authors: Stefan Gustavson (stefan.gustavson@gmail.com)\n// and Ian McEwan (ijm567@gmail.com)\n// Version 2021-12-02, published under the MIT license (see below)\n//\n// Copyright (c) 2021 Stefan Gustavson and Ian McEwan.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the "Software"),\n// to deal in the Software without restriction, including without limitation\n// the rights to use, copy, modify, merge, publish, distribute, sublicense,\n// and/or sell copies of the Software, and to permit persons to whom the\n// Software is furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n// THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n// DEALINGS IN THE SOFTWARE.\n//\n\n//\n// Periodic (tiling) 3-D simplex noise (tetrahedral lattice gradient noise)\n// with rotating gradients and analytic derivatives.\n//\n// This is (yet) another variation on simplex noise. Unlike previous\n// implementations, the grid is axis-aligned to permit rectangular tiling.\n// The noise pattern can be made to tile seamlessly to any integer periods\n// up to 289 units in the x, y and z directions. Specifying a longer\n// period than 289 will result in errors in the noise field.\n//\n// This particular version of 3-D noise also implements animation by rotating\n// the generating gradient at each lattice point around a pseudo-random axis.\n// The rotating gradients give the appearance of a swirling motion, and\n// can serve a similar purpose for animation as motion along the fourth\n// dimension in 4-D noise. \n//\n// The rotating gradients in conjunction with the built-in ability to\n// compute exact analytic derivatives allow for "flow noise" effects\n// as presented by Ken Perlin and Fabrice Neyret.\n//\n\n// Use Perlin\'s rotated grid instead of the new tiling grid?\n// Enabling this adds about 1% to the execution time and\n// requires all periods to be multiples of 3. Other\n// integer periods can be specified, but when not evenly\n// divisible by 3, the actual period will be 3 times longer.\n// Take care not to overstep the maximum allowed period (288).\n//#define PERLINGRID\n\n// Enable faster gradient rotations?\n// Enabling this saves about 10% on execution time,\n// but the function will not run faster for alpha = 0.\n//#define FASTROTATION\n\n\n// Permutation polynomial for the hash value\nvec4 permute(vec4 x) {\n     vec4 xm = mod(x, 289.0);\n     return mod(((xm*34.0)+10.0)*xm, 289.0);\n}\n\n//\n// 3-D tiling simplex noise with rotating gradients and first order\n// analytical derivatives.\n// "vec3 x" is the point (x,y,z) to evaluate\n// "vec3 period" is the desired periods along x,y,z, up to 289.\n// (If Perlin\'s grid is used, multiples of 3 up to 288 are allowed.)\n// "float alpha" is the rotation (in radians) for the swirling gradients.\n// The "float" return value is the noise value, and\n// the "out vec3 gradient" argument returns the x,y,z partial derivatives.\n//\n// The function executes 15-20% faster if alpha is constant == 0.0\n// across all fragments being executed in parallel.\n// (This speedup will not happen if FASTROTATION is enabled. Do not specify\n// FASTROTATION if you are not actually going to use the rotation.)\n//\n// Setting any period to 0.0 or a negative value will skip the periodic\n// wrap for that dimension. Setting all periods to 0.0 makes the function\n// execute 10-15% faster.\n//\n// Not using the return value for the gradient will make the compiler\n// eliminate the code for computing it. This speeds up the function by\n// around 10%.\n//\nfloat psrdnoise(vec3 x, vec3 period, float alpha, out vec3 gradient)\n{\n\n#ifndef PERLINGRID\n  // Transformation matrices for the axis-aligned simplex grid\n  const mat3 M = mat3(0.0, 1.0, 1.0,\n                      1.0, 0.0, 1.0,\n                      1.0, 1.0, 0.0);\n\n  const mat3 Mi = mat3(-0.5, 0.5, 0.5,\n                        0.5,-0.5, 0.5,\n                        0.5, 0.5,-0.5);\n#endif\n\n  vec3 uvw;\n\n  // Transform to simplex space (tetrahedral grid)\n#ifndef PERLINGRID\n  // Use matrix multiplication, let the compiler optimise\n  uvw = M * x;\n#else\n  // Optimised transformation to uvw (slightly faster than\n  // the equivalent matrix multiplication on most platforms)\n  uvw = x + dot(x, vec3(1.0/3.0));\n#endif\n\n  // Determine which simplex we\'re in, i0 is the "base corner"\n  vec3 i0 = floor(uvw);\n  vec3 f0 = fract(uvw); // coords within "skewed cube"\n\n  // To determine which simplex corners are closest, rank order the\n  // magnitudes of u,v,w, resolving ties in priority order u,v,w,\n  // and traverse the four corners from largest to smallest magnitude.\n  // o1, o2 are offsets in simplex space to the 2nd and 3rd corners.\n  vec3 g_ = step(f0.xyx, f0.yzz); // Makes comparison "less-than"\n  vec3 l_ = 1.0 - g_;             // complement is "greater-or-equal"\n  vec3 g = vec3(l_.z, g_.xy);\n  vec3 l = vec3(l_.xy, g_.z);\n  vec3 o1 = min( g, l );\n  vec3 o2 = max( g, l );\n\n  // Enumerate the remaining simplex corners\n  vec3 i1 = i0 + o1;\n  vec3 i2 = i0 + o2;\n  vec3 i3 = i0 + vec3(1.0);\n\n  vec3 v0, v1, v2, v3;\n\n  // Transform the corners back to texture space\n#ifndef PERLINGRID\n  v0 = Mi * i0;\n  v1 = Mi * i1;\n  v2 = Mi * i2;\n  v3 = Mi * i3;\n#else\n  // Optimised transformation (mostly slightly faster than a matrix)\n  v0 = i0 - dot(i0, vec3(1.0/6.0));\n  v1 = i1 - dot(i1, vec3(1.0/6.0));\n  v2 = i2 - dot(i2, vec3(1.0/6.0));\n  v3 = i3 - dot(i3, vec3(1.0/6.0));\n#endif\n\n  // Compute vectors to each of the simplex corners\n  vec3 x0 = x - v0;\n  vec3 x1 = x - v1;\n  vec3 x2 = x - v2;\n  vec3 x3 = x - v3;\n\n  if(any(greaterThan(period, vec3(0.0)))) {\n    // Wrap to periods and transform back to simplex space\n    vec4 vx = vec4(v0.x, v1.x, v2.x, v3.x);\n    vec4 vy = vec4(v0.y, v1.y, v2.y, v3.y);\n    vec4 vz = vec4(v0.z, v1.z, v2.z, v3.z);\n\t// Wrap to periods where specified\n\tif(period.x > 0.0) vx = mod(vx, period.x);\n\tif(period.y > 0.0) vy = mod(vy, period.y);\n\tif(period.z > 0.0) vz = mod(vz, period.z);\n    // Transform back\n#ifndef PERLINGRID\n    i0 = M * vec3(vx.x, vy.x, vz.x);\n    i1 = M * vec3(vx.y, vy.y, vz.y);\n    i2 = M * vec3(vx.z, vy.z, vz.z);\n    i3 = M * vec3(vx.w, vy.w, vz.w);\n#else\n    v0 = vec3(vx.x, vy.x, vz.x);\n    v1 = vec3(vx.y, vy.y, vz.y);\n    v2 = vec3(vx.z, vy.z, vz.z);\n    v3 = vec3(vx.w, vy.w, vz.w);\n    // Transform wrapped coordinates back to uvw\n    i0 = v0 + dot(v0, vec3(1.0/3.0));\n    i1 = v1 + dot(v1, vec3(1.0/3.0));\n    i2 = v2 + dot(v2, vec3(1.0/3.0));\n    i3 = v3 + dot(v3, vec3(1.0/3.0));\n#endif\n\t// Fix rounding errors\n    i0 = floor(i0 + 0.5);\n    i1 = floor(i1 + 0.5);\n    i2 = floor(i2 + 0.5);\n    i3 = floor(i3 + 0.5);\n  }\n\n  // Compute one pseudo-random hash value for each corner\n  vec4 hash = permute( permute( permute( \n              vec4(i0.z, i1.z, i2.z, i3.z ))\n            + vec4(i0.y, i1.y, i2.y, i3.y ))\n            + vec4(i0.x, i1.x, i2.x, i3.x ));\n\n  // Compute generating gradients from a Fibonacci spiral on the unit sphere\n  vec4 theta = hash * 3.883222077;  // 2*pi/golden ratio\n  vec4 sz    = hash * -0.006920415 + 0.996539792; // 1-(hash+0.5)*2/289\n  vec4 psi   = hash * 0.108705628 ; // 10*pi/289, chosen to avoid correlation\n\n  vec4 Ct = cos(theta);\n  vec4 St = sin(theta);\n  vec4 sz_prime = sqrt( 1.0 - sz*sz ); // s is a point on a unit fib-sphere\n\n  vec4 gx, gy, gz;\n\n  // Rotate gradients by angle alpha around a pseudo-random ortogonal axis\n#ifdef FASTROTATION\n  // Fast algorithm, but without dynamic shortcut for alpha = 0\n  vec4 qx = St;         // q\' = norm ( cross(s, n) )  on the equator\n  vec4 qy = -Ct; \n  vec4 qz = vec4(0.0);\n\n  vec4 px =  sz * qy;   // p\' = cross(q, s)\n  vec4 py = -sz * qx;\n  vec4 pz = sz_prime;\n\n  psi += alpha;         // psi and alpha in the same plane\n  vec4 Sa = sin(psi);\n  vec4 Ca = cos(psi);\n\n  gx = Ca * px + Sa * qx;\n  gy = Ca * py + Sa * qy;\n  gz = Ca * pz + Sa * qz;\n#else\n  // Slightly slower algorithm, but with g = s for alpha = 0, and a\n  // useful conditional speedup for alpha = 0 across all fragments\n  if(alpha != 0.0) {\n    vec4 Sp = sin(psi);          // q\' from psi on equator\n    vec4 Cp = cos(psi);\n\n    vec4 px = Ct * sz_prime;     // px = sx\n    vec4 py = St * sz_prime;     // py = sy\n    vec4 pz = sz;\n\n    vec4 Ctp = St*Sp - Ct*Cp;    // q = (rotate( cross(s,n), dot(s,n))(q\')\n    vec4 qx = mix( Ctp*St, Sp, sz);\n    vec4 qy = mix(-Ctp*Ct, Cp, sz);\n    vec4 qz = -(py*Cp + px*Sp);\n\n    vec4 Sa = vec4(sin(alpha));       // psi and alpha in different planes\n    vec4 Ca = vec4(cos(alpha));\n\n    gx = Ca * px + Sa * qx;\n    gy = Ca * py + Sa * qy;\n    gz = Ca * pz + Sa * qz;\n  }\n  else {\n    gx = Ct * sz_prime;  // alpha = 0, use s directly as gradient\n    gy = St * sz_prime;\n    gz = sz;  \n  }\n#endif\n\n  // Reorganize for dot products below\n  vec3 g0 = vec3(gx.x, gy.x, gz.x);\n  vec3 g1 = vec3(gx.y, gy.y, gz.y);\n  vec3 g2 = vec3(gx.z, gy.z, gz.z);\n  vec3 g3 = vec3(gx.w, gy.w, gz.w);\n\n  // Radial decay with distance from each simplex corner\n  vec4 w = 0.5 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3));\n  w = max(w, 0.0);\n  vec4 w2 = w * w;\n  vec4 w3 = w2 * w;\n\n  // The value of the linear ramp from each of the corners\n  vec4 gdotx = vec4(dot(g0,x0), dot(g1,x1), dot(g2,x2), dot(g3,x3));\n\n  // Multiply by the radial decay and sum up the noise value\n  float n = dot(w3, gdotx);\n\n  // Compute the first order partial derivatives\n  vec4 dw = -6.0 * w2 * gdotx;\n  vec3 dn0 = w3.x * g0 + dw.x * x0;\n  vec3 dn1 = w3.y * g1 + dw.y * x1;\n  vec3 dn2 = w3.z * g2 + dw.z * x2;\n  vec3 dn3 = w3.w * g3 + dw.w * x3;\n  gradient = 39.5 * (dn0 + dn1 + dn2 + dn3);\n\n  // Scale the return value to fit nicely into the range [-1,1]\n  return 39.5 * n;\n}\n\nvoid main() {\n\n    vec3 grad;\n    vec3 p = vec3(0.0);\n    float n = psrdnoise(position * uNoiseCoordScale + uNoiseOffsets, p, uTime * 0.5, grad);\n    vec3 pos = vec3(position);\n    // pos.x += grad.x;\n    // pos.y += grad.y;\n    // pos.z += grad.z * 2.0;\n    pos += grad * 0.2;\n\n    vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n    \n    gl_Position = projectionMatrix * mvPosition;\n\n\n    /**\n    * Varying\n    */\n    vColor = uColor * color;\n\n    // compute bokehStrength\n    float distanceFromFocalPoint = abs(mvPosition.z + uFocalDistance);\n    vBokehStrength = distanceFromFocalPoint * uBokehStrength;\n\n    // distance attenuation\n    // attenuation = max(2.5 - distanceFromFocalPoint * uDistanceAttenuation, 0.05);\n    vAttenuation = smoothstep(0.0, uDistanceAttenuation, distanceFromFocalPoint);\n    // vColor *= exp(-distanceFromFocalPoint * uDistanceAttenuation);\n    \n    /**\n    * Size\n    */\n    gl_PointSize = max((100.0 / -mvPosition.z) * (vBokehStrength + 1.0), 4.0);\n}'},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uBokehBlurLength;\n\nvarying vec3 vColor;\nvarying float vBokehStrength;\nvarying float vAttenuation;\n\nvoid main() {\n    float l = length(gl_PointCoord - vec2(0.5, 0.5));\n    if (l > 0.5) discard;\n    float s = smoothstep(0.0, uBokehBlurLength, vBokehStrength);\n    float a = 0.03 + (1.0 - vAttenuation) * 0.6 * smoothstep(0.5, 0.5 * s, l);\n    // float a = 0.05 + vAttenuation * 0.45 * smoothstep(0.5, 0.1 + 0.375 * s, l);\n    gl_FragColor = vec4(vColor, a);\n}"},function(e,t){e.exports='#define GLSLIFY 1\nuniform float uTime;\nuniform vec3 uColor;\nuniform float uNoiseCoordScale;\nuniform float uBokehStrength;\nuniform float uFocalDistance;\nuniform float uDistanceAttenuation;\nuniform vec3 uNoiseOffsets;\n\nattribute float aScale;\nattribute float aOffset;\nattribute float aRadius;\n\nvarying vec3 vColor;\nvarying float vBokehStrength;\nvarying float vAttenuation;\n\n//\n// psrdnoise3.glsl\n//\n// Authors: Stefan Gustavson (stefan.gustavson@gmail.com)\n// and Ian McEwan (ijm567@gmail.com)\n// Version 2021-12-02, published under the MIT license (see below)\n//\n// Copyright (c) 2021 Stefan Gustavson and Ian McEwan.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the "Software"),\n// to deal in the Software without restriction, including without limitation\n// the rights to use, copy, modify, merge, publish, distribute, sublicense,\n// and/or sell copies of the Software, and to permit persons to whom the\n// Software is furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n// THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n// DEALINGS IN THE SOFTWARE.\n//\n\n//\n// Periodic (tiling) 3-D simplex noise (tetrahedral lattice gradient noise)\n// with rotating gradients and analytic derivatives.\n//\n// This is (yet) another variation on simplex noise. Unlike previous\n// implementations, the grid is axis-aligned to permit rectangular tiling.\n// The noise pattern can be made to tile seamlessly to any integer periods\n// up to 289 units in the x, y and z directions. Specifying a longer\n// period than 289 will result in errors in the noise field.\n//\n// This particular version of 3-D noise also implements animation by rotating\n// the generating gradient at each lattice point around a pseudo-random axis.\n// The rotating gradients give the appearance of a swirling motion, and\n// can serve a similar purpose for animation as motion along the fourth\n// dimension in 4-D noise. \n//\n// The rotating gradients in conjunction with the built-in ability to\n// compute exact analytic derivatives allow for "flow noise" effects\n// as presented by Ken Perlin and Fabrice Neyret.\n//\n\n// Use Perlin\'s rotated grid instead of the new tiling grid?\n// Enabling this adds about 1% to the execution time and\n// requires all periods to be multiples of 3. Other\n// integer periods can be specified, but when not evenly\n// divisible by 3, the actual period will be 3 times longer.\n// Take care not to overstep the maximum allowed period (288).\n//#define PERLINGRID\n\n// Enable faster gradient rotations?\n// Enabling this saves about 10% on execution time,\n// but the function will not run faster for alpha = 0.\n//#define FASTROTATION\n\n\n// Permutation polynomial for the hash value\nvec4 permute(vec4 x) {\n     vec4 xm = mod(x, 289.0);\n     return mod(((xm*34.0)+10.0)*xm, 289.0);\n}\n\n//\n// 3-D tiling simplex noise with rotating gradients and first order\n// analytical derivatives.\n// "vec3 x" is the point (x,y,z) to evaluate\n// "vec3 period" is the desired periods along x,y,z, up to 289.\n// (If Perlin\'s grid is used, multiples of 3 up to 288 are allowed.)\n// "float alpha" is the rotation (in radians) for the swirling gradients.\n// The "float" return value is the noise value, and\n// the "out vec3 gradient" argument returns the x,y,z partial derivatives.\n//\n// The function executes 15-20% faster if alpha is constant == 0.0\n// across all fragments being executed in parallel.\n// (This speedup will not happen if FASTROTATION is enabled. Do not specify\n// FASTROTATION if you are not actually going to use the rotation.)\n//\n// Setting any period to 0.0 or a negative value will skip the periodic\n// wrap for that dimension. Setting all periods to 0.0 makes the function\n// execute 10-15% faster.\n//\n// Not using the return value for the gradient will make the compiler\n// eliminate the code for computing it. This speeds up the function by\n// around 10%.\n//\nfloat psrdnoise(vec3 x, vec3 period, float alpha, out vec3 gradient)\n{\n\n#ifndef PERLINGRID\n  // Transformation matrices for the axis-aligned simplex grid\n  const mat3 M = mat3(0.0, 1.0, 1.0,\n                      1.0, 0.0, 1.0,\n                      1.0, 1.0, 0.0);\n\n  const mat3 Mi = mat3(-0.5, 0.5, 0.5,\n                        0.5,-0.5, 0.5,\n                        0.5, 0.5,-0.5);\n#endif\n\n  vec3 uvw;\n\n  // Transform to simplex space (tetrahedral grid)\n#ifndef PERLINGRID\n  // Use matrix multiplication, let the compiler optimise\n  uvw = M * x;\n#else\n  // Optimised transformation to uvw (slightly faster than\n  // the equivalent matrix multiplication on most platforms)\n  uvw = x + dot(x, vec3(1.0/3.0));\n#endif\n\n  // Determine which simplex we\'re in, i0 is the "base corner"\n  vec3 i0 = floor(uvw);\n  vec3 f0 = fract(uvw); // coords within "skewed cube"\n\n  // To determine which simplex corners are closest, rank order the\n  // magnitudes of u,v,w, resolving ties in priority order u,v,w,\n  // and traverse the four corners from largest to smallest magnitude.\n  // o1, o2 are offsets in simplex space to the 2nd and 3rd corners.\n  vec3 g_ = step(f0.xyx, f0.yzz); // Makes comparison "less-than"\n  vec3 l_ = 1.0 - g_;             // complement is "greater-or-equal"\n  vec3 g = vec3(l_.z, g_.xy);\n  vec3 l = vec3(l_.xy, g_.z);\n  vec3 o1 = min( g, l );\n  vec3 o2 = max( g, l );\n\n  // Enumerate the remaining simplex corners\n  vec3 i1 = i0 + o1;\n  vec3 i2 = i0 + o2;\n  vec3 i3 = i0 + vec3(1.0);\n\n  vec3 v0, v1, v2, v3;\n\n  // Transform the corners back to texture space\n#ifndef PERLINGRID\n  v0 = Mi * i0;\n  v1 = Mi * i1;\n  v2 = Mi * i2;\n  v3 = Mi * i3;\n#else\n  // Optimised transformation (mostly slightly faster than a matrix)\n  v0 = i0 - dot(i0, vec3(1.0/6.0));\n  v1 = i1 - dot(i1, vec3(1.0/6.0));\n  v2 = i2 - dot(i2, vec3(1.0/6.0));\n  v3 = i3 - dot(i3, vec3(1.0/6.0));\n#endif\n\n  // Compute vectors to each of the simplex corners\n  vec3 x0 = x - v0;\n  vec3 x1 = x - v1;\n  vec3 x2 = x - v2;\n  vec3 x3 = x - v3;\n\n  if(any(greaterThan(period, vec3(0.0)))) {\n    // Wrap to periods and transform back to simplex space\n    vec4 vx = vec4(v0.x, v1.x, v2.x, v3.x);\n    vec4 vy = vec4(v0.y, v1.y, v2.y, v3.y);\n    vec4 vz = vec4(v0.z, v1.z, v2.z, v3.z);\n\t// Wrap to periods where specified\n\tif(period.x > 0.0) vx = mod(vx, period.x);\n\tif(period.y > 0.0) vy = mod(vy, period.y);\n\tif(period.z > 0.0) vz = mod(vz, period.z);\n    // Transform back\n#ifndef PERLINGRID\n    i0 = M * vec3(vx.x, vy.x, vz.x);\n    i1 = M * vec3(vx.y, vy.y, vz.y);\n    i2 = M * vec3(vx.z, vy.z, vz.z);\n    i3 = M * vec3(vx.w, vy.w, vz.w);\n#else\n    v0 = vec3(vx.x, vy.x, vz.x);\n    v1 = vec3(vx.y, vy.y, vz.y);\n    v2 = vec3(vx.z, vy.z, vz.z);\n    v3 = vec3(vx.w, vy.w, vz.w);\n    // Transform wrapped coordinates back to uvw\n    i0 = v0 + dot(v0, vec3(1.0/3.0));\n    i1 = v1 + dot(v1, vec3(1.0/3.0));\n    i2 = v2 + dot(v2, vec3(1.0/3.0));\n    i3 = v3 + dot(v3, vec3(1.0/3.0));\n#endif\n\t// Fix rounding errors\n    i0 = floor(i0 + 0.5);\n    i1 = floor(i1 + 0.5);\n    i2 = floor(i2 + 0.5);\n    i3 = floor(i3 + 0.5);\n  }\n\n  // Compute one pseudo-random hash value for each corner\n  vec4 hash = permute( permute( permute( \n              vec4(i0.z, i1.z, i2.z, i3.z ))\n            + vec4(i0.y, i1.y, i2.y, i3.y ))\n            + vec4(i0.x, i1.x, i2.x, i3.x ));\n\n  // Compute generating gradients from a Fibonacci spiral on the unit sphere\n  vec4 theta = hash * 3.883222077;  // 2*pi/golden ratio\n  vec4 sz    = hash * -0.006920415 + 0.996539792; // 1-(hash+0.5)*2/289\n  vec4 psi   = hash * 0.108705628 ; // 10*pi/289, chosen to avoid correlation\n\n  vec4 Ct = cos(theta);\n  vec4 St = sin(theta);\n  vec4 sz_prime = sqrt( 1.0 - sz*sz ); // s is a point on a unit fib-sphere\n\n  vec4 gx, gy, gz;\n\n  // Rotate gradients by angle alpha around a pseudo-random ortogonal axis\n#ifdef FASTROTATION\n  // Fast algorithm, but without dynamic shortcut for alpha = 0\n  vec4 qx = St;         // q\' = norm ( cross(s, n) )  on the equator\n  vec4 qy = -Ct; \n  vec4 qz = vec4(0.0);\n\n  vec4 px =  sz * qy;   // p\' = cross(q, s)\n  vec4 py = -sz * qx;\n  vec4 pz = sz_prime;\n\n  psi += alpha;         // psi and alpha in the same plane\n  vec4 Sa = sin(psi);\n  vec4 Ca = cos(psi);\n\n  gx = Ca * px + Sa * qx;\n  gy = Ca * py + Sa * qy;\n  gz = Ca * pz + Sa * qz;\n#else\n  // Slightly slower algorithm, but with g = s for alpha = 0, and a\n  // useful conditional speedup for alpha = 0 across all fragments\n  if(alpha != 0.0) {\n    vec4 Sp = sin(psi);          // q\' from psi on equator\n    vec4 Cp = cos(psi);\n\n    vec4 px = Ct * sz_prime;     // px = sx\n    vec4 py = St * sz_prime;     // py = sy\n    vec4 pz = sz;\n\n    vec4 Ctp = St*Sp - Ct*Cp;    // q = (rotate( cross(s,n), dot(s,n))(q\')\n    vec4 qx = mix( Ctp*St, Sp, sz);\n    vec4 qy = mix(-Ctp*Ct, Cp, sz);\n    vec4 qz = -(py*Cp + px*Sp);\n\n    vec4 Sa = vec4(sin(alpha));       // psi and alpha in different planes\n    vec4 Ca = vec4(cos(alpha));\n\n    gx = Ca * px + Sa * qx;\n    gy = Ca * py + Sa * qy;\n    gz = Ca * pz + Sa * qz;\n  }\n  else {\n    gx = Ct * sz_prime;  // alpha = 0, use s directly as gradient\n    gy = St * sz_prime;\n    gz = sz;  \n  }\n#endif\n\n  // Reorganize for dot products below\n  vec3 g0 = vec3(gx.x, gy.x, gz.x);\n  vec3 g1 = vec3(gx.y, gy.y, gz.y);\n  vec3 g2 = vec3(gx.z, gy.z, gz.z);\n  vec3 g3 = vec3(gx.w, gy.w, gz.w);\n\n  // Radial decay with distance from each simplex corner\n  vec4 w = 0.5 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3));\n  w = max(w, 0.0);\n  vec4 w2 = w * w;\n  vec4 w3 = w2 * w;\n\n  // The value of the linear ramp from each of the corners\n  vec4 gdotx = vec4(dot(g0,x0), dot(g1,x1), dot(g2,x2), dot(g3,x3));\n\n  // Multiply by the radial decay and sum up the noise value\n  float n = dot(w3, gdotx);\n\n  // Compute the first order partial derivatives\n  vec4 dw = -6.0 * w2 * gdotx;\n  vec3 dn0 = w3.x * g0 + dw.x * x0;\n  vec3 dn1 = w3.y * g1 + dw.y * x1;\n  vec3 dn2 = w3.z * g2 + dw.z * x2;\n  vec3 dn3 = w3.w * g3 + dw.w * x3;\n  gradient = 39.5 * (dn0 + dn1 + dn2 + dn3);\n\n  // Scale the return value to fit nicely into the range [-1,1]\n  return 39.5 * n;\n}\n\nvoid main() {\n    vec3 grad;\n    vec3 p = vec3(0.0);\n    float n = psrdnoise(position * uNoiseCoordScale + uNoiseOffsets, p, uTime * 0.5, grad);\n    \n    vec3 pos = vec3(position);\n    pos.x += grad.x;\n    pos.y += grad.y;\n    pos.z += grad.z * 2.0;\n    vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n    // vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n    gl_Position = projectionMatrix * mvPosition;\n\n    /**\n    * Varying\n    */\n\n    vColor = color; // uColor * color;\n\n    // compute bokehStrength\n    float distanceFromFocalPoint = abs(mvPosition.z + uFocalDistance);\n    vBokehStrength = distanceFromFocalPoint * uBokehStrength;\n\n    // distance attenuation\n    // vAttenuation = max(2.5 - distanceFromFocalPoint * uDistanceAttenuation, 0.05);\n    vAttenuation = smoothstep(0.0, uDistanceAttenuation, distanceFromFocalPoint);\n    // vColor *= exp(-distanceFromFocalPoint * uDistanceAttenuation);\n\n    /**\n    * Size\n    */\n    gl_PointSize = aScale * max((50.0 / -mvPosition.z) * (vBokehStrength + 1.0), 4.0);\n}'},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uBokehBlurLength;\n\nvarying vec3 vColor;\nvarying float vBokehStrength;\nvarying float vAttenuation;\n\nvoid main() {\n    float l = length(gl_PointCoord - vec2(0.5, 0.5));\n    if (l > 0.5) discard;\n    float s = smoothstep(0.0, uBokehBlurLength, vBokehStrength);\n    // float a = 0.5 * smoothstep(0.5, 0.2 + 0.3 * (1.0 - vAttenuation), l);\n    float a = 0.05 + (1.0 - vAttenuation) * 0.95 * smoothstep(0.5, 0.5 * s, l);\n    gl_FragColor = vec4(vColor, a);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uTime;\nuniform vec3 uColor;\nuniform float uNoiseCoordScale;\nuniform float uBokehStrength;\nuniform float uFocalDistance;\nuniform float uDistanceAttenuation;\nuniform vec3 uNoiseOffsets;\nuniform float uProgressScrollRotation;\n\nattribute float aScale;\nattribute float aOffset;\nattribute float aRadius;\nattribute float aRandomness;\n\nvarying vec3 vColor;\nvarying float vBokehStrength;\nvarying float vAttenuation;\n\n\nvoid main() {\n\n    // vec3 grad;\n    // vec3 p = vec3(0.0);\n    // float n = psrdnoise(position * uNoiseCoordScale + uNoiseOffsets, p, uTime * 0.5, grad);\n    vec3 pos = vec3(position);\n    vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n\n    // mvPosition.x += sin( uTime + aRandomness * 0.9 ) * aScale * 0.2;\n    // mvPosition.y += cos( uTime + aRandomness * 0.8 ) * aScale * 0.2;\n    // mvPosition.z += cos( uTime + mvPosition.x * 0.5 ) * aScale * 0.2;\n    \n    gl_Position = projectionMatrix * mvPosition;\n  \n\n    /**\n    * Varying\n    */\n\n    vColor = color; // uColor * color;\n\n    // compute bokehStrength\n    float distanceFromFocalPoint = abs(mvPosition.z + uFocalDistance);\n    vBokehStrength = distanceFromFocalPoint * uBokehStrength;\n\n    // distance attenuation\n    // vAttenuation = max(2.5 - distanceFromFocalPoint * uDistanceAttenuation, 0.05);\n    vAttenuation = smoothstep(0.0, uDistanceAttenuation, distanceFromFocalPoint);\n    // vColor *= exp(-distanceFromFocalPoint * uDistanceAttenuation);\n\n    /**\n    * Size\n    */\n    gl_PointSize = aScale * max((50.0 / -mvPosition.z) * (vBokehStrength + 1.0), 4.0);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uBokehBlurLength;\n\nvarying vec3 vColor;\nvarying float vBokehStrength;\nvarying float vAttenuation;\n\nvoid main() {\n    float l = length(gl_PointCoord - vec2(0.5, 0.5));\n    if (l > 0.5) discard;\n    float s = smoothstep(0.0, uBokehBlurLength, vBokehStrength);\n    // float a = 0.5 * smoothstep(0.5, 0.2 + 0.3 * (1.0 - vAttenuation), l);\n    float a = 0.05 + (1.0 - vAttenuation) * 0.95 * smoothstep(0.5, 0.5 * s, l);\n    gl_FragColor = vec4(vColor, a);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform vec3 uColor;\nuniform float uBokehStrength;\nuniform float uFocalDistance;\nuniform float uDistanceAttenuation;\nuniform float utargetProgress;\n\nuniform vec3 uNoiseOffsets;\nuniform vec3 uMouse;\n\nattribute vec3 aPositionRandom;\n\nvarying vec3 vColor;\nvarying float vBokehStrength;\n\nvoid main() {\n\n    vec3 pos = (modelMatrix * vec4(position.xyz, 1.0)).xyz;\n    float l = length(pos.xyz - uMouse);\n    float sl = smoothstep(0.0, 1.0, l);\n\n    vec3 positionUp = position;\n    positionUp = mix(position, aPositionRandom, 1.0 - sl);\n\n    vec4 mvPosition = modelViewMatrix * vec4(positionUp, 1.0);\n\n    gl_Position = projectionMatrix * mvPosition;\n\n    /**\n    * Varying\n    */\n    \n    // compute bokehStrength\n    float distanceFromFocalPoint = abs(mvPosition.z + uFocalDistance);\n    vBokehStrength = distanceFromFocalPoint * uBokehStrength;\n\n    // distance attenuation\n    vColor = uColor * color;\n    // vColor = mix(uColor * color, vec3(1.0, 0.0, 0.0), 1.0 - sl);\n    vColor *= exp(-distanceFromFocalPoint * uDistanceAttenuation);\n    \n    /**\n    * Size\n    */\n    gl_PointSize = (50.0 / -mvPosition.z) * (vBokehStrength + 1.0);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uBokehBlurLength;\nuniform float uOpacity;\n\nvarying vec3 vColor;\nvarying float vBokehStrength;\n\nvoid main() {\n    float l = length(gl_PointCoord - vec2(0.5, 0.5));\n    if (l > 0.475) discard;\n    float s = smoothstep(0.0, uBokehBlurLength, vBokehStrength);\n    float a = ( 0.1 + 0.9 * smoothstep(0.5, 0.2 + 0.275 * s, l) ) * uOpacity;\n    gl_FragColor = vec4(vColor, a);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uTime;\nuniform vec3 uColor;\nuniform float uBokehStrength;\nuniform float uFocalDistance;\nuniform float uDistanceAttenuation;\nuniform float utargetProgress;\nuniform float uSpeed;\nuniform float uElevation;\n\nattribute vec3 aRandom;\n\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying float vBokehStrength;\n\nvoid main() {\n    \n    vec3 pos = position;\n\n    float modulo = mod(uTime * uSpeed * aRandom.y * 0.025, 0.1 * aRandom.z * uElevation );\n    float disp = aRandom.x * modulo;\n    pos *= 1.0 + disp;\n    \n    vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n\n    gl_Position = projectionMatrix * mvPosition;\n\n    /**\n    * Varying\n    */\n\n    // compute bokehStrength\n    float distanceFromFocalPoint = abs(mvPosition.z + uFocalDistance);\n    vBokehStrength = distanceFromFocalPoint * uBokehStrength;\n\n    // distance attenuation\n    vColor = uColor * color;\n    vColor *= exp(-distanceFromFocalPoint * uDistanceAttenuation);\n\n    // opacity\n    float progress = modulo / (0.1 * aRandom.z * uElevation);\n    if (progress < 0.1) {\n        vOpacity = progress / 0.1;\n    } else {\n        vOpacity = 1.0 - progress;\n    }\n    vOpacity *= utargetProgress;\n    \n    /**\n    * Size\n    */\n    gl_PointSize = (50.0 / -mvPosition.z) * (vBokehStrength + 1.0);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uBokehBlurLength;\n\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying float vBokehStrength;\n\nvoid main() {\n    float l = length(gl_PointCoord - vec2(0.5, 0.5));\n    if (l > 0.475) discard;\n    float s = smoothstep(0.0, uBokehBlurLength, vBokehStrength);\n    float a = vOpacity * (0.1 + 0.9 * smoothstep(0.5, 0.2 + 0.275 * s, l));\n    gl_FragColor = vec4(vColor, a);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform vec3 uColor;\nuniform float uBokehStrength;\nuniform float uFocalDistance;\nuniform float uDistanceAttenuation;\nuniform float utargetProgress;\n\nuniform vec3 uNoiseOffsets;\nuniform vec3 uMouse;\n\nattribute vec3 aPositionRandom;\n\nvarying vec3 vColor;\nvarying float vBokehStrength;\n\nvoid main() {\n\n    vec3 pos = (modelMatrix * vec4(position.xyz, 1.0)).xyz;\n    float l = length(pos.xyz - uMouse);\n    float sl = smoothstep(0.0, 1.0, l);\n\n    vec3 positionUp = position;\n    positionUp = mix(position, aPositionRandom, 1.0 - sl);\n\n    vec4 mvPosition = modelViewMatrix * vec4(positionUp, 1.0);\n\n    gl_Position = projectionMatrix * mvPosition;\n\n    /**\n    * Varying\n    */\n    \n    // compute bokehStrength\n    float distanceFromFocalPoint = abs(mvPosition.z + uFocalDistance);\n    vBokehStrength = distanceFromFocalPoint * uBokehStrength;\n\n    // distance attenuation\n    vColor = uColor * color;\n    // vColor = mix(uColor * color, vec3(1.0, 0.0, 0.0), 1.0 - sl);\n    vColor *= exp(-distanceFromFocalPoint * uDistanceAttenuation);\n    \n    /**\n    * Size\n    */\n    gl_PointSize = (50.0 / -mvPosition.z) * (vBokehStrength + 1.0);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uBokehBlurLength;\nuniform float uOpacity;\n\nvarying vec3 vColor;\nvarying float vBokehStrength;\n\nvoid main() {\n    float l = length(gl_PointCoord - vec2(0.5, 0.5));\n    if (l > 0.475) discard;\n    float s = smoothstep(0.0, uBokehBlurLength, vBokehStrength);\n    float a = ( 0.1 + 0.9 * smoothstep(0.5, 0.2 + 0.275 * s, l) ) * uOpacity;\n    gl_FragColor = vec4(vColor, a);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uTime;\nuniform vec3 uColor;\nuniform float uBokehStrength;\nuniform float uFocalDistance;\nuniform float uDistanceAttenuation;\nuniform float utargetProgress;\nuniform float uSpeed;\nuniform float uElevation;\n\nattribute vec3 aRandom;\n\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying float vBokehStrength;\n\nvoid main() {\n    \n    vec3 pos = position;\n\n    float modulo = mod(uTime * uSpeed * aRandom.y * 0.025, 0.1 * aRandom.z * uElevation );\n    float disp = aRandom.x * modulo;\n    pos *= 1.0 + disp;\n    \n    vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n\n    gl_Position = projectionMatrix * mvPosition;\n\n    /**\n    * Varying\n    */\n\n    // compute bokehStrength\n    float distanceFromFocalPoint = abs(mvPosition.z + uFocalDistance);\n    vBokehStrength = distanceFromFocalPoint * uBokehStrength;\n\n    // distance attenuation\n    vColor = uColor * color;\n    vColor *= exp(-distanceFromFocalPoint * uDistanceAttenuation);\n\n    // opacity\n    float progress = modulo / (0.1 * aRandom.z * uElevation);\n    if (progress < 0.1) {\n        vOpacity = progress / 0.1;\n    } else {\n        vOpacity = 1.0 - progress;\n    }\n    vOpacity *= utargetProgress;\n    \n    /**\n    * Size\n    */\n    gl_PointSize = (50.0 / -mvPosition.z) * (vBokehStrength + 1.0);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uBokehBlurLength;\n\nvarying vec3 vColor;\nvarying float vOpacity;\nvarying float vBokehStrength;\n\nvoid main() {\n    float l = length(gl_PointCoord - vec2(0.5, 0.5));\n    if (l > 0.475) discard;\n    float s = smoothstep(0.0, uBokehBlurLength, vBokehStrength);\n    float a = vOpacity * (0.1 + 0.9 * smoothstep(0.5, 0.2 + 0.275 * s, l));\n    gl_FragColor = vec4(vColor, a);\n}"},function(e,t){window.Promise.create=function(){var e=this,t=new Promise((function(t,n){e.temp_resolve=t,e.temp_reject=n}));return t.resolve=this.temp_resolve,t.reject=this.temp_reject,delete this.temp_resolve,delete this.temp_reject,t}},function(e,t,n){"use strict";var i=n(34),r=n(188),o=n(287),a=n(195),s=function e(t){var n=new o(t),s=r(o.prototype.request,n);return i.extend(s,o.prototype,n),i.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(152));s.Axios=o,s.CanceledError=n(119),s.CancelToken=n(305),s.isCancel=n(194),s.VERSION=n(196).version,s.toFormData=n(191),s.AxiosError=n(82),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(306),s.isAxiosError=n(307),e.exports=s,e.exports.default=s},function(e,t,n){"use strict";var i=n(34),r=n(189),o=n(288),a=n(289),s=n(195),l=n(193),u=n(304),c=u.validators;function h(e){this.defaults=e,this.interceptors={request:new o,response:new o}}h.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n,i=(void 0!==(e=t.transitional)&&u.assertOptions(e,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1),[]),r=!0,o=(this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,i.unshift(e.fulfilled,e.rejected))})),[]);if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),r){for(var l=t;i.length;){var h=i.shift(),d=i.shift();try{l=h(l)}catch(e){d(e);break}}try{n=a(l)}catch(e){return Promise.reject(e)}for(;o.length;)n=n.then(o.shift(),o.shift())}else{var f=[a,void 0];for(Array.prototype.unshift.apply(f,i),f=f.concat(o),n=Promise.resolve(t);f.length;)n=n.then(f.shift(),f.shift())}return n},h.prototype.getUri=function(e){e=s(this.defaults,e);var t=l(e.baseURL,e.url);return r(t,e.params,e.paramsSerializer)},i.forEach(["delete","get","head","options"],(function(e){h.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(s(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}h.prototype[e]=t(),h.prototype[e+"Form"]=t(!0)})),e.exports=h},function(e,t,n){"use strict";var i=n(34);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},function(e,t,n){"use strict";var i=n(34),r=n(290),o=n(194),a=n(152),s=n(119);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return l(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var i=n(34),r=n(152);e.exports=function(e,t,n){var o=this||r;return i.forEach(n,(function(n){e=n.call(o,e,t)})),e}},function(e,t,n){"use strict";var i=n(34);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},function(e,t,n){"use strict";(function(e){var i=n(293),r=n(294),o=n(295);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(e=null===e?new l(t):e).length=t,e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"!=typeof e)return u(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}function u(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var r=e,a=t,u=n;if(a.byteLength,u<0||a.byteLength<u)throw new RangeError("'offset' is out of bounds");if(a.byteLength<u+(i||0))throw new RangeError("'length' is out of bounds");return a=void 0===u&&void 0===i?new Uint8Array(a):void 0===i?new Uint8Array(a,u):new Uint8Array(a,u,i),l.TYPED_ARRAY_SUPPORT?(r=a).__proto__=l.prototype:r=d(r,a),r}if("string"!=typeof t){if(u=e,i=t,l.isBuffer(i))return 0!==(u=s(u,a=0|f(i.length))).length&&i.copy(u,0,0,a),u;if(i){if("undefined"!=typeof ArrayBuffer&&i.buffer instanceof ArrayBuffer||"length"in i)return"number"!=typeof i.length||function(e){return e!=e}(i.length)?s(u,0):d(u,i);if("Buffer"===i.type&&o(i.data))return d(u,i.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}if(r=e,i=t,e=n,l.isEncoding(e="string"==typeof e&&""!==e?e:"utf8"))return(i=(r=s(r,t=0|p(i,e))).write(i,e))!==t?r.slice(0,i):r;throw new TypeError('"encoding" must be a valid string encoding')}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var n=(e="string"!=typeof e?""+e:e).length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return k(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return O(e).length;default:if(i)return k(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var r,o=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var a=t,s=n,l=this.length;(!s||s<0||l<s)&&(s=l);for(var u="",c=a=!a||a<0?0:a;c<s;++c)u+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(this[c]);return u;case"utf8":case"utf-8":return w(this,t,n);case"ascii":l=t;var h=n,d="";h=Math.min(this.length,h);for(var f=l;f<h;++f)d+=String.fromCharCode(127&this[f]);return d;case"latin1":case"binary":a=t;var p=n,m="";p=Math.min(this.length,p);for(var v=a;v<p;++v)m+=String.fromCharCode(this[v]);return m;case"base64":return g=this,r=n,0===(y=t)&&r===g.length?i.fromByteArray(g):i.fromByteArray(g.slice(y,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var g=t,y=n,b=this.slice(g,y),_="",x=0;x<b.length;x+=2)_+=String.fromCharCode(b[x]+256*b[x+1]);return _;default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function v(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function g(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?r?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(r?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){var o=1,a=e.length,s=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a/=o=2,s/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r)for(var u=-1,c=n;c<a;c++)if(l(e,c)===l(t,-1===u?0:c-u)){if(c-(u=-1===u?c:u)+1===s)return u*o}else-1!==u&&(c-=c-u),u=-1;else for(c=n=a<n+s?a-s:n;0<=c;c--){for(var h=!0,d=0;d<s;d++)if(l(e,c+d)!==l(t,d)){h=!1;break}if(h)return c}return-1}function b(e,t,n,i){return R(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function _(e,t,n,i){return R(function(e,t){for(var n,i,r=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(i=e.charCodeAt(o))>>8,i%=256,r.push(i),r.push(n);return r}(t,e.length-n),e,n,i)}function w(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,l,u=e[r],c=null,h=239<u?4:223<u?3:191<u?2:1;if(r+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[r+1]))&&127<(l=(31&u)<<6|63&o)&&(c=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&u)<<12|(63&o)<<6|63&a)&&(l<55296||57343<l)&&(c=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)&&l<1114112&&(c=l)}null===c?(c=65533,h=1):65535<c&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=h}var d=i,f=d.length;if(f<=x)return String.fromCharCode.apply(String,d);for(var p="",m=0;m<f;)p+=String.fromCharCode.apply(String,d.slice(m,m+=x));return p}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return i=null,t=t,n=n,c(e=e),e<=0||void 0===t?s(i,e):"string"==typeof n?s(i,e).fill(t,n):s(i,e).fill(t);var i},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;for(var n=l.allocUnsafe(t),i=0,r=0;r<e.length;++r){var a=e[r];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?w(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(l.isBuffer(e))return this===e||0===l.compare(this,e);throw new TypeError("Argument must be a Buffer")},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),(t=void 0===t?0:t)<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(r<=i&&n<=t)return 0;if(r<=i)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(i,r),c=e.slice(t,n),h=0;h<s;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||r<n)&&(n=r),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var o,a,s,l=!1;;)switch(i){case"hex":var u=e,c=t,h=n,d=(c=Number(c)||0,this.length-c);if((!h||d<(h=Number(h)))&&(h=d),(d=u.length)%2!=0)throw new TypeError("Invalid hex string");d/2<h&&(h=d/2);for(var f=0;f<h;++f){var p=parseInt(u.substr(2*f,2),16);if(isNaN(p))return f;this[c+f]=p}return f;case"utf8":case"utf-8":return d=t,s=n,R(k(e,(a=this).length-d),a,d,s);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return a=this,s=t,o=n,R(O(e),a,s,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(l)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),l=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function S(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,i,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function C(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function M(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function E(e,t,n,i){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(e,t,n,i,o){return o||E(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function D(e,t,n,i,o){return o||E(e,0,n,8),r.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else for(var i=t-e,r=new l(i,void 0),o=0;o<i;++o)r[o]=this[o+e];return r},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var i=this[e+--t],r=1;0<t&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUInt8=function(e,t){return t||S(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||S(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||S(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return(r*=128)<=i&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var i=t,r=1,o=this[e+--i];0<i&&(r*=256);)o+=this[e+--i]*r;return(r*=128)<=o&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){return t||S(e,2,this.length),32768&(t=this[e]|this[e+1]<<8)?4294901760|t:t},l.prototype.readInt16BE=function(e,t){return t||S(e,2,this.length),32768&(t=this[e+1]|this[e]<<8)?4294901760|t:t},l.prototype.readInt32LE=function(e,t){return t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||S(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||S(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||S(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||S(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||A(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||A(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;0<=--r&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):C(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):C(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){e=+e,t|=0,i||A(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var r=0,o=1,a=0;for(this[t]=255&e;++r<n&&(o*=256);)e<0&&0===a&&0!==this[t+r-1]&&(a=1),this[t+r]=(e/o>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){e=+e,t|=0,i||A(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var r=n-1,o=1,a=0;for(this[t+r]=255&e;0<=--r&&(o*=256);)e<0&&0===a&&0!==this[t+r+1]&&(a=1),this[t+r]=(e/o>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):C(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):C(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return T(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return T(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n=n||0,i||0===i||(i=this.length),t>=e.length&&(t=e.length),(i=0<i&&i<n?n:i)===n)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);var r,o=(i=e.length-t<i-n?e.length-t+n:i)-n;if(this===e&&n<t&&t<i)for(r=o-1;0<=r;--r)e[r+t]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){var r;if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1!==e.length||(r=e.charCodeAt(0))<256&&(e=r),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(!(n<=t))if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(s=t;s<n;++s)this[s]=e;else for(var o=l.isBuffer(e)?e:k(new l(e,i).toString()),a=o.length,s=0;s<n-t;++s)this[s+t]=o[s%a];return this};var P=/[^+\/0-9A-Za-z-_]/g;function k(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],a=0;a<i;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!r){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===i){-1<(t-=3)&&o.push(239,191,189);continue}r=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&-1<(t-=3)&&o.push(239,191,189);if(r=null,n<128){if(--t<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function O(e){return i.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(99))},function(e,t,n){"use strict";t.byteLength=function(e){return 3*((e=u(e))[0]+(e=e[1]))/4-e},t.toByteArray=function(e){var t,n,i=(a=u(e))[0],a=a[1],s=new o(function(e,t){return 3*(e+t)/4-t}(i,a)),l=0,c=0<a?i-4:i;for(n=0;n<c;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,s[l++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(function(e,t,n){for(var r,o=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(function(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}(r));return o.join("")}(e,a,s<a+16383?s:a+16383));return 1==r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return t=(e=-1===(e=e.indexOf("="))?t:e)===t?0:4-e%4,[e,t]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?r-1:0,d=n?-1:1;r=e[t+h];for(h+=d,o=r&(1<<-c)-1,r>>=-c,c+=s;0<c;o=256*o+e[t+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;0<c;a=256*a+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(r?-1:1);a+=Math.pow(2,i),o-=u}return(r?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l=8*o-r-1,u=(1<<l)-1,c=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,f=i?1:-1;o=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-a))<1&&(a--,i*=2),2<=(t+=1<=a+c?h/i:h*Math.pow(2,1-c))*i&&(a++,i/=2),u<=a+c?(s=0,a=u):1<=a+c?(s=(t*i-1)*Math.pow(2,r),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,r),a=0));8<=r;e[n+d]=255&s,d+=f,s/=256,r-=8);for(a=a<<r|s,l+=r;0<l;e[n+d]=255&a,d+=f,a/=256,l-=8);e[n+d-f]|=128*o}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var i=n(82);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new i("Request failed with status code "+n.status,[i.ERR_BAD_REQUEST,i.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},function(e,t,n){"use strict";var i=n(34);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){return(e=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)")))?decodeURIComponent(e[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var i=n(34),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o={};return e&&i.forEach(e.split("\n"),(function(e){n=e.indexOf(":"),t=i.trim(e.substr(0,n)).toLowerCase(),n=i.trim(e.substr(n+1)),!t||o[t]&&0<=r.indexOf(t)||(o[t]="set-cookie"===t?(o[t]||[]).concat([n]):o[t]?o[t]+", "+n:n)})),o}},function(e,t,n){"use strict";var i,r,o,a=n(34);function s(e){return r&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}e.exports=a.isStandardBrowserEnv()?(r=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),i=s(window.location.href),function(e){return(e=a.isString(e)?s(e):e).protocol===i.protocol&&e.host===i.host}):function(){return!0}},function(e,t,n){"use strict";e.exports=function(e){return(e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e))&&e[1]||""}},function(e,t){e.exports=null},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n(196).version,o=n(82),a={},s=(["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return i(n)===e||"a"+(t<1?"n ":" ")+e}})),{});a.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new o(i(r," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!s[r]&&(s[r]=!0),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!==i(e))throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;0<a--;){var s=r[a];if(l=t[s]){var l,u=e[s];if(!0!==(l=void 0===u||l(u,s,e)))throw new o("option "+s+" must be "+l,o.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new o("Unknown option "+s,o.ERR_BAD_OPTION)}},validators:a}},function(e,t,n){"use strict";var i=n(119);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");this.promise=new Promise((function(e){t=e}));var t,n=this;this.promise.then((function(e){if(n._listeners){for(var t=n._listeners.length,i=0;i<t;i++)n._listeners[i](e);n._listeners=null}})),this.promise.then=function(e){var t;return(e=new Promise((function(e){n.subscribe(e),t=e})).then(e)).cancel=function(){n.unsubscribe(t)},e},e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){!this._listeners||-1!==(e=this._listeners.indexOf(e))&&this._listeners.splice(e,1)},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var i=n(34);e.exports=function(e){return i.isObject(e)&&!0===e.isAxiosError}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===n||"function"!=typeof n.value)throw new SyntaxError("@bind decorator can only be applied to a method");var i=n.value;return{configurable:n.configurable,enumerable:n=n.enumerable,get:function(){var n;return this===e?i:(n=i.bind(this),Object.defineProperty(this,t,{configurable:!0,writable:!0,enumerable:!1,value:n}),n)}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if("function"!=typeof t[0])return function(e){for(var n=e.prototype,i={},r=0,o=t.length;r<o;r++){var a,s=t[r];for(a in s){var l=s[a];"function"==typeof l?(i[a]=i[a]||[],i[a].push(l)):n[a]=l}}for(var u in i)!function(e){var t=i[e],r=n[e];n[e]=function(){for(var e=void 0,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];for(var a=0,s=t.length;a<s;a++)e=t[a].apply(this,i);return"function"==typeof r?r.apply(this,i):e}}(u)};throw new SyntaxError("@mixin decorator '"+t[0].name+"' requires at least one mixin")},e.exports=t.default},function(e,t,n){(function(t){for(var i,r,o,a=n(311),s="undefined"==typeof window?t:window,l=["moz","webkit"],u="AnimationFrame",c=s["request"+u],h=s["cancel"+u]||s["cancelRequest"+u],d=0;!c&&d<l.length;d++)c=s[l[d]+"Request"+u],h=s[l[d]+"Cancel"+u]||s[l[d]+"CancelRequest"+u];c&&h||(r=i=0,o=[],c=function(e){var t,n;return 0===o.length&&(t=a(),n=Math.max(0,1e3/60-(t-i)),i=n+t,setTimeout((function(){for(var e=o.slice(0),t=o.length=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(i)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))),o.push({handle:++r,callback:e,cancelled:!1}),r},h=function(e){for(var t=0;t<o.length;t++)o[t].handle===e&&(o[t].cancelled=!0)}),e.exports=function(e){return c.call(s,e)},e.exports.cancel=function(){h.apply(s,arguments)},e.exports.polyfill=function(e){(e=e||s).requestAnimationFrame=c,e.cancelAnimationFrame=h}}).call(this,n(99))},function(e,t,n){(function(t){(function(){var n,i,r,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},i=t.hrtime,o=(n=function(){var e=i();return 1e9*e[0]+e[1]})(),s=1e9*t.uptime(),a=o-s):r=Date.now?(e.exports=function(){return Date.now()-r},Date.now()):(e.exports=function(){return(new Date).getTime()-r},(new Date).getTime())}).call(this)}).call(this,n(153))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=new((n=n(313)).Logger);i.plugin("namespace",n.plugins.namespace,{name:"quark-raf"}),t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.plugins=t.Logger=void 0;var i=r(n(314));n=r(n(315));function r(e){return e&&e.__esModule?e:{default:e}}t.Logger=i.default,t.plugins=n.default},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=n(197);function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this._enabled=!0,this._defaultsLevels={log:{},info:{},warn:{},error:{}},this._levels={log:{},info:{},warn:{},error:{}},this._commands=["group","time"],this._plugins={},this._logHandler=null,this._bindLevels(),this._bindCommands()}!function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(u,[{key:"on",value:function(){return this._enabled=!0,this}},{key:"off",value:function(){return this._enabled=!1,this}},{key:"reset",value:function(){this._levels={log:{},info:{},warn:{},error:{}},this._plugins={},this._bindLevels()}},{key:"br",value:function(){return this._print("log",{},""),this}},{key:"level",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof e?this._printError("Logger.level() : 'name' argument is required"):(void 0!==this._levels[e]?this._levels[e]=o({},this._levels[e],t):this._levels[e]=t,this._bindLevel(e,t),this)}},{key:"plugin",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof e)return this._printError("Logger.plugin() : 'name' argument is required");if(void 0!==this._plugins[e]&&"object"===(void 0===t?"undefined":r(t))&&null!==t)this._plugins[e].options=o({},this._plugins[e].options,t);else{if("function"!=typeof t)return this._printError("Logger.plugin() : 'fn' argument must be a function");this._plugins[e]={fn:t.bind(this),options:o({enabled:!0},n)}}return this}},{key:"setHandler",value:function(e){return this._logHandler=e,this}},{key:"_bindLevels",value:function(){for(var e in this._levels){var t=this._levels[e];this._bindLevel(e,t)}}},{key:"_bindLevel",value:function(e,t){var n=this;this[e]=function(){for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n._levelCallback(e,t,r)}}},{key:"_levelCallback",value:function(e,t,n){var i,r,o;if(this._enabled)return n=n,null!==this._logHandler&&this._logHandler(n),i=(n=this._applyPlugins(e,t,n)).msgs,r=n.before,o=n.after,n=n.styles,this._print(e,t,i,r,o,n)}},{key:"_bindCommands",value:function(){for(var e=this,t=0,n=this._commands.length;t<n;t++){i=void 0;var i=t;e[i=e._commands[i]]=function(e){},e[i+"End"]=function(e){}}}},{key:"_applyPlugins",value:function(e,t,n){var i,r=[],o=[],a=[];for(i in this._plugins){var s,l,u,c=this._plugins[i];c.options.enabled&&(s=(c=c.fn(n,c.options,{name:e,options:t})).msgs,l=c.before,u=c.after,c=c.styles,s&&(n=s),l&&(o=o.concat("<styles>"+l+"</styles>")),u&&(a=a.concat(u)),r=r.concat(c||{}))}return{msgs:n,before:o,after:a,styles:r}}},{key:"_print",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},a=[],u=[];i=(o=(t.styles&&(o=this._mergeStyles(t.styles,o)),o=this._parsePluginsStyles(o),u=u.concat(o),t.styles&&(u.push(this._parseStyles(t.styles)),u.push("")),i.length&&a.push(this._parseMsgTags(i).join(" ")),this._sortMsgs(n))).stringMsgs,n=o.othersMsgs,t.styles&&(i[0]="<styles>"+i[0],i[i.length-1]+="</styles>"),a.push(this._parseMsgTags(i).join(" ")),r.length&&a.push(this._parseMsgTags(r).join(" ")),a=a.join(" "),o=[a=(0,s.isBrowser)()?a:a.replace(/%c/g,"")];return(0,s.isBrowser)()?o.push.apply(o,l(u).concat(l(n))):o.push.apply(o,l(n)),"undefined"==typeof console?this:(this._defaultsLevels[e],"error"!==e&&"warn"!==e)}},{key:"_mergeStyles",value:function(e,t){for(var n=[],i=0,r=t.length;i<r;i++){var a=t[i];n.push(o({},a,e))}return n}},{key:"_parseStyles",value:function(e){var t,n="";for(t in e){var i=e[t];n+=(0,s.camelToKebab)(t)+": "+i+";"}return n}},{key:"_parsePluginsStyles",value:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(this._parseStyles(r)),t.push("")}return t}},{key:"_parseMsgTags",value:function(e){for(var t=0,n=e.length;t<n;t++)"string"==typeof e[t]&&(e[t]=e[t].replace(/<(\/)?styles>/gi,"%c"));return e}},{key:"_sortMsgs",value:function(e){for(var t=[],n=[],i=0,r=e.length;i<r;i++){var o=e[i];("string"==typeof o?t:n).push(o)}return{stringMsgs:t,othersMsgs:n}}},{key:"_printError",value:function(e){this.reset(),this.error(e)}}]),n=u,t.default=n,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(316));n=r(n(317));function r(e){return e&&e.__esModule?e:{default:e}}t.default={time:i.default,namespace:n.default},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=new Date;return{before:"["+i(r.getHours())+":"+i(r.getMinutes())+":"+(r=i(r.getSeconds()))+"]"}};var i=function(e){return("0"+e).slice(-2)};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=(t.default=function(e,t,n){var s=void 0===(s=t.name)?null:s,l=void 0!==(l=t.capitalize)&&l,u=(t=void 0===(t=t.styles)?{}:t,""),c={};return s&&(l&&(s=(0,r.capitalize)(s)),u="["+s+"]",c=i({},o,a[n.name],t||{})),{before:u,styles:c}},n(197)),o={color:"white",background:"#000000",padding:"3px 5px"},a={log:{background:"#000000"},info:{background:"#219bff"},warn:{background:"#ffea2d",color:"inherit"},error:{background:"#e52d34"}};e.exports=t.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(0),r=(t=n(261),n.n(t)),o=(t=n(262),n.n(t)),a=n(26),s=n(27);function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var c=(t=i.ib).randFloat,h=(t.lerp,t.randFloatSpread),d=function(){function e(t,n,r,o,s,l){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");u(this,"_classes",{hero:"ct--hero-1",strate1:"ct--homepage-strate-1"}),u(this,"currentScroll",0),u(this,"canvas",{posY:0,height:0}),u(this,"container",{posY:0,height:0}),u(this,"_config",{colors:[2375644,5325225,2852090],radius1:0,radius2:6,xRadius:.2,yRadius:.2,zLength:50,timeScale:20,desktop:{segments:35},mobile:{segments:15}}),u(this,"progress",{current:0,target:0}),u(this,"mousePlane",new i.Bb(new i.oc(0,0,1),0)),u(this,"mousePosition",new i.oc),u(this,"raycaster",new i.Nb),u(this,"dummyV",new i.oc),u(this,"dummyM4",new i.jb),u(this,"dummyO",new i.yb),u(this,"cV1",new i.oc),u(this,"cV2",new i.oc),this.managerExperience=new a.a,this.debug=this.managerExperience.debug,this.scene=t,this.pointer=n,this.camera=r,this.renderer=o,this.domParent=s,this.device=l,this._retrieveDOM(),this._init(),this._bind()}var t,n;return t=e,(n=[{key:"setCanvasData",value:function(e,t){this.canvas.posY=e,this.canvas.height=t}},{key:"_retrieveDOM",value:function(){this.dom={},this.dom.hero=document.querySelector("."+this._classes.hero),this.dom.strate1=document.querySelector("."+this._classes.strate1)}},{key:"_init",value:function(){this.clock=new i.p,this.initValue(),this.initScene(),this.initSegment(),this.initUniforms(),this.initCurve(),this.updateSize()}},{key:"initValue",value:function(){this.container.posY=this.dom.hero.getBoundingClientRect().top,this.container.height=this.dom.hero.getBoundingClientRect().height,this.dom.strate1&&(this.container.height+=this.dom.strate1.getBoundingClientRect().height),this.colorScale=new s.a(this._config.colors)}},{key:"initScene",value:function(){this.scene.background=new i.q(1036)}},{key:"initSegment",value:function(){var e=this;this.segments={positions:new Array(this._config[this.device].segments).fill().map((function(){return new i.oc})),colors:new Array(this._config[this.device].segments).fill().map((function(){return e.colorScale.getColorAt(c(0,1))})),lengths:new Array(this._config[this.device].segments).fill().map((function(){return c(.001,.02)})),randoms:new Array(this._config[this.device].segments).fill().map((function(){return c(.5,1)}))}}},{key:"initUniforms",value:function(){this.uTime={value:0},this.uRatio={value:new i.nc},this.uSize={value:new i.nc},this.uPoints={value:new Array(2*this._config[this.device].segments).fill(0).map((function(){return new i.oc}))},this.uColors={value:this.segments.colors.map((function(e){return e.clone()}))}}},{key:"initCurve",value:function(){this._createCurve()}},{key:"_createCurve",value:function(){this.curve=new i.m([new i.oc(-10,0,10),new i.oc(-5,5,-5),new i.oc(0,0,0),new i.oc(5,-5,-5),new i.oc(10,0,10)]);for(var e=0;e<this._config[this.device].segments;e++){var t=h(2*this._config.xRadius),n=h(2*this._config.yRadius),a=c(0,1);this.segments.positions[e].set(t,n,a)}this.geometryCurve=new i.Cb(2,2),this.uniformsCurve={uTime:this.uTime,uRatio:this.uRatio,uSize:this.uSize,uPoints:this.uPoints,uColors:this.uColors},this.materialCurve=new i.Tb({depthTest:!1,depthWrite:!1,uniforms:this.uniformsCurve,defines:{NUM_SEGMENTS:this._config[this.device].segments,NUM_POINTS:2*this._config[this.device].segments},vertexShader:r.a,fragmentShader:o.a}),this.meshCurve=new i.kb(this.geometryCurve,this.materialCurve),this.scene.add(this.meshCurve)}},{key:"_bind",value:function(){}},{key:"update",value:function(){if(void 0!==this.curve&&0<=this.currentScroll&&this.currentScroll<=this.container.height){var e=this.currentScroll/this.domParent.getBoundingClientRect().height,t=(e=Math.min(Math.max(e,0),1),e=(this.progress.target=e,this.progress.current+=.05*(this.progress.target-this.progress.current),this.uTime.value+=this.clock.getDelta()*this._config.timeScale,this.curve.points[2].lerp(this.mousePosition,.025),Math.PI+this.progress.current*Math.PI*2),.03*this.uTime.value%(2*Math.PI));this.curve.points[0].x=10*Math.cos(e),this.curve.points[0].y=10*Math.sin(e),this.curve.points[1].x=5*Math.cos(t-Math.PI),this.curve.points[1].y=5*Math.sin(t+Math.PI/2),this.curve.points[3].x=-5*Math.cos(2*t-Math.PI),this.curve.points[3].y=-5*Math.cos(t),this.curve.points[4].x=-10*Math.cos(e),this.curve.points[4].y=-10*Math.sin(e),this.dummyM4.copy(this.camera.instancePC.projectionMatrix).multiply(this.camera.instancePC.matrixWorldInverse).multiply(this.dummyO.matrixWorld);for(var n=0;n<this._config[this.device].segments;n++){var i=this.segments.positions[n],r=this.uPoints.value[2*n],o=this.uPoints.value[2*n+1],a=(i.z+this.uTime.value*this.segments.randoms[n]*.025)%1,s=Math.min(a+this.segments.lengths[n],1);this.curve.getPoint(a,this.cV1),this.curve.getPoint(s,this.cV2),this.dummyV.set(this.cV1.x+i.x,this.cV1.y+i.y,this.cV1.z+i.z),this.dummyV.applyMatrix4(this.dummyM4),r.copy(this.dummyV),this.dummyV.set(this.cV2.x+i.x,this.cV2.y+i.y,this.cV2.z+i.z),this.dummyV.applyMatrix4(this.dummyM4),o.copy(this.dummyV),this.uColors.value[n].copy(this.segments.colors[n]).multiplyScalar(Math.sin(Math.PI*a))}}}},{key:"setValueShaderPass",value:function(e,t,n){this.renderer.setValueShaderPass(e,t,n)}},{key:"scroll",value:function(e){this.currentScroll=e}},{key:"resize",value:function(e,t){this.canvas.posY=e,this.canvas.height=t,this.container.posY=this.dom.hero.getBoundingClientRect().top+this.currentScroll,this.container.height=this.dom.hero.getBoundingClientRect().height,this.dom.strate1&&(this.container.height+=this.dom.strate1.getBoundingClientRect().height),this.updateSize()}},{key:"onMove",value:function(e){this.raycaster.setFromCamera(e.nPosition,this.camera.instancePC),this.camera.instancePC.getWorldDirection(this.mousePlane.normal),this.raycaster.ray.intersectPlane(this.mousePlane,this.mousePosition)}},{key:"onLeave",value:function(e){this.mousePosition.set(0,0,0)}},{key:"updateSize",value:function(){this.uSize.value.set(this._config.radius1,this._config.radius2),this.managerExperience.sizes.width>=this.managerExperience.sizes.height?(this.uRatio.value.set(1,this.managerExperience.sizes.height/this.managerExperience.sizes.width),this.uSize.value.multiplyScalar(1/this.managerExperience.sizes.width)):(this.uRatio.value.set(this.managerExperience.sizes.width/this.managerExperience.sizes.height,1),this.uSize.value.multiplyScalar(1/this.managerExperience.sizes.height))}},{key:"toggleDevice",value:function(e){this.device=e,this.scene.traverse((function(e){e instanceof i.Cb&&("function"==typeof e.geometry.dispose&&e.geometry.dispose(),"function"==typeof e.material.dispose&&e.material.dispose())})),this.scene.remove(this.meshCurve),this.curve=null,this.initSegment(),this.initUniforms(),this.initCurve()}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var i=n(0),r=n(27),o=n(26),a=(t=n(263),n.n(t)),s=(t=n(264),n.n(t));function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var c=(n=i.ib).randInt,h=n.randFloat,d=(n.randFloatSpread,n.lerp),f=function(){function e(t,n,r,a,s){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");u(this,"_config",{color:987672,color2:55551,colors:[2920447,3878655],nx:110,nz:110,marginBetweenPointX:15,marginBetweenPointZ:15}),u(this,"currentScroll",0),u(this,"easePositionPathCamera",.1),u(this,"dummyC",new i.q),u(this,"dummyO",new i.yb),u(this,"dummyV",new i.oc),u(this,"trailsX",[]),u(this,"trailsY",[]),this.managerExperience=new o.a,this.debug=this.managerExperience.debug,this.scene=t,this.pointer=n,this.camera=r,this.renderer=a,this.domParent=s,this.renderer.setLookAt(300,0,0),this._init(),this._bind()}var t,n;return t=e,(n=[{key:"_init",value:function(){this.clock=new i.p,this.colorScale=new r.a(this._config.colors),this.initScene(),this.initUniforms(),this.initPathCamera(),this.initPath(),this.initBox(),this.initLight()}},{key:"initScene",value:function(){this.scene.background=new i.q(1036)}},{key:"initPathCamera",value:function(){this.pointsCamera=[new i.oc(300,200,300),new i.oc(600,20,-300),new i.oc(-200,20,-300)],this.curvePathCamera=new i.m(this.pointsCamera);var e=this.curvePathCamera.getPoints(100);this.geometryPathCamera=(new i.k).setFromPoints(e),this.materialPathCamera=new i.V({color:16711680}),this.meshPathCamera=new i.U(this.geometryPathCamera,this.materialPathCamera)}},{key:"initUniforms",value:function(){this.uTime={value:0},this.uColor={value:new i.q(this._config.color)},this.uColor2={value:new i.q(this._config.color2)}}},{key:"initPath",value:function(){this._createPath()}},{key:"_createPath",value:function(){this.pointsGrid=this.gridPositions(this._config.nx,this._config.nz,this._config.marginBetweenPointX,this._config.marginBetweenPointZ),this.totalParticle=this._config.nx*this._config.nz,this.pathTotalLengthX=this._config.nx*this._config.marginBetweenPointX,this.pathTotalLengthZ=this._config.nz*this._config.marginBetweenPointZ;for(var e=new Float32Array(3*this.totalParticle),t=new Float32Array(3*this.totalParticle).fill(1),n=0;n<this.totalParticle;n++)this.pointsGrid[n].toArray(e,3*n),this.uColor.value.toArray(t,3*n);this.geometryPath=new i.k,this.geometryPath.setAttribute("position",new i.j(e,3)),this.geometryPath.setAttribute("color",new i.j(t,3)),this.uniformsPath={uSize:{value:800},uColor:this.uColor},this.materialPath=new i.Tb({depthTest:!1,transparent:!0,blending:i.a,vertexColors:!0,uniforms:this.uniformsPath,vertexShader:a.a,fragmentShader:s.a}),this.pointsPath=new i.Eb(this.geometryPath,this.materialPath),this.scene.add(this.pointsPath);for(var r=0;r<20;r++)this.trailsX.push({pos:h(this.pathTotalLengthX/2,-this.pathTotalLengthX/2),index:this.randomTrailIndex(this.trailsX,this._config.nz),dir:c(0,1)?1:-1,speed:h(9.2,9.7),length:h(5*this._config.marginBetweenPointX,8*this._config.marginBetweenPointX),color:this.uColor2.value});for(var o=0;o<20;o++)this.trailsY.push({pos:h(this.pathTotalLengthZ/2,-this.pathTotalLengthZ/2),index:this.randomTrailIndex(this.trailsY,this._config.nx),dir:c(0,1)?1:-1,speed:h(8.2,8.7),length:h(5*this._config.marginBetweenPointZ,8*this._config.marginBetweenPointZ),color:this.uColor2.value})}},{key:"initBox",value:function(){this._createBox()}},{key:"_createBox",value:function(){for(var e=[],t=0;t<40;t++)e.push(c(2,8));this.totalBox=e.reduce((function(e,t){return e+t}),0),this.materialBox=new i.pb({transparent:!0,opacity:.5,depthWrite:!1}),this.geometryBox=new i.i(1,1,1),this.geometryBox.translate(0,.5,0),this.meshBox=new i.M(this.geometryBox,this.materialBox,this.totalBox);var n=0;this.boxInitScaleY=.1,this.saveDataBox=[];for(var r=0;r<40;r++)for(var o=1600/e[r],a=0,s=e[r];a<s;a++){var l=this.colorScale.getColorAt(h(0,1)),u=h(o*a-800,o+o*a-800),d=40*r-800,f=20*Math.random()+20,p=90*Math.random()+15,m=20*Math.random()+20;this.saveDataBox.push({position:{x:u,y:0,z:d},scale:{x:f,y:this.boxInitScaleY,z:m},scaleYEnd:p}),this.dummyO.position.x=u,this.dummyO.position.y=0,this.dummyO.position.z=d,this.dummyO.scale.x=f,this.dummyO.scale.y=this.boxInitScaleY,this.dummyO.scale.z=m,this.dummyO.updateMatrix(),this.meshBox.setMatrixAt(n,this.dummyO.matrix),this.meshBox.setColorAt(n,l),n++}this.scene.add(this.meshBox)}},{key:"initLight",value:function(){this._createLight()}},{key:"_createLight",value:function(){this.ambientLight=new i.c(16777215,.5),this.scene.add(this.ambientLight),this.directionalLight1=new i.w(16777215),this.directionalLight1.position.set(1,1,1),this.scene.add(this.directionalLight1),this.directionalLight2=new i.w(15148839),this.directionalLight2.position.set(-1,-1,-1),this.scene.add(this.directionalLight2)}},{key:"randomTrailIndex",value:function(e,t){for(var n=new Array(t).fill().map((function(e,t){return t})),i=0;i<e.length;i++){var r=n.indexOf(e[i].index);n.splice(r,1)}return n[c(0,n.length-1)]}},{key:"_debugLine",value:function(){this.debug.active&&(this.debugFolder=this.debug.ui.addFolder("HERO"))}},{key:"_bind",value:function(){}},{key:"update",value:function(){if(this.currentScroll+window.innerHeight>=this.domParent.getBoundingClientRect().top&&this.currentScroll<=this.domParent.getBoundingClientRect().top+this.domParent.getBoundingClientRect().height){this.uTime=this.clock.getElapsedTime();for(var e=Math.cos(.4*this.uTime),t=Math.sin(.4*this.uTime),n=(this.directionalLight1.position.set(e,1,t),this.directionalLight2.position.set(-1*e,-1,-1*t),(this.currentScroll+window.innerHeight-this.domParent.getBoundingClientRect().top)/(this.domParent.getBoundingClientRect().height/1.5)),i=(n=Math.max(0,Math.min(1,n)),0),r=this.totalBox;i<r;i++)this.dummyO.position.copy(this.saveDataBox[i].position),this.dummyO.scale.copy(this.saveDataBox[i].scale),this.dummyO.scale.y=d(this.saveDataBox[i].scale.y,this.saveDataBox[i].scaleYEnd,n),this.dummyO.updateMatrix(),this.meshBox.setMatrixAt(i,this.dummyO.matrix);this.meshBox.instanceMatrix.needsUpdate=!0;e=(this.currentScroll+window.innerHeight-this.domParent.getBoundingClientRect().top)/(this.domParent.getBoundingClientRect().height+ +window.innerHeight),e=Math.min(1,Math.max(0,e));var o=(this._pointCurvePathCamera=this.curvePathCamera.getPoint(e),this.camera.instance.position.x=d(this.camera.instance.position.x,this._pointCurvePathCamera.x,this.easePositionPathCamera),this.camera.instance.position.y=d(this.camera.instance.position.y,this._pointCurvePathCamera.y,this.easePositionPathCamera),this.camera.instance.position.z=d(this.camera.instance.position.z,this._pointCurvePathCamera.z,this.easePositionPathCamera),this.camera.instance.updateProjectionMatrix(),this.pointsPath.geometry.attributes.color.array),a=new Array(this.totalParticle);this.dummyC.copy(this.uColor.value);for(var s=0;s<this.totalParticle;s++)this.dummyC.toArray(o,3*s);for(var l=0;l<this.trailsX.length;l++){var u=this.trailsX[l],c=(u.pos+=u.dir*u.speed,u.pos+u.dir*u.length),h=u.pos,f=c;u.dir<0&&(h=c,f=u.pos);for(var p=0;p<this._config.nx;p++){var m,v,g=-this.pathTotalLengthX/2+p*this._config.marginBetweenPointX,y=u.index*this._config.nx+p;h<=g&&g<=f&&(m=0,v=(g-h)/this._config.marginBetweenPointX,g=(f-g)/this._config.marginBetweenPointX,v<1?m=1-v:g<1&&(m=1-g),this.dummyC.copy(u.color).lerp(this.uColor.value,m),this.dummyC.toArray(o,3*y),a[y]=this.dummyC.clone())}(u.pos>this.pathTotalLengthX/2&&0<u.dir||u.pos<-this.pathTotalLengthX/2&&u.dir<0)&&(u.pos=u.dir*(-this.pathTotalLengthX/2-u.length),u.index=this.randomTrailIndex(this.trailsX,this._config.nz))}for(var b=0;b<this.trailsY.length;b++){var _=this.trailsY[b],w=(_.pos+=_.dir*_.speed,_.pos+_.dir*_.length),x=_.pos,S=w;_.dir<0&&(x=w,S=_.pos);for(var A=0;A<this._config.nz;A++){var C,M,E=-this.pathTotalLengthZ/2+A*this._config.marginBetweenPointZ,T=this._config.nx*A+_.index;x<=E&&E<=S&&(C=0,M=(E-x)/this._config.marginBetweenPointZ,E=(S-E)/this._config.marginBetweenPointZ,M<1?C=1-M:E<1&&(C=1-E),this.dummyC.copy(_.color).lerp(this.uColor.value,C),a[T]&&this.dummyC.lerp(a[T],.5),this.dummyC.toArray(o,3*T))}(_.pos>this.pathTotalLengthX/2&&0<_.dir||_.pos<-this.pathTotalLengthX/2&&_.dir<0)&&(_.pos=_.dir*(-this.pathTotalLengthX/2-_.length),_.index=this.randomTrailIndex(this.trailsY,this._config.nx))}this.pointsPath.geometry.attributes.color.needsUpdate=!0}}},{key:"gridPositions",value:function(e,t,n,r){for(var o=new Array(e*t),a=new i.oc,s=-n*e/2,l=-r*t/2,u=0;u<e;u++){h(0,1);for(var c=0;c<t;c++)a.set(s+u*n,0,l+c*r),o[u*t+c]=a.clone()}return o}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(0),r=n(31),o=n(26);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var l=(t=i.ib).randFloat,u=t.randFloatSpread,c=function(){function e(t,n,r,a,l,u){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");s(this,"_config",{lightColor:1928644,lightIntensity:1,bloomThreshold:0,bloomStrength:2,bloomRadius:0,tiltX:.6*Math.PI,desktop:{count:1e3},mobile:{count:600}}),s(this,"progress",{current:0,target:0}),s(this,"mousePlane",new i.Bb(new i.oc(0,0,1),0)),s(this,"mousePosition",new i.oc),s(this,"raycaster",new i.Nb),s(this,"dummyO",new i.yb),s(this,"currentScroll",0),s(this,"canvas",{posY:0,height:0}),this.managerExperience=new o.a,this.debug=this.managerExperience.debug,this.scene=t,this.pointer=n,this.camera=r,this.renderer=a,this.domParent=l,this.device=u,this._init(),this._bind()}var t,n;return t=e,(n=[{key:"_init",value:function(){this.clock=new i.p,this.targetLightColor=new i.q(this._config.lightColor),this.initScene(),this.initUniforms(),this.initLight(),this.initDodecahedron(),this.initRenderer(),this.debugHero()}},{key:"initScene",value:function(){this.scene.background=new i.q(1036)}},{key:"initRenderer",value:function(){var e;this.renderer.effectComposerActivate&&(e=new r.a({luminanceThreshold:.1,luminanceSmoothing:.1,intensity:1.5}),this.renderer.addEffectPass({name:"bloomEffect",core:e}),this.godRaysConf={kernelSize:1,density:1.5,decay:.97,weight:.1,exposure:.54,samples:60,clampMax:1},this.godRaysEffect=new r.d(this.camera.instance,this.meshSun,{density:1.5,decay:.98,weight:.1}),this.renderer.addEffectPass({name:"godRaysEffect",core:this.godRaysEffect}),e=new r.f,this.renderer.addEffectPass({name:"smaaEffect",core:e}))}},{key:"initUniforms",value:function(){this.uTime={value:0},this.uColor={value:new i.q(this._config.color)},this.uNoiseCoordScale={value:this._config.noiseCoordScale},this.uBokehStrength={value:.5},this.uBokehBlurLength={value:50},this.uFocalDistance={value:30},this.uDistanceAttenuation={value:.1}}},{key:"initLight",value:function(){this._createLight()}},{key:"_createLight",value:function(){this.pointLight=new i.Db(this._config.lightColor,this._config.lightIntensity),this.pointLight.position.set(0,0,0),this.scene.add(this.pointLight),this.materialSun=new i.lb({color:this._config.lightColor}),this.geometrySun=new i.Yb(.4,24,24),this.meshSun=new i.kb(this.geometrySun,this.materialSun),this.meshSun.scale.set(10,10,10),this.meshSun.frustumCulled=!1}},{key:"debugHero",value:function(){var e,t=this;this.debug.active&&(e={materialColor:1928644,sunColor:1928644,sunScale:0},this.debugFolder=this.debug.ui.addFolder("HERO - Material"),this.debugFolder.addColor(e,"materialColor").name("Color").onChange((function(){t.meshDodecahedron.material.color.set(e.materialColor)})),this.debugFolder.add(this.meshDodecahedron.material,"metalness").name("metalness").min(0).max(1).step(.001),this.debugFolder.add(this.meshDodecahedron.material,"roughness").name("roughness").min(0).max(1).step(.001),this.debugFolder=this.debug.ui.addFolder("HERO - Sun"),this.debugFolder.addColor(e,"sunColor").name("Color").onChange((function(){t.targetLightColor.set(e.sunColor)})),this.debugFolder.add(this.pointLight,"intensity").name("intensity").min(0).max(10).step(.01),this.debugFolder.add(e,"sunScale").name("scale").min(0).max(20).step(.01).onChange((function(){t.meshSun.scale.set(e.sunScale,e.sunScale,e.sunScale)})),this.debugFolder=this.debug.ui.addFolder("HERO - God Rays"),this.debugFolder.add(this.godRaysConf,"kernelSize").name("kernelSize").min(0).max(5).step(1).onChange((function(){t.godRaysEffect.blur=0<t.godRaysConf.kernelSize,t.godRaysEffect.blurPass.kernelSize=t.godRaysConf.kernelSize})),this.debugFolder.add(this.godRaysConf,"density").name("density").min(0).max(1).step(.001).onChange((function(){t.godRaysEffect.godRaysMaterial.uniforms.density.value=t.godRaysConf.density})),this.debugFolder.add(this.godRaysConf,"decay").name("decay").min(0).max(1).step(.001).onChange((function(){t.godRaysEffect.godRaysMaterial.uniforms.decay.value=t.godRaysConf.decay})),this.debugFolder.add(this.godRaysConf,"weight").name("weight").min(0).max(1).step(.001).onChange((function(){t.godRaysEffect.godRaysMaterial.uniforms.weight.value=t.godRaysConf.weight})),this.debugFolder.add(this.godRaysConf,"exposure").name("exposure").min(0).max(1).step(.001).onChange((function(){t.godRaysEffect.godRaysMaterial.uniforms.exposure.value=t.godRaysConf.exposure})),this.debugFolder.add(this.godRaysConf,"clampMax").name("clampMax").min(0).max(1).step(.001).onChange((function(){t.godRaysEffect.godRaysMaterial.uniforms.clampMax.value=t.godRaysConf.clampMax})))}},{key:"initDodecahedron",value:function(){this._createDodecahedron()}},{key:"_createDodecahedron",value:function(){this.geometryDodecahedron=new i.x(1),this.velocities=new Float32Array(this._config[this.device].count).fill(0).map((function(){return l(.2,1)})),this.geometryDodecahedron.setAttribute("iVelocity",new i.L(this.velocities,1)),this.materialDodecahedron=new i.pb({metalness:.8,roughness:.5}),this.meshDodecahedron=new i.M(this.geometryDodecahedron,this.materialDodecahedron,this._config[this.device].count),this.meshDodecahedron.userData={positions:new Array(this._config[this.device].count).fill(0).map((function(){return new i.oc(u(100),u(100),l(10,20))})),rotations:new Array(this._config[this.device].count).fill(0).map((function(){return new i.oc(u(Math.PI),u(Math.PI),u(Math.PI))})),scales:new Array(this._config[this.device].count).fill(0).map((function(){return l(.5,2)})),velocities:new Array(this._config[this.device].count).fill(0).map((function(){return l(.01,.02)})),randoms:new Array(this._config[this.device].count).fill(0).map((function(){return new i.oc(u(.02),u(.02),u(.02))}))},this.meshDodecahedron.rotation.x=this._config.tiltX/2,this.scene.add(this.meshDodecahedron)}},{key:"_bind",value:function(){}},{key:"scroll",value:function(e){this.currentScroll=e}},{key:"resize",value:function(e,t){this.canvas.posY=e,this.canvas.height=t}},{key:"update",value:function(){if(void 0!==this.meshDodecahedron&&0<=this.currentScroll&&this.currentScroll<=this.domParent.getBoundingClientRect().height){for(var e=this.currentScroll/this.domParent.getBoundingClientRect().height,t=(e=Math.min(Math.max(e,0),1),e=(this.progress.target=e,this.uTime.value+=this.clock.getDelta(),this.progress.current+=.05*(this.progress.target-this.progress.current),(.5-this.progress.current)*this._config.tiltX+.1*this.pointer.nPosition.y),(e=(this.meshDodecahedron.rotation.x+=.05*(e-this.meshDodecahedron.rotation.x),this.meshDodecahedron.rotation.y+=.05*(.1*-this.pointer.nPosition.x-this.meshDodecahedron.rotation.y),this.pointLight.position.lerp(this.mousePosition,.025),this.pointLight.color.lerp(this.targetLightColor,.02),this.meshSun.position.lerp(this.mousePosition,.025),this.meshSun.material.color.lerp(this.targetLightColor,.02),this.meshSun.updateMatrix(),this.meshDodecahedron.userData)).positions),n=e.rotations,i=e.scales,r=e.velocities,o=e.randoms,a=0;a<this._config[this.device].count;a++)t[a].y=(t[a].y+50+r[a])%100-50,n[a].x+=o[a].x,n[a].y+=o[a].y,n[a].z+=o[a].z,this.dummyO.position.copy(t[a]),this.dummyO.rotation.x=n[a].x,this.dummyO.rotation.y=n[a].y,this.dummyO.rotation.z=n[a].z,this.dummyO.scale.set(1,1,1).multiplyScalar(i[a]),this.dummyO.updateMatrix(),this.meshDodecahedron.setMatrixAt(a,this.dummyO.matrix);this.meshDodecahedron.instanceMatrix.needsUpdate=!0}}},{key:"onMove",value:function(e){this.raycaster.setFromCamera(e.nPosition,this.camera.instance),this.camera.instance.getWorldDirection(this.mousePlane.normal),this.raycaster.ray.intersectPlane(this.mousePlane,this.mousePosition)}},{key:"onLeave",value:function(e){this.mousePosition.set(0,0,0)}},{key:"toggleDevice",value:function(e){this.device=e,this.scene.traverse((function(e){e instanceof i.M&&("function"==typeof e.geometry.dispose&&e.geometry.dispose(),"function"==typeof e.material.dispose&&e.material.dispose())})),this.scene.remove(this.meshDodecahedron),this.meshDodecahedron=null,this._createDodecahedron(),"mobile"==this.device&&(this.pointLight.position.set(0,0,0),this.meshSun.position.set(0,0,0))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var i=n(0),r=n(26),o=(t=n(271),n.n(t)),a=(t=n(272),n.n(t)),s=(t=n(273),n.n(t)),l=(t=n(274),n.n(t)),u=(t=n(275),n.n(t)),c=(t=n(276),n.n(t)),h=n(27);function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var p=(t=i.ib).randInt,m=t.randFloat,v=t.randFloatSpread,g=function(){function e(t,n,o,a,s,l){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");f(this,"_classes",{buttonBurger:"js-menu-burger"}),f(this,"_config",{color:528678,colorCircle:199467,color2:528678,color3:528678,colors:[7970765,91354],noiseCoordScale:.02,noiseTimeScale:.5,desktop:{circles:60,radius:50,countPointLight:1e3,numberParticleCircle:150},mobile:{circles:25,radius:20,countPointLight:250,numberParticleCircle:60}}),f(this,"noiseOffsetsTarget",new i.oc),f(this,"currentScroll",0),f(this,"currentElapsedTime",0),f(this,"oldElapsedTime",0),f(this,"newRotation",0),f(this,"canvas",{posY:0,height:0}),f(this,"amplitudeMouse",{x:25,y:15}),f(this,"lerpCamera",.05),f(this,"mouseTargetV2",new i.nc),f(this,"mouseTargetV2Save",new i.nc),this.managerExperience=new r.a,this.debug=this.managerExperience.debug,this.scene=t,this.pointer=n,this.camera=o,this.domParent=s,this.device=l,this._retrieveDOM(),this._init(),this._bind()}var t,n;return t=e,(n=[{key:"_retrieveDOM",value:function(){this.dom={},this.dom.buttonBurger=document.querySelector("."+this._classes.buttonBurger)}},{key:"_init",value:function(){this.clock=new i.p,this.initPosCamera=this.camera.instance.position.clone(),this.initScene(),this.initUniforms(),this.initPointsCircle(),this.initPointsLight(),this.initParticleCircle()}},{key:"initScene",value:function(){this.scene.background=new i.q(1036)}},{key:"initUniforms",value:function(){this.uTime={value:0},this.uColor={value:new i.q(this._config.color)},this.uColorCircle={value:new i.q(this._config.colorCircle)},this.uNoiseCoordScale={value:this._config.noiseCoordScale},this.uBokehStrength={value:.5},this.uBokehBlurLength={value:50},this.uFocalDistance={value:34},this.uDistanceAttenuation={value:30},this.uNoiseOffsets={value:new i.oc(1.5,0,0)},this.uProgressScrollRotation={value:0},this.uProgressScrollScale={value:1}}},{key:"initPointsCircle",value:function(){this._createPointsCircle(),this._debugCircle()}},{key:"_createPointsCircle",value:function(){var e=this,t=(this.circles=this.circlesPositions(this._config[this.device].circles,this._config[this.device].radius),this.countPointCircle=this.circles.reduce((function(e,t){return e+t.positions.length}),0),this.countCircle=this._config[this.device].circles,this.positionsCircle=new Float32Array(3*this.countPointCircle),new Float32Array(3*this.countPointCircle).fill(1)),n=new Float32Array(+this.countPointCircle).fill(1),r=0,s=0;this.circles.forEach((function(t,i){for(var o=0;o<t.positions.length;o++)n[s]=t.randomness,t.positions[o].toArray(e.positionsCircle,r),r+=3,s++})),this.geometryCircle=new i.k,this.geometryCircle.setAttribute("position",new i.j(this.positionsCircle,3)),this.geometryCircle.setAttribute("color",new i.j(t,3)),this.geometryCircle.setAttribute("aRandomness",new i.j(n,1)),this.uniformsCircle={uTime:this.uTime,uColor:this.uColorCircle,uNoiseCoordScale:this.uNoiseCoordScale,uBokehStrength:this.uBokehStrength,uBokehBlurLength:this.uBokehBlurLength,uFocalDistance:this.uFocalDistance,uDistanceAttenuation:this.uDistanceAttenuation,uNoiseOffsets:this.uNoiseOffsets,uProgressScrollRotation:this.uProgressScrollRotation,uProgressScrollScale:this.uProgressScrollScale},this.materialCircle=new i.Tb({side:i.y,depthTest:!1,transparent:!0,blending:i.a,vertexColors:!0,uniforms:this.uniformsCircle,vertexShader:o.a,fragmentShader:a.a}),this.pointsCircle=new i.Eb(this.geometryCircle,this.materialCircle),this.scene.add(this.pointsCircle)}},{key:"_debugCircle",value:function(){var e=this;this.debug.active&&(this.debugFolder=this.debug.ui.addFolder("HERO"),this.debugFolder.addColor(this._config,"colorCircle").name("color circle").onChange((function(){e.uColorCircle.value.set(e._config.colorCircle)})))}},{key:"initPointsLight",value:function(){this._createPointsLight(),this.debugLight()}},{key:"_createPointsLight",value:function(){this.colorScale=new h.a(this._config.colors);for(var e=new Float32Array(3*this._config[this.device].countPointLight),t=new Float32Array(3*this._config[this.device].countPointLight).fill(1),n=new Float32Array(this._config[this.device].countPointLight).fill(1).map((function(){return m(.1,2.5)})),r=new i.oc,o=(new i.q,0),a=this._config[this.device].countPointLight;o<a;o++)r.set(v(this._config[this.device].radius),v(this._config[this.device].radius),v(this._config[this.device].radius)),r.toArray(e,3*o),this.colorScale.getColorAt(m(0,1)).toArray(t,3*o);this.geometryLight=new i.k,this.geometryLight.setAttribute("position",new i.j(e,3)),this.geometryLight.setAttribute("color",new i.j(t,3)),this.geometryLight.setAttribute("aScale",new i.j(n,1)),this.uniformsLight={uTime:this.uTime,uColor:this.uColor,uNoiseCoordScale:this.uNoiseCoordScale,uBokehStrength:this.uBokehStrength,uBokehBlurLength:this.uBokehBlurLength,uFocalDistance:this.uFocalDistance,uDistanceAttenuation:this.uDistanceAttenuation,uNoiseOffsets:this.uNoiseOffsets},this.materialLight=new i.Tb({side:i.y,depthTest:!1,transparent:!0,blending:i.a,vertexColors:!0,uniforms:this.uniformsLight,vertexShader:s.a,fragmentShader:l.a}),this.pointsLight=new i.Eb(this.geometryLight,this.materialLight),this.scene.add(this.pointsLight)}},{key:"debugLight",value:function(){var e=this;this.debug.active&&(this.debugFolder=this.debug.ui.addFolder("HERO - Point light"),this.debugFolder.addColor(this._config,"color2").name("Color").onChange((function(){e._config.colors[1]=e._config.color2,e.colorScale=new h.a(e._config.colors);for(var t=0,n=e._config.countPointLight;t<n;t++)e.colorScale.getColorAt(m(0,1)).toArray(e.pointsLight.geometry.attributes.color.array,3*t);e.pointsLight.geometry.attributes.color.needsUpdate=!0})))}},{key:"initParticleCircle",value:function(){this._createParticleCircle(),this.debugParticleCircle()}},{key:"_createParticleCircle",value:function(){for(var e=Math.floor(this._config[this.device].circles/5),t=[],n=0;n<5;n++)t.push(p(n*e+1,n*e+(e-1)));this.particlesCircle=[];for(var r=0,o=t.length;r<o;r++){for(var a=t[r],s=this.circles[a].radius,l=this.circles[a].rot,h=m(1.8,2.2),d=(a=p(this._config[this.device].numberParticleCircle*r,this._config[this.device].numberParticleCircle*r+this._config[this.device].numberParticleCircle),[]),f=[],v=new Float32Array(a).fill(1).map((function(){return m(.1,2.5)})),g=new i.oc,y=new i.q,b=m(.3,.5),_=m(4,8),w=0+r*_,x=2*Math.PI/(r*b+1)+r*_,S=0,A=a;S<A;S++){var C=m(w,x),M=(Math.random()-.5)*h,E=(Math.random()-.5)*h,T=(Math.random()-.5)*h;M=0+M,E=Math.cos(C)*s+E,C=Math.sin(C)*s+T;g.set(M,E,C),g.applyEuler(new i.A(0,l)),d.push(g.clone()),y=this.colorScale.getColorAt(m(0,1)),f.push(y.clone())}this.particlesCircle.push({positionsParticle:d,colorsParticle:f,scalesParticle:v})}this.countTotalParticleCircle=this.particlesCircle.reduce((function(e,t){return e+t.positionsParticle.length}),0);var D=new Float32Array(3*this.countTotalParticleCircle),P=new Float32Array(3*this.countTotalParticleCircle).fill(1),k=new Float32Array(+this.countTotalParticleCircle).fill(1),O=new Float32Array(+this.countTotalParticleCircle).fill(1).map((function(){return m(.1,2.5)})),R=0,L=0;this.particlesCircle.forEach((function(e,t){for(var n=0;n<e.positionsParticle.length;n++)e.positionsParticle[n].toArray(D,R),e.colorsParticle[n].toArray(P,R),R+=3;for(var i=0;i<e.scalesParticle.length;i++)k[L]=e.scalesParticle[i],L++})),this.geometryParticleCircle=new i.k,this.geometryParticleCircle.setAttribute("position",new i.j(D,3)),this.geometryParticleCircle.setAttribute("color",new i.j(P,3)),this.geometryParticleCircle.setAttribute("aScale",new i.j(k,1)),this.geometryParticleCircle.setAttribute("aRandomness",new i.j(O,1)),this.uniformsParticleCircle={uTime:this.uTime,uColor:this.uColor,uNoiseCoordScale:this.uNoiseCoordScale,uBokehStrength:this.uBokehStrength,uBokehBlurLength:this.uBokehBlurLength,uFocalDistance:this.uFocalDistance,uDistanceAttenuation:this.uDistanceAttenuation,uNoiseOffsets:this.uNoiseOffsets,uProgressScrollRotation:this.uProgressScrollRotation},this.materialParticleCircle=new i.Tb({side:i.y,depthTest:!1,transparent:!0,blending:i.a,vertexColors:!0,uniforms:this.uniformsParticleCircle,vertexShader:u.a,fragmentShader:c.a}),this.pointsParticleCircle=new i.Eb(this.geometryParticleCircle,this.materialParticleCircle),this.scene.add(this.pointsParticleCircle)}},{key:"debugParticleCircle",value:function(){var e=this;this.debug.active&&(this.debugFolder=this.debug.ui.addFolder("HERO - Particle circle"),this.debugFolder.addColor(this._config,"color3").name("Color").onChange((function(){e._config.colors[1]=e._config.color3,e.colorScale=new h.a(e._config.colors);var t=0;e.particlesCircle.forEach((function(n,i){for(var r=0;r<n.positionsParticle.length;r++)e.colorScale.getColorAt(m(0,1)).toArray(e.pointsParticleCircle.geometry.attributes.color.array,t),t+=3})),e.pointsParticleCircle.geometry.attributes.color.needsUpdate=!0})))}},{key:"_bind",value:function(){var e=this;this.dom.buttonBurger.addEventListener("mouseenter",(function(){"desktop"==e.device&&(e.lerpCamera=.05,e.mouseTargetV2=e.mouseTargetV2Save.clone(),e.amplitudeMouse={x:45,y:30})})),this.dom.buttonBurger.addEventListener("mouseleave",(function(){"desktop"==e.device&&(e.mouseTargetV2.set(0,0),e.amplitudeMouse={x:25,y:15})}))}},{key:"update",value:function(){var e,t;this.uTime.value=this.clock.getElapsedTime()*this._config.noiseTimeScale,void 0!==this.pointsCircle&&0<=this.currentScroll&&this.currentScroll<=this.domParent.getBoundingClientRect().height&&(this.noiseOffsetsTarget.x=.1*this.pointer.nPosition.x,this.noiseOffsetsTarget.y=.1*this.pointer.nPosition.y,this.uNoiseOffsets.value.lerp(this.noiseOffsetsTarget,.05),e=i.ib.lerp(this.camera.instance.position.x,this.initPosCamera.x+this.mouseTargetV2.x*this.amplitudeMouse.x,this.lerpCamera),t=i.ib.lerp(this.camera.instance.position.y,this.initPosCamera.y+this.mouseTargetV2.y*this.amplitudeMouse.y,this.lerpCamera),this.camera.instance.position.x=e,this.camera.instance.position.y=t,this.camera.instance.lookAt(this.pointsCircle.position),this.newRotation=i.ib.lerp(this.newRotation,-.01*(this.uTime.value+this.currentScroll/15)*Math.PI*2,.06),this.pointsParticleCircle.rotation.x=this.newRotation,this.pointsCircle.rotation.x=this.newRotation)}},{key:"circlesPositions",value:function(e,t){for(var n=new i.oc,r=[],o=0;o<e;o++){for(var a=[],s=(o+1)/e*t+m(.5,1.5),l=2*Math.PI*s,u=m(-.002,.002),c=Math.round(l/.09),h=0,d=m(0,Math.PI/8),f=0;f<c;f++){var p=2*Math.PI*f/c,v=Math.cos(p)*s;p=Math.sin(p)*s,v=(n.set(0,v,p),n.applyEuler(new i.A(0,d)),n.clone());a[h++]=v}r.push({radius:s,rot:d,randomness:u,positions:a})}return r}},{key:"setCanvasData",value:function(e,t){this.canvas.posY=e,this.canvas.height=t}},{key:"scroll",value:function(e){this.currentScroll=e}},{key:"resize",value:function(e,t){this.canvas.posY=e,this.canvas.height=t}},{key:"onMove",value:function(e){this.mouseTargetV2=e.nPosition.clone()}},{key:"onEnter",value:function(e){this.lerpCamera=.05}},{key:"onLeave",value:function(e){this.lerpCamera=.005,this.mouseTargetV2Save=this.mouseTargetV2.clone(),this.mouseTargetV2.set(0,0)}},{key:"toggleDevice",value:function(e){this.device=e,this.scene.traverse((function(e){e instanceof i.Eb&&("function"==typeof e.geometry.dispose&&e.geometry.dispose(),"function"==typeof e.material.dispose&&e.material.dispose())})),this.scene.remove(this.pointsCircle),this.scene.remove(this.pointsLight),this.scene.remove(this.pointsParticleCircle),this._createPointsCircle(),this._createPointsLight(),this._createParticleCircle()}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t){e.exports="#define GLSLIFY 1\nuniform float uSize;\n\nattribute float aScale;\n\nvarying vec4 vColor;\n\nvoid main() {\n\n\n    vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n    // modelPosition.z = -150.0 + mod( position.z + uTime, 300.0 );\n\n    vec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectedPosition = projectionMatrix * viewPosition;\n\n    gl_Position = projectedPosition;\n\n    /**\n    * Size\n    */\n    // Step 2\n    gl_PointSize = uSize * aScale;\n    gl_PointSize *= (1.0 / - viewPosition.z);\n    // gl_PointSize = (50.0 / -mvPosition.z) * (vBokehStrength + 1.0);\n\n    vColor = color;\n}"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec4 vColor;\nvoid main() {\n  \n    gl_FragColor = vec4( vColor );\n}"},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));t=n(7);var i=n(6);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var h=function(e){var t=h;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(i)}}(h);function h(){var e=this,t=h;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return c(l(e=n.call.apply(n,[this].concat(r))),"isInstance",!1),c(l(e),"_classes",{slider:"js-slider",pagination:"js-pagination"}),e._retrieveDOM(),e}return t=h,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.slider=this.dom.component.querySelector("."+this._classes.slider),this.dom.views.pagination=this.dom.component.querySelector("."+this._classes.pagination),this.dom.prev=this.dom.component.querySelector(".js-prev"),this.dom.next=this.dom.component.querySelector(".js-next")}},{key:"init",value:function(){a(u(h.prototype),"init",this).call(this),this._initSlider()}},{key:"_initSlider",value:function(){this.Swiper=new i.f(this.dom.views.slider,{modules:[i.c,i.d,i.e],slidesPerView:"auto",speed:400,navigation:{nextEl:this.dom.next,prevEl:this.dom.prev},pagination:{el:this.dom.views.pagination,clickable:!0}})}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),h}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));t=n(7);var i=n(6);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){var t=c;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(i)}}(c);function c(){var e=this,t=c;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i,r,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=!(i="isInstance"),i in(t=l(e=n.call.apply(n,[this].concat(a))))?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,e._getDom(),e}return t=c,(e=[{key:"_getDom",value:function(){this.dom.slider=this.dom.component.querySelector(".js-slider")}},{key:"init",value:function(){a(u(c.prototype),"init",this).call(this),this._getWidth()<1024&&this._initSlider()}},{key:"_initSlider",value:function(){this.isInstance||(this.isInstance=!0,this.Swiper=new i.f(this.dom.slider,{modules:[i.c,i.e],speed:400,direction:"horizontal",pagination:{el:".swiper-pagination",clickable:!0}}))}},{key:"resize",value:function(){a(u(c.prototype),"resize",this).call(this),this._getWidth()<1024&&!this.isInstance?this._initSlider():1024<this._getWidth()&&this.isInstance&&(this.Swiper.destroy(),this.isInstance=!1)}},{key:"_getWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),c}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));t=n(7);var i=n(2);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);n=t?(n=c(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return u(i)}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var d=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=l(r);function r(){var e=this,t=r;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return h(u(e=n.call.apply(n,[this].concat(o))),"isInstance",!1),h(u(e),"_currentIndex",null),h(u(e),"_classes",{item:"js-item",hover:"js-hover",hoverImage:"ct--image",imageMobile:"js-item-image-mobile",opened:"opened",active:"active",switch:"switch"}),e._bindAll={showHover:e._showHover.bind(u(e)),hideHover:e._hideHover.bind(u(e))},e._retrieveDOM(),e._bind(),e}return t=r,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.items=[].slice.call(this.dom.component.querySelectorAll("."+this._classes.item)),this.dom.views.hover=this.dom.component.querySelector("."+this._classes.hover),this.dom.views.imageDesktop=this.dom.views.hover.querySelectorAll("."+this._classes.hoverImage),this.dom.views.imageMobile=[].slice.call(this.dom.component.querySelectorAll("."+this._classes.imageMobile))}},{key:"_bind",value:function(){var e=this;if(!this.isInstance){this.isInstance=!0,this._moveHover();for(var t=0;t<this.dom.views.items.length;t++)!function(t){var n=e.dom.views.items[t];n.addEventListener("mouseenter",(function(){e._switchHover(t),e._hideAllImgs(),e.dom.views.items[t].classList.add(e._classes.active),e.dom.views.imageDesktop[t].classList.add(e._classes.active),setTimeout((function(){}),100)})),n.addEventListener("click",e._clickItemMobile.bind(e))}(t);this.dom.component.addEventListener("mouseenter",this._bindAll.showHover),this.dom.component.addEventListener("mouseleave",this._bindAll.hideHover)}}},{key:"_unbind",value:function(){}},{key:"_moveHover",value:function(){var e=this,t=(i.a.set(this.dom.views.hover,{xPercent:-50,yPercent:-50,x:window.innerWidth/2,y:window.innerHeight/2}),i.a.quickTo(this.dom.views.hover,"x",{duration:.4,ease:"power3"})),n=i.a.quickTo(this.dom.views.hover,"y",{duration:.4,ease:"power3"});this.dom.component.addEventListener("mousemove",(function(i){e._getWidth()<1024||(t(i.clientX),n(i.clientY))}))}},{key:"_switchHover",value:function(e){var t=this;this._getWidth()<1024&&e==this._currentIndex||(this._currentIndex=e,this.dom.views.hover.classList.add(this._classes.switch),setTimeout((function(){t.dom.views.hover.classList.remove(t._classes.switch)}),300))}},{key:"_showHover",value:function(){this._getWidth()<1024||this.dom.views.hover.classList.add(this._classes.active)}},{key:"_hideHover",value:function(){this._getWidth()<1024||this.dom.views.hover.classList.remove(this._classes.active)}},{key:"_hideAllImgs",value:function(){for(var e=0;e<this.dom.views.imageDesktop.length;e++)this.dom.views.imageDesktop[e].classList.remove(this._classes.active),this.dom.views.items[e].classList.remove(this._classes.active)}},{key:"_clickItemMobile",value:function(e){1024<this._getWidth()||(e=this.dom.views.items.indexOf(e.currentTarget),this.dom.views.items[e].classList.contains(this._classes.opened)?this._hidePicture(e):this._showPicture(e))}},{key:"_hidePicture",value:function(e){var t=this;i.a.timeline({onComplete:function(){t.dom.views.items[e].classList.remove(t._classes.opened)}}).to(this.dom.views.imageMobile[e],{height:0,duration:.4,ease:"power1.out"})}},{key:"_showPicture",value:function(e){var t=this;i.a.timeline({onComplete:function(){t.dom.views.items[e].classList.add(t._classes.opened)}}).to(this.dom.views.imageMobile[e],{height:"auto",duration:.4,ease:"power1.in"})}},{key:"resize",value:function(){a(c(r.prototype),"resize",this).call(this)}},{key:"_getWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(t.a)},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n.r(t),n.d(t,"default",(function(){return c}));var c=function(e){var t=c;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);n=t?(n=l(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return s(r)}}(c);function c(){var e=this,t=c;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return u(s(e=n.call.apply(n,[this].concat(r))),"_classes",{burger:"js-menu-burger",background:"js-menu-background",container:"js-menu-container",item:"js-menu-item",open:"open",show:"show",small:"small"}),u(s(e),"_limitScroll",50),e.debugActive="#debug"===window.location.hash,e.debugActive&&(e.dom.component.style.display="none"),e._retrieveDOM(),e}return t=c,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.burger=this.dom.component.querySelector("."+this._classes.burger),this.dom.views.container=this.dom.component.querySelector("."+this._classes.container),this.dom.views.list_background=[].slice.call(this.dom.component.querySelectorAll("."+this._classes.background)),this.dom.views.list_item=[].slice.call(this.dom.component.querySelectorAll("."+this._classes.item))}},{key:"init",value:function(){o(l(c.prototype),"init",this).call(this)}},{key:"bind",value:function(){if(o(l(c.prototype),"bind",this).call(this),this.dom.views.burger.addEventListener("click",this._clickBurger.bind(this)),this.dom.views.list_item)for(var e=0,t=this.dom.views.list_item.length;e<t;e++)this.dom.views.list_item[e].addEventListener("mouseenter",this._mouseEnterItem.bind(this)),this.dom.views.list_item[e].addEventListener("mouseleave",this._mouseLeaveItem.bind(this))}},{key:"_clickBurger",value:function(e){this.dom.component.classList.contains(this._classes.open)?this._closeMenu():this._openMenu()}},{key:"_closeMenu",value:function(){this.dom.component.classList.remove(this._classes.open),this.dom.views.burger.classList.remove(this._classes.open),this.dom.views.container.classList.remove(this._classes.open)}},{key:"_openMenu",value:function(){this.dom.views.burger.classList.add(this._classes.open),this.dom.views.container.classList.add(this._classes.open),this.dom.component.classList.add(this._classes.open)}},{key:"_mouseEnterItem",value:function(e){e=this.dom.views.list_item.indexOf(e.currentTarget),this.dom.views.list_background[e]&&this.dom.views.list_background[e].classList.add(this._classes.show)}},{key:"_mouseLeaveItem",value:function(e){e=this.dom.views.list_item.indexOf(e.currentTarget),this.dom.views.list_background[e]&&this.dom.views.list_background[e].classList.remove(this._classes.show)}},{key:"_scroll",value:function(e){window.pageYOffset>this._limitScroll&&!this.dom.component.classList.contains(this._classes.small)&&this.dom.component.classList.add(this._classes.small),window.pageYOffset<this._limitScroll&&this.dom.component.classList.contains(this._classes.small)&&this.dom.component.classList.remove(this._classes.small)}}])&&r(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),c}(n(7).a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));t=n(7);var i=n(6);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var h=function(e){var t=h;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(i)}}(h);function h(){var e=this,t=h;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return c(l(e=n.call.apply(n,[this].concat(r))),"isInstance",!1),c(l(e),"_classes",{slider:"js-slider",pagination:"js-pagination"}),e._retrieveDOM(),e}return t=h,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.slider=this.dom.component.querySelector("."+this._classes.slider),this.dom.views.pagination=this.dom.component.querySelector("."+this._classes.pagination),this.dom.prev=this.dom.component.querySelector(".js-prev"),this.dom.next=this.dom.component.querySelector(".js-next")}},{key:"init",value:function(){a(u(h.prototype),"init",this).call(this),this._initSlider()}},{key:"_initSlider",value:function(){this.Swiper=new i.f(this.dom.views.slider,{modules:[i.c,i.d,i.e],slidesPerView:"auto",speed:400,navigation:{nextEl:this.dom.next,prevEl:this.dom.prev},pagination:{el:this.dom.views.pagination,clickable:!0}})}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),h}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));t=n(7);var i=n(6);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var h=function(e){var t=h;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(i)}}(h);function h(){var e=this,t=h;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return c(l(e=n.call.apply(n,[this].concat(r))),"isInstance",!1),c(l(e),"_classes",{slider:"js-slider",pagination:"js-pagination",controlPrev:"js-prev",controlNext:"js-next"}),e._retrieveDOM(),e}return t=h,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.slider=this.dom.component.querySelector("."+this._classes.slider),this.dom.views.pagination=this.dom.component.querySelector("."+this._classes.pagination),this.dom.views.controls={prev:this.dom.component.querySelector("."+this._classes.controlPrev),next:this.dom.component.querySelector("."+this._classes.controlNext)}}},{key:"init",value:function(){a(u(h.prototype),"init",this).call(this),this._initSlider()}},{key:"_initSlider",value:function(){this.Swiper=new i.f(this.dom.views.slider,{modules:[i.c,i.d,i.e],slidesPerView:"auto",speed:400,navigation:{nextEl:this.dom.views.controls.next,prevEl:this.dom.views.controls.prev},pagination:{el:this.dom.views.pagination,clickable:!0}})}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),h}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));t=n(7);var i=n(6);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){var t=c;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(i)}}(c);function c(){var e=this,t=c;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i,r,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=!(i="isInstance"),i in(t=l(e=n.call.apply(n,[this].concat(a))))?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,e._getDom(),e}return t=c,(e=[{key:"_getDom",value:function(){this.dom.slider=this.dom.component.querySelector(".js-slider"),this.dom.prev=this.dom.component.querySelector(".js-prev"),this.dom.next=this.dom.component.querySelector(".js-next"),this.dom.pagination=this.dom.component.querySelector(".js-swiper-pagination")}},{key:"init",value:function(){a(u(c.prototype),"init",this).call(this),this._initSlider()}},{key:"_initSlider",value:function(){this.Swiper=new i.f(this.dom.slider,{modules:[i.c,i.d,i.e],slidesPerView:"auto",speed:400,navigation:{nextEl:this.dom.next,prevEl:this.dom.prev},pagination:{el:this.dom.pagination,clickable:!0}})}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),c}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));t=n(7);var i=n(6);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var h=function(e){var t=h;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(i)}}(h);function h(){var e=this,t=h;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return c(l(e=n.call.apply(n,[this].concat(r))),"isInstance",!1),c(l(e),"_classes",{containerSlider:"js-container-slider",slider:"js-slider",controlPrev:"js-prev",controlNext:"js-next",pagination:"js-pagination"}),e._retrieveDOM(),e}return t=h,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.slider=[];var e=[].slice.call(this.dom.component.querySelectorAll("."+this._classes.containerSlider));if(e)for(var t=0,n=e.length;t<n;t++){var i=e[t];this.dom.views.slider.push({container:i,device:i.dataset.device,slider:i.querySelector("."+this._classes.slider),pagination:i.querySelector("."+this._classes.pagination),controls:{prev:i.querySelector("."+this._classes.controlPrev),next:i.querySelector("."+this._classes.controlNext)}})}}},{key:"init",value:function(){a(u(h.prototype),"init",this).call(this),this._initSlider()}},{key:"_initSlider",value:function(){if(this.Swiper={},this.dom.views.slider)for(var e=0,t=this.dom.views.slider.length;e<t;e++){var n=this.dom.views.slider[e];this.Swiper[n.device]=new i.f(n.slider,{modules:[i.c,i.d,i.e],slidesPerView:"auto",speed:400,navigation:{nextEl:n.controls.next,prevEl:n.controls.prev},pagination:{el:n.pagination,clickable:!0}})}}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),h}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));t=n(7);var i=n(6);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var h=function(e){var t=h;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(i)}}(h);function h(){var e=this,t=h;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return c(l(e=n.call.apply(n,[this].concat(r))),"isInstance",!1),c(l(e),"_classes",{slider:"js-slider",controlPrev:"js-prev",controlNext:"js-next"}),e._retrieveDOM(),e}return t=h,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.slider=this.dom.component.querySelector("."+this._classes.slider),this.dom.views.controls={prev:this.dom.component.querySelector("."+this._classes.controlPrev),next:this.dom.component.querySelector("."+this._classes.controlNext)}}},{key:"init",value:function(){a(u(h.prototype),"init",this).call(this),this._initSlider()}},{key:"_initSlider",value:function(){this.Swiper=new i.f(this.dom.views.slider,{modules:[i.c,i.d],slidesPerView:"auto",speed:400,navigation:{nextEl:this.dom.views.controls.next,prevEl:this.dom.views.controls.prev}})}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),h}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));t=n(7);var i=n(6),r=n(2),o=n(24);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var f=function(e){var t=f;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);n=t?(n=h(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===a(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return c(i)}}(f);function f(){var e=this,t=f;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return d(c(e=n.call.apply(n,[this].concat(r))),"isInstance",{desktop:!1,mobile:!1}),d(c(e),"ScrollTriggerInstance",[]),d(c(e),"_classes",{slider:"js-slider",pagination:"js-pagination"}),d(c(e),"_duration",{marker:.7}),e._retrieveDOM(),e}return t=f,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.slider=this.dom.component.querySelector("."+this._classes.slider),this.dom.views.pagination=this.dom.component.querySelector("."+this._classes.pagination)}},{key:"init",value:function(){l(h(f.prototype),"init",this).call(this),this._initScrollFixed()}},{key:"_initSlider",value:function(){this.isInstance.mobile||(this.isInstance.mobile=!0,this.Swiper=new i.f(this.dom.views.slider,{modules:[i.c,i.e],slidesPerView:"auto",speed:400,pagination:{el:this.dom.views.pagination,clickable:!0}}))}},{key:"_initScrollFixed",value:function(){var e=this;if(!this.isInstance.desktop){this.ScrollTriggerInstance=[],this.isInstance.desktop=!0;for(var t=[].slice.call(this.dom.component.querySelectorAll(".js-item-picture")),n=[].slice.call(this.dom.component.querySelectorAll(".js-item-content")),i=(a=(this.ScrollTriggerInstance.push(o.a.create({trigger:".js-pin-parent",start:"top 0%",end:"bottom 70%",pin:".js-pin-wordline",pinSpacing:!1})),this.dom.component.querySelector(".ct--word-line__wrapper"))).querySelector(".ct--word-line__title").offsetWidth,a=r.a.fromTo(a,{x:this._getWidth()},{x:-i,ease:"none",paused:!0}),s=r.a.quickTo(a,"progress",{ease:"power3",duration:.5}),l=(r.a.to(a,{ease:"none",scrollTrigger:{scrub:!0,trigger:".js-pin-parent",start:"top 70%",end:"bottom 70%",onUpdate:function(e){return s(e.progress)}}}),this.ScrollTriggerInstance.push(o.a.create({trigger:".js-pin-parent",start:"top 0%",end:"bottom 90%",pinnedContainer:".js-pin-parent",pin:".js-list-content",pinSpacing:!1})),this.ScrollTriggerInstance.push(o.a.create({trigger:".js-pin-parent",start:"top 0%",end:"bottom 90%",pinnedContainer:".js-pin-parent",pin:".js-list-team-introduction",pinSpacing:!1})),0),u=t.length;l<u;l++)!function(i){var a=t[i];e.ScrollTriggerInstance.push(o.a.create({trigger:a,start:"top 49%",end:"bottom 50%",onToggle:function(o){o.isActive?(0!=i&&1==o.direction||i!=t.length-1&&-1==o.direction)&&r.a.fromTo(n[i],{autoAlpha:0,y:50},{duration:e._duration.marker,autoAlpha:1,y:0}):(0!=i&&-1==o.direction||i!=t.length-1&&1==o.direction)&&r.a.fromTo(n[i],{autoAlpha:1,y:0},{duration:e._duration.marker,autoAlpha:0,y:-50})}}))}(l)}}},{key:"resize",value:function(){l(h(f.prototype),"resize",this).call(this),this._getWidth()<1024&&!this.isInstance.mobile?this._initSlider():1024<this._getWidth()&&this.isInstance.mobile&&(this.Swiper.destroy(),this.isInstance.mobile=!1),1024<this._getWidth()&&!this.isInstance.desktop?this._initScrollFixed():this._getWidth()<1024&&this.isInstance.desktop&&(this.ScrollTriggerInstance.forEach((function(e){e.kill()})),this.isInstance.desktop=!1,this.ScrollTriggerInstance=[])}},{key:"_getWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}])&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),f}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));t=n(7);var i=n(6);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var h=function(e){var t=h;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(i)}}(h);function h(){var e=this,t=h;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return c(l(e=n.call.apply(n,[this].concat(r))),"isInstance",!1),c(l(e),"_classes",{slider:"js-slider",pagination:"js-pagination",controlPrev:"js-prev",controlNext:"js-next"}),e._retrieveDOM(),e}return t=h,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.slider=this.dom.component.querySelector("."+this._classes.slider),this.dom.views.pagination=this.dom.component.querySelector("."+this._classes.pagination),this.dom.views.controls={prev:this.dom.component.querySelector("."+this._classes.controlPrev),next:this.dom.component.querySelector("."+this._classes.controlNext)}}},{key:"init",value:function(){a(u(h.prototype),"init",this).call(this),this._initSlider()}},{key:"_initSlider",value:function(){this.isInstance||(this.isInstance=!0,this.Swiper=new i.f(this.dom.views.slider,{modules:[i.c,i.e,i.d],slidesPerView:"auto",speed:400,navigation:{nextEl:this.dom.views.controls.next,prevEl:this.dom.views.controls.prev},pagination:{el:this.dom.views.pagination,clickable:!0}}))}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),h}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));t=n(7);var i=n(2);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var h=function(e){var t=h;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(i)}}(h);function h(){var e=this,t=h;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return c(l(e=n.call.apply(n,[this].concat(r))),"_isDesktop",!0),c(l(e),"_classes",{labelDesktop:"js-introduction-label-desktop",labelMobile:"js-introduction-label-mobile",itemContainer:"js-introduction-item-container",itemContent:"js-introduction-item-content",listContainer:"js-introduction-list-container",active:"active",toAnim:"js-introduction-to-anim"}),c(l(e),"_oldIndex",null),c(l(e),"_currentIndex",0),e._retrieveDOM(),e}return t=h,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.items=[],this.dom.views.listContainer=this.dom.component.querySelector("."+this._classes.listContainer);var e=[].slice.call(this.dom.component.querySelectorAll("."+this._classes.labelDesktop)),t=[].slice.call(this.dom.component.querySelectorAll("."+this._classes.labelMobile)),n=[].slice.call(this.dom.component.querySelectorAll("."+this._classes.itemContainer)),i=[].slice.call(this.dom.component.querySelectorAll("."+this._classes.itemContent));if(e)for(var r=0,o=e.length;r<o;r++)this.dom.views.items.push({labelDesktop:e[r],labelMobile:t[r],container:n[r],content:i[r],toAnim:[].slice.call(i[r].querySelectorAll("."+this._classes.toAnim))})}},{key:"init",value:function(){a(u(h.prototype),"init",this).call(this)}},{key:"bind",value:function(){if(a(u(h.prototype),"bind",this).call(this),this.dom.views.items)for(var e=0,t=this.dom.views.items.length;e<t;e++)this.dom.views.items[e].labelDesktop.addEventListener("click",this._clickLabelDesktop.bind(this,{index:e})),this.dom.views.items[e].labelMobile.addEventListener("click",this._clickLabelMobile.bind(this,{index:e}))}},{key:"_clickLabelDesktop",value:function(e,t){(e=e.index)!=this._currentIndex&&(this._oldIndex=this._currentIndex,this._currentIndex=e,this.dom.views.items[this._oldIndex].labelDesktop.classList.remove(this._classes.active),this.dom.views.items[this._currentIndex].labelDesktop.classList.add(this._classes.active),this._hideContentDesktop())}},{key:"_hideContentDesktop",value:function(){var e=this;i.a.timeline({onComplete:this._showContentDesktop.bind(this)}).to(this.dom.views.items[this._oldIndex].toAnim,{autoAlpha:0,y:-30,duration:.3,ease:"power2.in",stagger:.05,onComplete:function(){e.dom.views.items[e._oldIndex].container.style.height=0}})}},{key:"_showContentDesktop",value:function(){this.dom.views.items[this._currentIndex].container.style.height="auto",i.a.timeline({onComplete:this._endAnimContent.bind(this)}).fromTo(this.dom.views.items[this._currentIndex].toAnim,{autoAlpha:0,y:30},{autoAlpha:1,y:0,duration:.3,ease:"power2.out",stagger:.05})}},{key:"_clickLabelMobile",value:function(e,t){(e=e.index)!=this._currentIndex&&(this._oldIndex=this._currentIndex,this._currentIndex=e,this.dom.views.items[this._oldIndex].labelDesktop.classList.remove(this._classes.active),this.dom.views.items[this._currentIndex].labelDesktop.classList.add(this._classes.active),this._hideContentMobile())}},{key:"_hideContentMobile",value:function(){var e=this;i.a.timeline({onComplete:this._showContentMobile.bind(this)}).to(this.dom.views.items[this._oldIndex].container,{height:0,duration:.6,ease:"power1.in",onComplete:function(){i.a.set(e.dom.views.items[e._oldIndex].toAnim,{autoAlpha:0})}})}},{key:"_showContentMobile",value:function(){i.a.set(this.dom.views.items[this._currentIndex].toAnim,{autoAlpha:1}),i.a.timeline({onComplete:this._endAnimContent.bind(this)}).fromTo(this.dom.views.items[this._currentIndex].container,{height:0},{height:"auto",duration:1,ease:"power1.out"})}},{key:"_endAnimContent",value:function(){}},{key:"resize",value:function(){a(u(h.prototype),"resize",this).call(this),this._getWidth()<1024?this._isDesktop&&(this._isDesktop=!1,this.dom.views.listContainer&&(this.dom.views.listContainer.style.height="auto")):1024<this._getWidth()&&(this._isDesktop||(this._isDesktop=!0),this._setHeightItem())}},{key:"_getWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}},{key:"_setHeightItem",value:function(){var e=0;if(this.dom.views.items){for(var t=0,n=this.dom.views.items.length;t<n;t++){var i=this.dom.views.items[t].content.getBoundingClientRect().height;e<i&&(e=i)}this.dom.views.listContainer.style.height=e+"px"}}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),h}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));t=n(7);var i=n(2),r=n(24);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);n=t?(n=h(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===o(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return c(i)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var f=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e);var n=u(o);function o(){var e=this,t=o;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return d(c(e=n.call.apply(n,[this].concat(r))),"isInstance",!1),d(c(e),"_classes",{video:"js-hero-2-video",container:"js-hero-2-wrapper",text:"js-hero-2-text"}),e._retrieveDOM(),e}return t=o,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.video=this.dom.component.querySelector("."+this._classes.video),this.dom.views.container=this.dom.component.querySelector("."+this._classes.container),this.dom.views.text=[].slice.call(this.dom.component.querySelectorAll("."+this._classes.text))}},{key:"init",value:function(){s(h(o.prototype),"init",this).call(this),this._heightComponent=this.dom.component.getBoundingClientRect().height,this._initAnimVideo(),this._initAnimText()}},{key:"_initAnimVideo",value:function(){var e=this.dom.component.classList.contains("is-bg-outside")?document.body.querySelector(".js-trigger-bg"):this.dom.component;r.a.create({trigger:this.dom.views.video,start:"top 0%",endTrigger:e,end:"bottom 100%",scrub:!0,pin:!0})}},{key:"_initAnimText",value:function(){var e=i.a.timeline();e.fromTo(this.dom.views.text,{y:100},{y:0,duration:.9,stagger:.3},"start").fromTo(this.dom.views.text,{autoAlpha:0},{autoAlpha:1,duration:.7,stagger:.3},"start"),r.a.create({trigger:this.dom.views.container,animation:e,start:"top 70%",end:"bottom 95%",scrub:!0,toggleActions:"restart none none reset"})}},{key:"resize",value:function(e,t){this._heightComponent=this.dom.component.getBoundingClientRect().height}}])&&a(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.a)},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n.r(t),n.d(t,"default",(function(){return c}));var c=function(e){var t=c;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);n=t?(n=l(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return s(r)}}(c);function c(){var e=this,t=c;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return u(s(e=n.call.apply(n,[this].concat(r))),"isInstance",!1),u(s(e),"_classes",{close:"js-popin-close",containerIframe:"js-popin-container-iframe",iframe:"js-popin-iframe",open:"open"}),e._retrieveDOM(),e}return t=c,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.targetsPopin=[].slice.call(document.body.querySelectorAll("[data-youtube-id]")),this.dom.views.close=this.dom.component.querySelector("."+this._classes.close),this.dom.views.containerIframe=this.dom.component.querySelector("."+this._classes.containerIframe),this.dom.views.iframe=this.dom.component.querySelector("."+this._classes.iframe),this._saveIframeDOM=this.dom.views.iframe.cloneNode(!0),this.dom.views.containerIframe.innerHTML=""}},{key:"init",value:function(){o(l(c.prototype),"init",this).call(this)}},{key:"bind",value:function(){var e=this;if(o(l(c.prototype),"bind",this).call(this),["_clickClosePopin","_clickOpenPopin"].forEach((function(t){return e[t]=e[t].bind(e)})),this.dom.views.close.addEventListener("click",this._clickClosePopin),this.dom.views.targetsPopin)for(var t=0,n=this.dom.views.targetsPopin.length;t<n;t++)this.dom.views.targetsPopin[t].addEventListener("click",this._clickOpenPopin)}},{key:"_clickClosePopin",value:function(e){this.closePopin(),this.dom.views.containerIframe.innerHTML=""}},{key:"_clickOpenPopin",value:function(e){(e=e.currentTarget.dataset.youtubeId)&&this.openPopin(e)}},{key:"openPopin",value:function(e){var t=this._saveIframeDOM.cloneNode(!0),n=(n=t.getAttribute("src")).replace("##youtube_id##",e);t.setAttribute("src",n),this.dom.views.containerIframe.appendChild(t),this.dom.component.classList.add(this._classes.open)}},{key:"closePopin",value:function(){this.dom.component.classList.remove(this._classes.open)}}])&&r(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),c}(n(7).a)},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n.r(t),n.d(t,"MANAGE_CARD_VIDEO_EVENT",(function(){return c})),n.d(t,"default",(function(){return h})),t=n(7);var c={OPEN_VIDEO:"__mcv_open_video"},h=function(e){var t=h;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);n=t?(n=l(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return s(r)}}(h);function h(){var e=this,t=h;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return u(s(e=n.call.apply(n,[this].concat(r))),"isInstance",!1),u(s(e),"_classes",{}),e._retrieveDOM(),e}return t=h,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={}}},{key:"init",value:function(){o(l(h.prototype),"init",this).call(this)}},{key:"bind",value:function(){var e=this;o(l(h.prototype),"bind",this).call(this),["_clickOpenVideo"].forEach((function(t){return e[t]=e[t].bind(e)}))}},{key:"_clickOpenVideo",value:function(e){e=e.currentTarget.dataset.youtubeId,this.emit(c.OPEN_VIDEO,e)}}])&&r(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),h}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));t=n(7);var i=n(2);n=n(24);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}i.a.registerPlugin(n.a);var u=function(e){var t=u;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);n=t?(n=l(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(u);function u(){var e=this,t=u;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r)))._retrieveDOM(),e}return t=u,(e=[{key:"_retrieveDOM",value:function(){this.dom.intro=this.dom.component.querySelector(".js-intro"),this.dom.items=this.dom.component.querySelectorAll(".js-items"),this.dom.item=this.dom.component.querySelectorAll(".js-item")}},{key:"init",value:function(){var e=this;if(a(l(u.prototype),"init",this).call(this),"mobile"!=ENV.device){var t=this.dom.intro.querySelector(".js-intro-image"),n=this.dom.intro.querySelector(".js-intro-content"),r=(t=i.a.fromTo(t,{y:640<this._getWidth()?200:0},{y:0,ease:"none",paused:!0}),n=i.a.fromTo(n,{y:640<this._getWidth()?300:0},{y:0,ease:"none",paused:!0}),i.a.quickTo(t,"progress",{ease:"power3",duration:.2})),o=i.a.quickTo(n,"progress",{ease:"power3",duration:.2});i.a.to(t,{ease:"none",scrollTrigger:{scrub:!0,trigger:this.dom.intro,start:"top bottom",end:"bottom 50%",onUpdate:function(e){return r(e.progress)}}}),i.a.to(n,{ease:"none",scrollTrigger:{scrub:!0,trigger:this.dom.intro,start:"top bottom",end:"bottom 50%",onUpdate:function(e){return o(e.progress)}}});for(var s=0;s<this.dom.items.length;s++)for(var c=this.dom.items[s].querySelectorAll(".js-item"),h=0;h<c.length;h++)!function(t){t=c[t].querySelector(".js-inner-item");var n=Math.floor(201*Math.random())+200,r=(n=i.a.fromTo(t,{y:1024<e._getWidth()?n:0},{y:0,ease:"none",paused:!0}),i.a.quickTo(n,"progress",{ease:"power3",duration:.2}));i.a.to(n,{ease:"none",scrollTrigger:{scrub:!0,trigger:t,start:"top bottom",end:"bottom 50%",onUpdate:function(e){return r(e.progress)}}})}(h)}}},{key:"_getWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),u}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));t=n(7);var i=n(2),r=n(24),o=n(0);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}i.a.registerPlugin(r.a);var d=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);n=t?(n=h(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===a(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return c(i)}}(r);function r(){var e=this,t=r;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i,a,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return t=c(e=n.call.apply(n,[this].concat(l))),i="experienceWebGL",a={"footer-globe":{domParent:e.dom.component,canvas:"js-footer-canvas-webgl",scene:{background:"0x00040C"},renderer:{effectComposerActivate:"effectComposer",toneMapping:o.n,toneMappingExposure:1.5,config:{powerPreference:"high-performance"}},camera:{fov:50,position:{x:0,y:0,z:25},dampingFactor:.1}}},i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,e._retrieveDOM(),e}return t=r,(e=[{key:"_retrieveDOM",value:function(){this.dom.bigcontainer=document.body.querySelector(".js-big-container")}},{key:"init",value:function(){l(h(r.prototype),"init",this).call(this),i.a.set(this.dom.bigcontainer,{paddingBottom:this.dom.component.offsetHeight+"px"}),i.a.set(this.dom.component,{y:-this.dom.component.offsetHeight/3+"px"}),i.a.to(this.dom.component,{y:"1px",ease:"circ.out",scrollTrigger:{trigger:this.dom.bigcontainer,start:"bottom-="+this.dom.component.offsetHeight+"px bottom",end:"bottom bottom",scrub:!0}})}},{key:"resize",value:function(){l(h(r.prototype),"resize",this).call(this),i.a.set(this.dom.bigcontainer,{paddingBottom:this.dom.component.offsetHeight+"px"}),i.a.set(this.dom.component,{y:-this.dom.component.offsetHeight/3+"px"})}}])&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));t=n(7);var i=n(6);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){var t=c;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(i)}}(c);function c(){var e=this,t=c;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i,r,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=!(i="isInstance"),i in(t=l(e=n.call.apply(n,[this].concat(a))))?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,e._getDom(),e}return t=c,(e=[{key:"_getDom",value:function(){this.dom.slider=this.dom.component.querySelector(".js-slider")}},{key:"init",value:function(){a(u(c.prototype),"init",this).call(this),this._initSlider()}},{key:"_initSlider",value:function(){this.Swiper=new i.f(this.dom.slider,{modules:[i.c,i.b,i.a],slidesPerView:"auto",effect:"fade",autoplay:{delay:2500,disableOnInteraction:!1},speed:400})}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),c}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));t=n(7);var i=n(2);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var h=function(e){var t=h;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(i)}}(h);function h(){var e=this,t=h;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return c(l(e=n.call.apply(n,[this].concat(r))),"isInstance",!1),c(l(e),"_classes",{container:"js-button-container",circle:"js-button-circle",label:"js-button-label",hover:"hover"}),c(l(e),"_posMouse",{x:0,y:0}),c(l(e),"_posCircle",{x:0,y:0}),c(l(e),"_halfSizeCircle",{w:0,h:0}),c(l(e),"_mouseHover",!1),c(l(e),"_marge",50),e._retrieveDOM(),e._getSizeButton(),e}return t=h,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.container=this.dom.component.querySelector("."+this._classes.container),this.dom.views.circle=this.dom.component.querySelector("."+this._classes.circle),this.dom.views.label=this.dom.component.querySelector("."+this._classes.label)}},{key:"init",value:function(){a(u(h.prototype),"init",this).call(this)}},{key:"bind",value:function(){var e=this;a(u(h.prototype),"bind",this).call(this),["pointerEnter","pointerMove","pointerLeave","_update"].forEach((function(t){return e[t]=e[t].bind(e)})),this.dom.views.container.addEventListener("pointerenter",this.pointerEnter),this.dom.views.container.addEventListener("pointermove",this.pointerMove),this.dom.views.container.addEventListener("pointerleave",this.pointerLeave),this.addRaf(this._update)}},{key:"pointerEnter",value:function(e){"mobile"!=this._device&&(this._mouseHover=!0,this.dom.component.classList.add(this._classes.hover),this.getPositionMouse(e.clientX,e.clientY),i.a.timeline().fromTo(this.dom.views.label,{y:0},{y:"-100%",duration:.17,ease:"power1.in"}).fromTo(this.dom.views.label,{y:"100%"},{y:0,duration:.17,ease:"power1.out"}))}},{key:"pointerMove",value:function(e){"mobile"!=this._device&&this.getPositionMouse(e.clientX,e.clientY)}},{key:"pointerLeave",value:function(e){"mobile"!=this._device&&(this.dom.component.classList.remove(this._classes.hover),this._mouseHover=!1)}},{key:"getPositionMouse",value:function(e,t){this._posMouse.x=e-this.dom.views.container.getBoundingClientRect().left-this.halfSizeCircle.w,this._posMouse.y=t-this.dom.views.container.getBoundingClientRect().top-this.halfSizeCircle.h,this._posCircle.x=this.dom.views.circle.getBoundingClientRect().left-this.dom.views.container.getBoundingClientRect().left-this.halfSizeCircle.w,this._posCircle.y=this.dom.views.circle.getBoundingClientRect().top-this.dom.views.container.getBoundingClientRect().top-this.halfSizeCircle.h}},{key:"_getSizeButton",value:function(){var e=2*this.dom.views.container.getBoundingClientRect().width+this._marge;this.dom.views.circle.style.width=e+"px",this.dom.views.circle.style.height=e+"px",this.halfSizeCircle={w:e/2,h:e/2}}},{key:"_update",value:function(e,t){this._mouseHover&&i.a.to(this.dom.views.circle,{left:this._posMouse.x,top:this._posMouse.y})}},{key:"resize",value:function(e,t){a(u(h.prototype),"resize",this).call(this,e,t),this._getSizeButton()}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),h}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));t=n(7);var i=n(2);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var h=function(e){var t=h;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(i)}}(h);function h(){var e=this,t=h;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return c(l(e=n.call.apply(n,[this].concat(r))),"isInstance",!1),c(l(e),"_classes",{label:"js-hover-link-label",hover:"hover"}),c(l(e),"_mouseHover",!1),e._retrieveDOM(),e}return t=h,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.label=this.dom.component.querySelector("."+this._classes.label)}},{key:"init",value:function(){a(u(h.prototype),"init",this).call(this)}},{key:"bind",value:function(){var e=this;a(u(h.prototype),"bind",this).call(this),["pointerEnter","pointerMove","pointerLeave"].forEach((function(t){return e[t]=e[t].bind(e)})),this.dom.component.addEventListener("pointerenter",this.pointerEnter)}},{key:"pointerEnter",value:function(e){"mobile"!=this._device&&(this._mouseHover=!0,i.a.timeline().fromTo(this.dom.views.label,{y:0},{y:"-100%",duration:.17,ease:"power1.in"}).fromTo(this.dom.views.label,{y:"100%"},{y:0,duration:.17,ease:"power1.out"}))}},{key:"pointerMove",value:function(e){this._device}},{key:"pointerLeave",value:function(e){"mobile"!=this._device&&(this._mouseHover=!1)}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),h}(t.a)},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);n=t?(n=s(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return a(r)}}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return l})),t=n(17),n(19);var l=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e);var n=o(i);function i(){var e=this,t=i;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var r,o,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return t=a(e=n.call.apply(n,[this].concat(l))),r="experienceWebGL",o={"who-we-are-hero":{domParent:document.querySelector(".ct--hero-2"),canvas:"js-canvas-webgl",renderer:{effectComposerActivate:"effectComposerPostprocessing",config:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1}},camera:{fov:50,position:{x:0,y:0,z:60},dampingFactor:.1}}},r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,e._retrieveDOM(),e._initTls(),e}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(t.b)},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);n=t?(n=s(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return a(r)}}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return l})),t=n(17),n(19);var l=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e);var n=o(i);function i(){var e=this,t=i;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var r,o,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return t=a(e=n.call.apply(n,[this].concat(l))),r="experienceWebGL",o={"invest-together-hero":{domParent:document.querySelector(".ct--hero-2"),canvas:"js-canvas-webgl",renderer:{config:{powerPreference:"high-performance"}},camera:{fov:50,position:{x:-10,y:-15,z:25},dampingFactor:.1}}},r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,e._retrieveDOM(),e._initTls(),e}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(t.b)},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);n=t?(n=s(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return a(r)}}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return l})),t=n(17),n(19);var l=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e);var n=o(i);function i(){var e=this,t=i;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var r,o,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return t=a(e=n.call.apply(n,[this].concat(l))),r="experienceWebGL",o={"how-we-work-hero":{domParent:document.querySelector(".ct--hero-2"),canvas:"js-canvas-webgl",renderer:{effectComposerActivate:"effectComposerPostprocessing",config:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1}},camera:{fov:50,position:{x:0,y:0,z:50},dampingFactor:.1}}},r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,e._retrieveDOM(),e._initTls(),e}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(t.b)},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return u})),t=n(17),n(19);var u=function(e){var t=u;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);n=t?(n=l(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return s(r)}}(u);function u(){var e=this,t=u;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i,r,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return t=s(e=n.call.apply(n,[this].concat(a))),i="experienceWebGL",r={"how-can-we-help-hero":{domParent:document.querySelector(".ct--hero-2"),canvas:"js-canvas-webgl",renderer:{effectComposerActivate:"effectComposerPostprocessing",config:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1}},camera:{fov:75,position:{x:0,y:0,z:60},dampingFactor:.1}}},i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,e._retrieveDOM(),e._initTls(),e}return t=u,(e=[{key:"init",value:function(){o(l(u.prototype),"init",this).call(this)}}])&&r(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),u}(t.b)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));t=n(17);var i=(n(19),n(2)),r=n(24);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);n=t?(n=h(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===o(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return c(i)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}i.a.registerPlugin(r.a);var f=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e);var n=u(o);function o(){var e=this,t=o;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return d(c(e=n.call.apply(n,[this].concat(r))),"_scrollAnchors",[]),d(c(e),"_classes",{anchor:"js-news-list-anchor",anchorTarget:"js-news-list-anchor-target",anchorContainer:"js-news-list-anchor-container"}),d(c(e),"_offsetTop",50),d(c(e),"experienceWebGL",{"news-hero":{domParent:document.querySelector(".ct--hero-3"),canvas:"js-canvas-webgl",scene:{background:"0x00040C"},renderer:{config:{powerPreference:"high-performance"}},camera:{fov:50,position:{x:0,y:0,z:-20},dampingFactor:.1}}}),e._retrieveDOM(),e._initTls(),e}return t=o,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.anchors=[],this.dom.views.anchorContainer=this.dom.page.querySelector("."+this._classes.anchorContainer),this.dom.views.anchors=[].slice.call(this.dom.page.querySelectorAll("."+this._classes.anchor)),this.dom.views.anchorTargets=[].slice.call(this.dom.page.querySelectorAll("."+this._classes.anchorTarget))}},{key:"bind",value:function(){var e=this;if(s(h(o.prototype),"bind",this).call(this),["_clickLinkAnchor"].forEach((function(t){return e[t]=e[t].bind(e)})),this.dom.views.anchors)for(var t=0,n=this.dom.views.anchors.length;t<n;t++)this.dom.views.anchors[t].addEventListener("click",this._clickLinkAnchor)}},{key:"_clickLinkAnchor",value:function(e){e=this.dom.views.anchors.indexOf(e.currentTarget),i.a.to(window,{duration:1,scrollTo:{y:this.dom.views.anchorTargets[e],offsetY:this._offsetTop}})}},{key:"init",value:function(){s(h(o.prototype),"init",this).call(this),this._initFixAnchors()}},{key:"_initFixAnchors",value:function(){var e=this,t=0;if(this.dom.views.anchors)for(var n=0,i=this.dom.views.anchors.length;n<i;n++)t+=this.dom.views.anchorTargets[n].getBoundingClientRect().height;r.a.create({trigger:this.dom.views.anchorContainer,start:"top 30%",end:"+="+t,pin:!0,onUpdate:function(t){e._updateActiveAnchors()}})}},{key:"_updateActiveAnchors",value:function(){for(var e=0,t=0;t<this.dom.views.anchors.length;t++)this.dom.views.anchors[t].classList.remove("active"),window.scrollY>this.dom.views.anchorTargets[t].getBoundingClientRect().top+document.documentElement.scrollTop-window.screen.height/3&&(e=t);this.dom.views.anchors[e].classList.add("active")}}])&&a(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.b)},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);n=t?(n=a(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return s})),t=n(17),n(19);var s=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e);var n=o(i);function i(){var e=this,t=i;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o)))._retrieveDOM(),e._initTls(),e}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(t.b)},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);n=t?(n=a(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return s})),t=n(17),n(19);var s=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e);var n=o(i);function i(){var e=this,t=i;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o)))._retrieveDOM(),e._initTls(),e}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(t.b)},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);n=t?(n=a(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return s})),t=n(17),n(19);var s=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e);var n=o(i);function i(){var e=this,t=i;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o)))._retrieveDOM(),e._initTls(),e}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(t.b)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));t=n(17);var i=(n(19),n(187));function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var h=function(e){var t=h;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);n=t?(n=u(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(i)}}(h);function h(){var e=this,t=h;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return c(l(e=n.call.apply(n,[this].concat(r))),"_classes",{formContainer:"js-contact-form-container",formInput:"js-contact-form-input",formButton:"js-contact-form-button",formInputSubmit:"js-contact-form-input-submit",formResult:"js-contact-form-result",formError:"js-contact-form-error",error:"error",success:"success",show:"show",emailInvalid:"email-invalid",loading:"loading",notRequired:"not-required"}),c(l(e),"_isProcess",!1),c(l(e),"_actionSendForm","p_contact_send_form"),c(l(e),"experienceWebGL",{"contact-hero":{domParent:document.querySelector(".ct--hero-5"),canvas:"js-canvas-webgl",scene:{background:"0x00040C"},renderer:{config:{powerPreference:"high-performance"}},camera:{fov:50,position:{x:0,y:0,z:-20},dampingFactor:.1}}}),e._retrieveDOM(),e._initTls(),e}return t=h,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.form={container:this.dom.page.querySelector("."+this._classes.formContainer),inputs:[].slice.call(this.dom.page.querySelectorAll("."+this._classes.formInput)),button:this.dom.page.querySelector("."+this._classes.formButton),inputSubmit:this.dom.page.querySelector("."+this._classes.formInputSubmit),result:this.dom.page.querySelector("."+this._classes.formResult),error:this.dom.page.querySelector("."+this._classes.formError)},this.totalInput=this.dom.views.form.inputs.length}},{key:"init",value:function(){a(u(h.prototype),"init",this).call(this),this._initForm()}},{key:"_initForm",value:function(){this._Validator=new i.a({inputs:this.dom.views.form.inputs,parent:!1}),this._Validator.on(this.checkFormIsValid.bind(this))}},{key:"checkFormIsValid",value:function(e){e==this.totalInput?this.dom.views.form.inputSubmit.disabled=!1:this.dom.views.form.inputSubmit.disabled=!0}},{key:"bind",value:function(){var e=this;a(u(h.prototype),"bind",this).call(this),["_validate"].forEach((function(t){return e[t]=e[t].bind(e)})),this.dom.views.form.button.addEventListener("click",this._validate)}},{key:"_validate",value:function(e){var t=[],n=!0;if(this.dom.views.form.error&&(this.dom.views.form.error.classList.remove(this._classes.show),this.dom.views.form.error.classList.remove(this._classes.emailInvalid)),0==this._isProcess){this._isProcess=!0;var i=new FormData;if(this._Validator.isValid()){var r,o=this._Validator.getData();for(r in o)i.append(r,o[r])}else t.push("Form not valid");0==this._Validator.isValidEmail()&&(n=!1,t.push("Form email not valid")),0<t.length?(this.dom.views.form.error&&(0==n&&this.dom.views.form.error.classList.add(this._classes.emailInvalid),this.dom.views.form.error.classList.add(this._classes.show)),this._isProcess=!1):(this._isProcess=!1,document.forms[0].submit())}}},{key:"_request",value:function(e){var t=new XMLHttpRequest;t.open("POST","/wp/wp-admin/admin-ajax.php?action="+this._actionSendForm,!0),t.onreadystatechange=function(){t.readyState===XMLHttpRequest.DONE&&200===t.status&&this._response(JSON.parse(t.response)),this._isProcess=!1,document.body.classList.remove(this._classes.loading),this.dom.views.form.button.classList.remove(this._classes.loading)}.bind(this),t.send(e)}},{key:"_response",value:function(e){e.success?this.dom.views.form.button.classList.add(this._classes.success):this.dom.views.form.result.classList.add(this._classes.error),this.dom.views.form.result.innerHTML=e.data.message,this.dom.views.form.result.classList.add(this._classes.show)}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),h}(t.b)},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);n=t?(n=s(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return a(r)}}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return l})),t=n(17),n(19),n(187);var l=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e);var n=o(i);function i(){var e=this,t=i;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var r,o,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return t=a(e=n.call.apply(n,[this].concat(l))),r="experienceWebGL",o={"test-hero":{domParent:document.querySelector(".ct--hero-2"),canvas:"js-canvas-webgl",renderer:{effectComposerActivate:"effectComposerPostprocessing",config:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1}},camera:{fov:50,position:{x:0,y:0,z:50},dampingFactor:.1}}},r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,e._initTls(),e}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(t.b)},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n.r(t),n.d(t,"default",(function(){return c})),t=n(17),n(19);var c=function(e){var t=c;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);n=t?(n=l(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return s(r)}}(c);function c(){var e=this,t=c;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return u(s(e=n.call.apply(n,[this].concat(r))),"experienceWebGL",{}),u(s(e),"experienceWebGLList",{"homepage-hero":{domParent:document.querySelector(".js-container-canvas"),canvas:"js-canvas-webgl",renderer:{config:{powerPreference:"high-performance",antialias:!1}},camera:{type:"OrthographicCamera",dampingFactor:.1,instancePCData:{fov:100,position:{x:0,y:0,z:25}}}},"homepage-mobility":{domParent:document.querySelector(".js-container-canvas"),canvas:"js-canvas-webgl",renderer:{config:{powerPreference:"high-performance",antialias:!0,stencil:!1,depth:!1}},camera:{fov:60,near:1,far:1e3,position:{x:400,y:200,z:0},dampingFactor:.05}},"how-can-we-help-hero":{domParent:document.querySelector(".js-container-canvas"),canvas:"js-canvas-webgl",renderer:{effectComposerActivate:"effectComposerPostprocessing",config:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1}},camera:{fov:75,position:{x:0,y:0,z:60},dampingFactor:.1}},"how-we-work-hero":{domParent:document.querySelector(".js-container-canvas"),canvas:"js-canvas-webgl",renderer:{effectComposerActivate:"effectComposerPostprocessing",config:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1}},camera:{fov:50,position:{x:0,y:0,z:50},dampingFactor:.1}},"invest-together-hero":{domParent:document.querySelector(".js-container-canvas"),canvas:"js-canvas-webgl",renderer:{config:{powerPreference:"high-performance"}},camera:{fov:50,position:{x:-10,y:-15,z:25},dampingFactor:.1}},"news-hero":{domParent:document.querySelector(".js-container-canvas"),canvas:"js-canvas-webgl",scene:{background:"0x00040C"},renderer:{config:{powerPreference:"high-performance"}},camera:{fov:50,position:{x:0,y:0,z:-20},dampingFactor:.1}},"who-we-are-hero":{domParent:document.querySelector(".js-container-canvas"),canvas:"js-canvas-webgl",renderer:{effectComposerActivate:"effectComposerPostprocessing",config:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1}},camera:{fov:50,position:{x:0,y:0,z:60},dampingFactor:.1}},"contact-hero":{domParent:document.querySelector(".js-container-canvas"),canvas:"js-canvas-webgl",renderer:{effectComposerActivate:"effectComposerPostprocessing",config:{powerPreference:"high-performance",antialias:!0,stencil:!1,depth:!1}},camera:{fov:75,position:{x:-15,y:0,z:0},dampingFactor:.1}}}),e._retrieveDOM(),e._initTls(),e}return t=c,(e=[{key:"_retrieveDOM",value:function(){this.dom.views={},this.dom.views.containerCanvas=this.dom.component.querySelector(".js-container-canvas"),this.dom.views.menu=document.querySelector(".ct--menu"),this.dom.views.footer=document.querySelector(".ct--footer"),this.name_xp=this.dom.views.containerCanvas.dataset.webglXp,this.experienceWebGL[this.name_xp]=this.experienceWebGLList[this.name_xp]}},{key:"init",value:function(){o(l(c.prototype),"init",this).call(this),this.dom.views.menu&&(this.dom.views.menu.style.display="none"),this.dom.views.footer&&(this.dom.views.footer.style.display="none")}},{key:"bind",value:function(){o(l(c.prototype),"bind",this).call(this)}}])&&r(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),c}(t.b)},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);n=t?(n=a(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return s}));var s=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e);var n=o(i);function i(){var e=this,t=i;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n.call.apply(n,[this].concat(o))}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(n(17).b)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I})),n(285);t=n(151);var i=n.n(t),r=(t=n(149),n.n(t)),o=n(2),a=n(39),s=n(38);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return h||"undefined"!=typeof window&&(h=window.gsap)&&h.registerPlugin&&h}function c(){d=h=u()}var h,d,f=function(){function e(e){this.chars=Object(s.b)(e),this.sets=[],this.length=50;for(var t=0;t<20;t++)this.sets[t]=m(80,this.chars)}return e.prototype.grow=function(e){for(var t=0;t<20;t++)this.sets[t]+=m(e-this.length,this.chars);this.length=e},e}(),p=/\s+/g,m=function(e,t){for(var n=t.length,i="";-1<--e;)i+=t[~~(Math.random()*n)];return i},v=(t="ABCDEFGHIJKLMNOPQRSTUVWXYZ").toLowerCase(),g={upperCase:new f(t),lowerCase:new f(v),upperAndLowerCase:new f(t+v)},y=((t={version:"3.11.3",name:"scrambleText",register:function(e,t,n){h=e,c()},init:function(e,t,n,i,r){var o,a,u,h;if(d||c(),this.prop="innerHTML"in e?"innerHTML":"textContent"in e?"textContent":0,this.prop)return this.target=e,h=(t="object"!==l(t)?{text:t}:t).text||t.value||"",u=!1!==t.trim,(o=this).delimiter=a=t.delimiter||"",o.original=Object(s.b)(Object(s.c)(e).replace(p," ").split("&nbsp;").join(""),a,u),"{original}"!==h&&!0!==h&&null!=h||(h=o.original.join(a)),o.text=Object(s.b)((h||"").replace(p," "),a,u),o.hasClass=!(!t.newClass&&!t.oldClass),o.newClass=t.newClass,o.oldClass=t.oldClass,o.textHasEmoji=(e=""===a)&&!!o.text.emoji,o.charsHaveEmoji=!!t.chars&&!!Object(s.b)(t.chars).emoji,o.length=(e?o.original:o.original.join(a)).length,o.lengthDif=(e?o.text:o.text.join(a)).length-o.length,o.fillChar=t.fillChar||t.chars&&~t.chars.indexOf(" ")?"&nbsp;":"",o.charSet=h=g[t.chars||"upperCase"]||new f(t.chars),o.speed=.05/(t.speed||1),o.prevScrambleTime=0,o.setIndex=20*Math.random()|0,(u=o.length+Math.max(o.lengthDif,0))>h.length&&h.grow(u),o.chars=h.sets[o.setIndex],o.revealDelay=t.revealDelay||0,o.tweenLength=!1!==t.tweenLength,o.tween=n,o.rightToLeft=!!t.rightToLeft,o._props.push("scrambleText","text"),1},render:function(e,t){var n,i,r=t.target,o=t.prop,a=t.text,l=t.delimiter,u=t.tween,c=t.prevScrambleTime,h=t.revealDelay,d=t.setIndex,f=t.chars,p=t.charSet,m=t.length,v=t.textHasEmoji,g=t.charsHaveEmoji,y=t.lengthDif,b=t.tweenLength,_=t.oldClass,w=t.newClass,x=t.rightToLeft,S=t.fillChar,A=t.speed,C=t.original,M=t.hasClass,E=a.length,T=u._time;c=T-c;(e=h?0===(T=u._from?u._dur-T:T)?0:T<h?1e-6:T===u._dur?1:u._ease((T-h)/(u._dur-h)):e)<0?e=0:1<e&&(e=1),T=~~((e=x?1-e:e)*E+.5),h=e?((A<c||c<-A)&&(t.setIndex=d=(d+(19*Math.random()|0))%20,t.chars=p.sets[d],t.prevScrambleTime+=c),f):C.join(l),A=u._from?e:1-e,p=m+(b?u._from?A*A*A:1-A*A*A:1)*y,h=x?1!==e||!u._from&&"isFromStart"!==u.data?(i=a.slice(T).join(l),n=g?Object(s.b)(h).slice(0,p-(v?Object(s.b)(i):i).length+.5|0).join(""):h.substr(0,p-(v?Object(s.b)(i):i).length+.5|0),i):(n="",C.join(l)):(n=a.slice(0,T).join(l),d=(v?Object(s.b)(n):n).length,g?Object(s.b)(h).slice(d,p+.5|0).join(""):h.substr(d,p-d+.5|0)),i=M?((c=(t=x?_:w)&&0!=T)?"<span class='"+t+"'>":"")+n+(c?"</span>":"")+((m=(f=x?w:_)&&T!==E)?"<span class='"+f+"'>":"")+l+h+(m?"</span>":""):n+l+h,r[o]="&nbsp;"===S&&~i.indexOf("  ")?i.split("  ").join("&nbsp;&nbsp;"):i}}).emojiSafeSplit=s.b,t.getText=s.c,u()&&h.registerPlugin(t),n(17)),b=n(63),_=n(81),w=n(19),x=n(36);v=n(44);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=new(function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=E(e);n=t?(n=E(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===S(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return M(i)}}(i);function i(){var e;if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");(e=n.call(this))._locked=!1,e.history=[];var t=window.location.href;return e.urls={origin:window.location.origin||window.location.protocol+"//"+window.location.hostname,current:t},e.title=document.head.querySelector("title").innerText||"",bindAll(M(e),["listen","_linkClickedHandler"]),b.a.IS_AJAX&&e._bind(),window.routerDebug=M(e),e}return t=i,(e=[{key:"_bind",value:function(){window.addEventListener("popstate",this.listen),delegate(document.body,"[href]","click",this._linkClickedHandler,!1)}},{key:"listen",value:function(){var e=window.location.href;this._locked||this.urls.current==e||this.redirect(e)}},{key:"_linkClickedHandler",value:function(e){var t=e.delegateTarget.getAttribute("href");t.includes(this.urls.origin)&&!e.delegateTarget.classList.contains("no-ajax")&&(e.preventDefault(),this._locked||this.redirect(t))}},{key:"updateSwitchLangUrl",value:function(){document.body.querySelectorAll(".js-ajax-lang").forEach((function(e){e.setAttribute("href",CURRENT_PAGE_LANGUAGE_TRANSLATION[e.getAttribute("data-lang")])}))}},{key:"execBodyScripts",value:function(e){for(var t,n,i=[],r=e.childNodes,o=0;r[o];o++)"script",!(n=t=r[o]).nodeName||n.nodeName.toUpperCase()!=="script".toUpperCase()||t.type&&"text/javascript"!==t.type.toLowerCase()||i.push(t);for(o=0;i[o];o++){(a=i[o]).parentNode&&a.parentNode.removeChild(a),l=s=a=a=void 0;var a=(a=i[o]).text||a.textContent||a.innerHTML||"",s=document.getElementsByTagName("head")[0]||document.documentElement,l=document.createElement("script");l.type="text/javascript";try{l.appendChild(document.createTextNode(a))}catch(e){l.text=a}s.insertBefore(l,s.firstChild),s.removeChild(l)}}},{key:"AJAXresponseHandler",value:function(){var e=window.location.href;this.urls.current!=e&&(history.pushState({},this.title,this.urls.current),window.gtag&&gtag("config","UA-29278934-6",{page_title:this.title,page_path:window.location.pathname,anonymize_ip:!0,cookie_expires:33696e3}),window.twq&&twq("track","PageView"),window.fbq&&fbq("track","PageView"),window._linkedin_data_partner_ids&&(_linkedin_partner_id="77145",window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(_linkedin_partner_id)))}},{key:"lock",value:function(){this._locked=!0}},{key:"unlock",value:function(){this._locked=!1}},{key:"redirect",value:function(e){0<e.indexOf("trash")||(b.a.IS_AJAX?this._parseUrl(e)!==this.urls.current&&(this.history.push(e),this.last=this.urls.current,this.urls.current=this._parseUrl(e),this.emit("__re_router_change",this.urls,this.getUrl())):document.location.href=e)}},{key:"setTitle",value:function(e){document.title=this.title=e||document.title}},{key:"_parseUrl",value:function(e){return e.includes(this.urls.origin)?e:this.urls.origin+e}},{key:"getUrl",value:function(){return this.urls.current.replace(this.urls.origin,"")}},{key:"route",get:function(){var e=this.getUrl();return(e=(e=e.replace("en","")).replace("fr","")).startsWith("/")?e.substring(1):e}}])&&A(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.n(v).a));function D(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var P=function(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var t=MEDIAS+"images/sprite.svg",n=SP_SPRITE_SVG_REVISION;if(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)return!0;function i(){document.body?s():document.addEventListener("DOMContentLoaded",s)}var r,o,a="localStorage"in window&&null!==window.localStorage,s=function(){document.body.insertAdjacentHTML("afterbegin",o)};if(a&&localStorage.getItem("spritesSVGrev")==n&&(o=localStorage.getItem("spritesSVGdata")))return i(),!0;try{(r=new XMLHttpRequest).open("GET",t,!0),r.onload=function(){200<=r.status&&r.status<400&&(o=r.responseText,i(),a&&(localStorage.setItem("spritesSVGdata",o),localStorage.setItem("spritesSVGrev",n)))},r.send()}catch(e){}}));function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var O,R=new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");bindAll(this,["_bindTracker"])}var t,n;return t=e,(n=[{key:"bind",value:function(){this.trackers=document.body.querySelectorAll("[data-ga-category][data-ga-action]");for(var e=0,t=this.trackers.length;e<t;e++)this.trackers[e].addEventListener("click",this._bindTracker)}},{key:"unbind",value:function(){for(var e=0,t=this.trackers.length;e<t;e++)this.trackers[e].removeEventListener("click",this._bindTracker)}},{key:"_bindTracker",value:function(e){var t=e.currentTarget.getAttribute("data-ga-category");e=e.currentTarget.getAttribute("data-ga-action");this.pushCustomTracker(t,e)}},{key:"pushCustomTracker",value:function(e,t){window.gtag&&gtag("event",t,{event_category:e})}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),L=(v=n(150),{components:{"big-blue-slider":n(324),"slider-mobile":n(325),"team-hover":n(326),menu:n(327),"slider-count":n(328),"slider-small-image":n(329),"slider-push":n(330),"content-double-col":n(331),"slider-case-study":n(332),"list-team":n(333),"slider-how":n(676),"related-post":n(334),"homepage-introduction":n(335),"hero-2":n(336),"popin-video":n(337),"card-video":n(338),"key-figures":n(339),footer:n(340),"grid-logo":n(341),button:n(342),"hover-link":n(343)},pages:{homepage:{index:n(678)},"who-we-are":{index:n(344)},"invest-together":{index:n(345)},"how-we-work":{index:n(346)},"how-can-we-help":{index:n(347)},news:{list:n(348),entry:n(349)},press:{entry:n(350)},"case-study":{entry:n(351)},contact:{index:n(352)},test:{index:n(353)},webgl:{index:n(354)},generic:{index:n(355)}}});function B(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}o.a.registerPlugin(t,a.a),v.a.init(navigator.userAgent),"ie"!==window.ENV.browser&&"edge"!==window.ENV.browser||(O=HTMLElement.prototype.getBoundingClientRect,HTMLElement.prototype.getBoundingClientRect=function(){var e=O.apply(this,arguments);return e.x=e.left,e.y=e.top,e});var I=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");new P,this._map=L,x.a.componentsMap=L,this.Components={},this.Page=null,this._cache={},this._DOMparser=new DOMParser,this._isFirstInit=!0,this._device="generic",this.tlLoader=null,bindAll(this,["_resize","_routeChangeHandler","_loadingHandler","_onLoadingProgress","_mediaLoadedHandler","_pageLoadedHandler","_destroyClasses","_request","_response"]),this._retrieveDom(),this._bind(),this._initContext(),this._prepareLoader(),this._dom.body.classList.add("dom-content-loaded"),this._initTlLoading(),window.axiosDebug=function(e){i.a.get(e).then((function(e){})).catch((function(e){}))}}var t,n;return t=e,(n=[{key:"_retrieveDom",value:function(){this._dom={body:document.body,main:document.querySelector("body main"),loader:document.querySelector("body .js-loader"),txtLoader:document.querySelector("body .js-txt-screen"),titleHero:document.querySelector("body .js-title-loader"),screenwrapper:document.querySelector("body main .screen-wrapper"),page:document.querySelector("body main .page"),transition:document.querySelector("body .screen-transition"),appWrapper:document.body.querySelector(".app-wrapper"),scrollWrapper:document.body.querySelector(".scroll-wrapper"),textLoading:document.body.querySelector(".js-screen-transition-txt"),transitionBar:document.body.querySelector(".js-screen-transition-bar"),transitionProgress:document.body.querySelector(".js-screen-transition-progress")},w.a.dom=this._dom}},{key:"_bind",value:function(){window.addEventListener("resize",r()(this._resize,200)),window.addEventListener("load",this._hideLoader.bind(this))}},{key:"_initContext",value:function(){var e=this;this._retrieveDomProperties(),this._initComponents(),this._initPage(),o.a.killTweensOf(this._dom.transitionProgress),o.a.set(this._dom.transitionProgress,{scaleX:0}),b.a.IS_LOADER&&Loader.preloadMedia(this._isFirstInit?this._dom.body:this._dom.page),b.a.IS_LAZY_LOADING||this._pageLoadedHandler(),this._resize(),setTimeout((function(){e._resize()}),2e3),R.bind()}},{key:"_retrieveDomProperties",value:function(){this._properties={entity:this._dom.page.getAttribute("data-entity").toLowerCase(),page:this._dom.page.getAttribute("data-page").toLowerCase()}}},{key:"_initComponents",value:function(){for(var e=(this._isFirstInit?this._dom.body:this._dom.page).querySelectorAll("[data-component]"),t=0,n=e.length;t<n;t++){var i=e[t],r=i.getAttribute("data-component");if(!this._map.components.hasOwnProperty(r))throw new Error("Main".concat(this._device.capitalize()," :: you are calling non-existing '").concat(r,"' component in your map file. Please check your map file."));this.Components.hasOwnProperty(r.capitalize())?isArray(this.Components[r.capitalize()])?this.Components[r.capitalize()].push(new this._map.components[r].default(i)):this.Components[r.capitalize()]=[this.Components[r.capitalize()],new this._map.components[r].default(i)]:this.Components[r.capitalize()]=new this._map.components[r].default(i)}w.a.Components=this.Components}},{key:"_initPage",value:function(){if(!this._map.pages.hasOwnProperty(this._properties.entity))throw new Error("Main".concat(this._device.capitalize()," :: you are calling non-existing '").concat(this._properties.entity,"' page entity in your map file. Please check your map file."));if(!this._map.pages[this._properties.entity].hasOwnProperty(this._properties.page))throw new Error("Main".concat(this._device.capitalize()," :: you are calling non-existing '").concat(this._properties.page,"' page for entity '").concat(this._properties.page,"' in your map file. Please check your map file."));this.Page=new this._map.pages[this._properties.entity][this._properties.page].default(this._dom.page,this.Components),w.a.Page=this.Page}},{key:"_resize",value:function(){var e=this,t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight;this._browseComponents("_resize",[t,n]),this._browseComponents("resize",[t,n]),this.Page&&this.Page.resize(t,n),x.a.isMobile&&(clearTimeout(this._resizeTo),this._resizeTo=setTimeout((function(){var t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight;e._browseComponents("_resize",[t,n]),e._browseComponents("resize",[t,n]),e.Page&&e.Page.resize(t,n)}),100)),w.a.width=t,w.a.height=n}},{key:"_routeChangeHandler",value:function(e,t){var n=this;e.origin,e.current,this.PreviousPage=this.Page,clearTimeout(this._resizeTo),T.lock(),R.unbind(),o.a.killTweensOf(this._dom.transitionProgress),o.a.set(this._dom.transitionProgress,{scaleX:0}),this._browseComponents("_unbind",null),this._browseComponents("unbind",null,(function(e,t){e.persist||(e=null,delete n.Components[t])})),o.a.fromTo(this._dom.transition,{y:"100vh"},{duration:.7,y:0,ease:"power2.inOut",onComplete:function(){n._dom.transition.classList.add("anim"),n.PreviousPage.unbind(),n.PreviousPage.hide()}}),this.PreviousPage.once(y.a.NEXT,this._request),this.PreviousPage.once(y.a.PAGE_DESTROYED,this._destroyClasses),window.scrollTo(0,0)}},{key:"_onLoadingProgress",value:function(e){e=Object(_.mapMethod)(e,0,100,.1,1,!0),o.a.killTweensOf(this._dom.transitionProgress),e<1?o.a.to(this._dom.transitionProgress,{scaleX:e,duration:.6,ease:"linear"}):o.a.to(this._dom.transitionProgress,{scaleX:e,duration:.7,ease:"cubic.out"})}},{key:"_loadingHandler",value:function(e){}},{key:"_mediaLoadedHandler",value:function(){this._browseComponents("mediaLoadedHandler"),this.Page.mediaLoadedHandler()}},{key:"_pageLoadedHandler",value:function(){b.a.IS_LAZY_LOADING||this._browseComponents("mediaLoadedHandler"),this._browseComponents("init"),this._browseComponents("bind"),this.Page.init(),this.Page.bind(),this.Page.show(),o.a.to(this._dom.transition,{duration:.7,y:"-100vh",ease:"power2.inOut",onComplete:function(){}}),T.execBodyScripts(this._dom.page),T.updateSwitchLangUrl(),T.unlock(),T.listen()}},{key:"_destroyClasses",value:function(){this._dom.screenwrapper.removeChild(this.PreviousPage.dom.page),this.PreviousPage.off(y.a.PAGE_DESTROYED,this._destroyClasses),this.PreviousPage=null}},{key:"_request",value:function(){var e=this,t=(o.a.killTweensOf(this._dom.transitionProgress),o.a.set(this._dom.transitionProgress,{scaleX:0}),o.a.to(this._dom.transitionProgress,{scaleX:.15,duration:1.3,ease:"linear"}),b.a.IS_LOADER&&Loader.show(),T.getUrl()),n=this._cache[t];this.Page.off(y.a.NEXT,this._request),this._startRequest=Date.now(),n?this._response(n):(""===t&&(t="/"),i.a.get(t).then((function(t){e._response(t.data)})).catch((function(n){i.a.get(t).then((function(t){e._response("/")})).catch((function(e){}))})))}},{key:"_response",value:function(e){this._startRequest&&(Date.now(),this._startRequest),this._cache[T.getUrl()]=e,e=this._DOMparser.parseFromString(e,"text/html"),this._dom.page=e.querySelector("div.page"),this._dom.screenwrapper.appendChild(this._dom.page),w.a.dom=this._dom,e=e.querySelector("title"),T.setTitle(e.innerText),T.AJAXresponseHandler(),b.a.IS_LOADER&&Loader.AJAXresponseHandler(),this._initContext(),window.scrollTo(0,0)}},{key:"_browseComponents",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;for(t in this.Components)if(this.Components.hasOwnProperty(t)){var r=null;if(isArray(this.Components[t]))for(var o=0,a=this.Components[t].length;o<a;o++)!1!==(r=this.Components[t][o]).persist&&("init"===e&&!0!==this._isFirstInit||"unbind"===e)||r[e].apply(r,n);else!1!==(r=this.Components[t]).persist&&("init"===e&&!0!==this._isFirstInit||"unbind"===e)||r[e].apply(r,n);"function"==typeof i&&i.call(i,r,t)}"init"===e&&(this._isFirstInit=!1)}},{key:"_initTlLoading",value:function(){}},{key:"_prepareLoader",value:function(){this.tlLoader=o.a.timeline(),new a.a(this._dom.txtLoader,{type:"words",wordsClass:"hero-words-split"}),new a.a(this._dom.txtLoader,{type:"chars",charsClass:"hero-chars-split"});var e=this._dom.txtLoader.querySelectorAll(".hero-chars-split");o.a.set(this._dom.txtLoader,{perspective:400}),o.a.set(e,{opacity:0,scale:.8}),o.a.set(this._dom.txtLoader,{opacity:1}),this.tlLoader.to(e,{duration:0,opacity:0,scale:.8}).to(e,{duration:.8,opacity:1,scale:1,ease:"power2.in",stagger:.02,delay:.5}).addLabel("pause").to(e,{duration:.8,opacity:0,scale:.8,ease:"back",stagger:.02,delay:.5}).to(this._dom.loader,{duration:.8,autoAlpha:0}).addLabel("ending"),this.tlLoader.tweenTo("pause"),this._dom.titleHero&&(new a.a(this._dom.titleHero,{type:"words",wordsClass:"word-hero"}),new a.a(this._dom.titleHero,{type:"lines",linesClass:"lineParent"}),o.a.set(this._dom.titleHero.querySelectorAll(".word-hero"),{y:"100%"}))}},{key:"_hideLoader",value:function(){this._dom.titleHero?(this.tlLoader.to(this._dom.titleHero.querySelectorAll(".word-hero"),{duration:.8,y:"0%",ease:"power2.out",stagger:.05},"ending-=0.6").addLabel("show-hero"),this.tlLoader.tweenTo("show-hero")):this.tlLoader.tweenTo("ending")}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();document.addEventListener("DOMContentLoaded",(function(){new I}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var i=n(0),r=n(2),o=n(22),a=n(27),s=n(26),l=n(95),u=[{name:"globeMap",type:"image",path:MEDIAS+"earthspec1k.jpg"}],c=(t=n(265),n.n(t)),h=(t=n(266),n.n(t)),d=(t=n(267),n.n(t)),f=(t=n(268),n.n(t)),p=(t=n(269),n.n(t)),m=(t=n(270),n.n(t)),v=n(58),g=n(97),y={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new i.q(0)},defaultOpacity:{value:0}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform vec3 defaultColor;\n\t\tuniform float defaultOpacity;\n\t\tuniform float luminosityThreshold;\n\t\tuniform float smoothWidth;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\n\t\t\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\n\n\t\t\tfloat v = dot( texel.xyz, luma );\n\n\t\t\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\n\n\t\t\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\n\n\t\t\tgl_FragColor = mix( outputColor, texel, alpha );\n\n\t\t}"};function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=x(e);n=t?(n=x(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===b(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(r);function r(e,t,o,a){var s;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");(s=n.call(this)).strength=void 0!==t?t:1,s.radius=o,s.threshold=a,s.resolution=void 0!==e?new i.nc(e.x,e.y):new i.nc(256,256),s.clearColor=new i.q(0,0,0),s.renderTargetsHorizontal=[],s.renderTargetsVertical=[],s.nMips=5;var l=Math.round(s.resolution.x/2),u=Math.round(s.resolution.y/2);s.renderTargetBright=new i.sc(l,u),s.renderTargetBright.texture.name="UnrealBloomPass.bright",s.renderTargetBright.texture.generateMipmaps=!1;for(var c=0;c<s.nMips;c++){var h;(h=((h=new i.sc(l,u)).texture.name="UnrealBloomPass.h"+c,h.texture.generateMipmaps=!1,s.renderTargetsHorizontal.push(h),new i.sc(l,u))).texture.name="UnrealBloomPass.v"+c,h.texture.generateMipmaps=!1,s.renderTargetsVertical.push(h),l=Math.round(l/2),u=Math.round(u/2)}o=y;for(var d=(s.highPassUniforms=i.jc.clone(o.uniforms),s.highPassUniforms.luminosityThreshold.value=a,s.highPassUniforms.smoothWidth.value=.01,s.materialHighPassFilter=new i.Tb({uniforms:s.highPassUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,defines:{}}),s.separableBlurMaterials=[],[3,5,7,9,11]),f=(l=Math.round(s.resolution.x/2),u=Math.round(s.resolution.y/2),0);f<s.nMips;f++)s.separableBlurMaterials.push(s.getSeperableBlurMaterial(d[f])),s.separableBlurMaterials[f].uniforms.texSize.value=new i.nc(l,u),l=Math.round(l/2),u=Math.round(u/2);return s.compositeMaterial=s.getCompositeMaterial(s.nMips),s.compositeMaterial.uniforms.blurTexture1.value=s.renderTargetsVertical[0].texture,s.compositeMaterial.uniforms.blurTexture2.value=s.renderTargetsVertical[1].texture,s.compositeMaterial.uniforms.blurTexture3.value=s.renderTargetsVertical[2].texture,s.compositeMaterial.uniforms.blurTexture4.value=s.renderTargetsVertical[3].texture,s.compositeMaterial.uniforms.blurTexture5.value=s.renderTargetsVertical[4].texture,s.compositeMaterial.uniforms.bloomStrength.value=t,s.compositeMaterial.uniforms.bloomRadius.value=.1,s.compositeMaterial.needsUpdate=!0,s.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],s.bloomTintColors=[new i.oc(1,1,1),new i.oc(1,1,1),new i.oc(1,1,1),new i.oc(1,1,1),new i.oc(1,1,1)],s.compositeMaterial.uniforms.bloomTintColors.value=s.bloomTintColors,g.a,e=g.a,s.copyUniforms=i.jc.clone(e.uniforms),s.copyUniforms.opacity.value=1,s.materialCopy=new i.Tb({uniforms:s.copyUniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,blending:i.a,depthTest:!1,depthWrite:!1,transparent:!0}),s.enabled=!0,s.needsSwap=!1,s._oldClearColor=new i.q,s.oldClearAlpha=1,s.basic=new i.lb,s.fsQuad=new v.a(null),s}return t=r,(e=[{key:"dispose",value:function(){for(var e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(var t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose()}},{key:"setSize",value:function(e,t){var n=Math.round(e/2),r=Math.round(t/2);this.renderTargetBright.setSize(n,r);for(var o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(n,r),this.renderTargetsVertical[o].setSize(n,r),this.separableBlurMaterials[o].uniforms.texSize.value=new i.nc(n,r),n=Math.round(n/2),r=Math.round(r/2)}},{key:"render",value:function(e,t,n,i,o){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();for(var a=e.autoClear,s=(e.autoClear=!1,e.setClearColor(this.clearColor,0),o&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e),this.renderTargetBright),l=0;l<this.nMips;l++)this.fsQuad.material=this.separableBlurMaterials[l],this.separableBlurMaterials[l].uniforms.colorTexture.value=s.texture,this.separableBlurMaterials[l].uniforms.direction.value=r.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[l]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[l].uniforms.colorTexture.value=this.renderTargetsHorizontal[l].texture,this.separableBlurMaterials[l].uniforms.direction.value=r.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[l]),e.clear(),this.fsQuad.render(e),s=this.renderTargetsVertical[l];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,o&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?e.setRenderTarget(null):e.setRenderTarget(n),this.fsQuad.render(e),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=a}},{key:"getSeperableBlurMaterial",value:function(e){return new i.Tb({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new i.nc(.5,.5)},direction:{value:new i.nc(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat fSigma = float(SIGMA);\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = float(i);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\n\t\t\t\t\t\tweightSum += 2.0 * w;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})}},{key:"getCompositeMaterial",value:function(e){return new i.Tb({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\t\t\t\tuniform sampler2D blurTexture1;\n\t\t\t\tuniform sampler2D blurTexture2;\n\t\t\t\tuniform sampler2D blurTexture3;\n\t\t\t\tuniform sampler2D blurTexture4;\n\t\t\t\tuniform sampler2D blurTexture5;\n\t\t\t\tuniform float bloomStrength;\n\t\t\t\tuniform float bloomRadius;\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\n\n\t\t\t\tfloat lerpBloomFactor(const in float factor) {\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n\t\t\t\t}"})}}])&&_(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(v.b);function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}S.BlurDirectionX=new i.nc(1,0),S.BlurDirectionY=new i.nc(0,1),r.a.registerPlugin(o.a);var M=(t=i.ib).randFloat,E=t.randFloatSpread,T=t.lerp,D=function(){function e(t,n,r,o,a,c){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");C(this,"_classes",{buttonFooter:"js-button-center-footer",mainContainer:"main"}),C(this,"currentScroll",0),C(this,"canvas",{posY:0,height:0}),C(this,"buttonIsHover",!1),C(this,"_config",{gpgpuSize:128,color:16777215,color2:37119,colors:[128,37119],noiseCoordScale:.05,noiseTimeScale:1.5,desktop:{worldNumberPoint:7e4,radiusWorld:10},mobile:{worldNumberPoint:2e4,radiusWorld:6}}),C(this,"mousePlane",new i.Bb(new i.oc(0,0,1),0)),C(this,"mousePosition",new i.oc),C(this,"raycaster",new i.Nb),C(this,"centerScene",new i.nc),C(this,"mouseTargetV2",new i.nc),C(this,"lerpCamera",.05),C(this,"meshCloud",[]),this.managerExperience=new s.a,this.debug=this.managerExperience.debug,this.scene=t,this.pointer=n,this.camera=r,this.renderer=o,this.device=c,this.camera.resize(),this.resources=new l.a(u),this._retrieveDOM(),this._init(),this._bind()}var t,n;return t=e,(n=[{key:"_retrieveDOM",value:function(){this.dom={},this.dom.button=document.querySelector("."+this._classes.buttonFooter),this.dom.mainContainer=document.querySelector("#"+this._classes.mainContainer)}},{key:"_init",value:function(){this.clock=new i.p,this.posYFooter=this.dom.mainContainer.getBoundingClientRect().height,this.initUniforms()}},{key:"initUniforms",value:function(){this.uTime={value:0},this.uColor={value:new i.q(this._config.color)},this.uNoiseCoordScale={value:this._config.noiseCoordScale},this.uBokehStrength={value:.1},this.uBokehBlurLength={value:50},this.uFocalDistance={value:15},this.utargetProgress={value:0},this.uDistanceAttenuation={value:.1},this.uOpacity={value:1}}},{key:"_bind",value:function(){this.resources.on("__class_resource_loaded",this._sourcesLoaded.bind(this))}},{key:"_sourcesLoaded",value:function(){var e=this;this.initRenderer(),this.initWorld(),this.initParticles(),"mobile"!=this.device&&this.initCloud(),["buttonMouseEnter","buttonMouseLeave"].forEach((function(t){return e[t]=e[t].bind(e)})),this.dom.button&&(this.dom.button.addEventListener("pointerenter",this.buttonMouseEnter),this.dom.button.addEventListener("pointerleave",this.buttonMouseLeave))}},{key:"buttonMouseEnter",value:function(e){this.buttonIsHover=!0}},{key:"buttonMouseLeave",value:function(e){this.buttonIsHover=!1}},{key:"initRenderer",value:function(){this._createRenderer(),this._debugRenderer()}},{key:"_createRenderer",value:function(){this.renderer.effectComposerActivate&&(this.unrealBloomPass=new S,this.unrealBloomPass.strength=.3,this.unrealBloomPass.radius=1,this.unrealBloomPass.threshold=.8,this.renderer.addPass({name:"unrealBloomPass",core:this.unrealBloomPass}))}},{key:"_debugRenderer",value:function(){this.renderer.effectComposerActivate&&this.debug.active&&(this.debugFolder=this.debug.ui.addFolder("GLOBE EFFECT"),this.debugFolder.add(this.unrealBloomPass,"strength",0,10).step(.001),this.debugFolder.add(this.unrealBloomPass,"radius",0,1).step(.01),this.debugFolder.add(this.unrealBloomPass,"threshold",0,1).step(.001),this.debugFolder.add(this.renderer.instance,"toneMappingExposure",.1,5))}},{key:"initWorld",value:function(){this._createWorldPoints(),this._debugWorld()}},{key:"_createWorldPoints",value:function(){this.pointsPositionWorld=this.getCountriesPoints(this._config[this.device].worldNumberPoint,this._config[this.device].radiusWorld),this.totalPoints=this.pointsPositionWorld.length,this.pointsPositionRandom=this.randomPositions(this.totalPoints,100),this.colorScale=new a.a(this._config.colors),this.positionsWorld=new Float32Array(3*this.totalPoints),this.positionsRandom=new Float32Array(3*this.totalPoints),this.colors=new Float32Array(3*this.totalPoints).fill(1),this.scales=new Float32Array(this.totalPoints).fill(1).map((function(){return M(.5,1)}));for(var e=0;e<this.totalPoints;e++)this.pointsPositionWorld[e].toArray(this.positionsWorld,3*e),this.pointsPositionRandom[e].toArray(this.positionsRandom,3*e),this.colorScale.getColorAt(Math.random()).toArray(this.colors,3*e);this.geometryWorld=new i.k,this.geometryWorld.setAttribute("position",new i.j(this.positionsWorld,3)),this.geometryWorld.setAttribute("color",new i.j(this.colors,3)),this.geometryWorld.setAttribute("aPositionRandom",new i.j(this.positionsRandom,3)),this.uniformsWorld={uColor:this.uColor,uBokehStrength:this.uBokehStrength,uFocalDistance:this.uFocalDistance,uDistanceAttenuation:this.uDistanceAttenuation,utargetProgress:this.utargetProgress,uOpacity:this.uOpacity,uBokehBlurLength:this.uBokehBlurLength},this.materialWorld=new i.Tb({depthTest:!1,transparent:!0,blending:i.a,vertexColors:!0,uniforms:this.uniformsWorld,vertexShader:c.a,fragmentShader:h.a}),this.pointsWorld=new i.Eb(this.geometryWorld,this.materialWorld),this.scene.add(this.pointsWorld)}},{key:"_debugWorld",value:function(){var e=this;this.debug.active&&(this.debugFolder=this.debug.ui.addFolder("GLOBE FOOTER"),this.debugFolder.add(this.materialWorld.uniforms.uOpacity,"value").name("Opacity Globe").min(0).max(1).step(.01),this.debugFolder.add(this.materialWorld.uniforms.uFocalDistance,"value").name("Distance focal Globe").min(0).max(100).step(.01),this.debugFolder.add(this.materialWorld.uniforms.uBokehStrength,"value").name("Luminosité").min(0).max(1).step(.001),this.debugFolder.addColor(this._config,"color").name("color").onChange((function(){e.materialWorld.uniforms.uColor.value.set(e._config.color)})),this.debugFolder.addColor(this._config,"color2").name("color-2").onChange((function(){e._config.colors[1]=e._config.color2,e.colorScale=new a.a(e._config.colors);for(var t=0;t<e.totalPoints;t++)e.colorScale.getColorAt(Math.random()).toArray(e.pointsWorld.geometry.attributes.color.array,3*t);e.pointsWorld.geometry.attributes.color.needsUpdate=!0})))}},{key:"setCanvasData",value:function(e,t){this.canvas.posY=e,this.canvas.height=t}},{key:"initParticles",value:function(){this._createParticlePoints(),this._debugParticle()}},{key:"_createParticlePoints",value:function(){this.randoms=new Float32Array(3*this.totalPoints).fill(0).map((function(){return M(.2,1.5)})),this.geometryParticle=new i.k,this.geometryParticle.setAttribute("position",new i.j(this.positionsWorld,3)),this.geometryParticle.setAttribute("color",new i.j(this.colors,3)),this.geometryParticle.setAttribute("aPositionRandom",new i.j(this.positionsRandom,3)),this.geometryParticle.setAttribute("aRandom",new i.j(this.randoms,3)),this.uniformsParticle={uTime:this.uTime,uColor:this.uColor,uBokehStrength:this.uBokehStrength,uBokehBlurLength:this.uBokehBlurLength,uFocalDistance:this.uFocalDistance,uDistanceAttenuation:this.uDistanceAttenuation,utargetProgress:this.utargetProgress,uSpeed:{value:1},uElevation:{value:1}},this.materialParticle=new i.Tb({depthTest:!1,transparent:!0,blending:i.a,vertexColors:!0,uniforms:this.uniformsParticle,vertexShader:d.a,fragmentShader:f.a}),this.pointsParticle=new i.Eb(this.geometryParticle,this.materialParticle),this.scene.add(this.pointsParticle)}},{key:"_debugParticle",value:function(){this.debug.active&&(this.debugFolder.add(this.materialParticle.uniforms.uSpeed,"value").name("Speed Particle").min(0).max(5).step(.01),this.debugFolder.add(this.materialParticle.uniforms.uElevation,"value").name("Elevation Particle").min(0).max(5).step(.001))}},{key:"initCloud",value:function(){this._createCloud(),this._debugCloud()}},{key:"_createCloud",value:function(){this.geometryCloud=new i.Cb(2,2.8,128,128),this.uniformsCloud={uTime:{value:0},uNoiseTime:{value:.1},uNoiseCoord:{value:4},uOpacity:{value:.3},utargetProgress:{value:0},uColor:{value:new i.q("#110000")}},this.materialCloud=new i.Tb({vertexShader:p.a,fragmentShader:m.a,side:i.y,uniforms:this.uniformsCloud,depthWrite:!1,transparent:!0}),this.meshCloud=[],this.meshCloud.push(new i.kb(this.geometryCloud,this.materialCloud.clone())),this.meshCloud[0].material.uniforms.uColor.value.set("#090C52"),this.meshCloud[0].position.z=-10,this.meshCloud[0].material.uniforms.uNoiseTime.value=.15,this.meshCloud.push(new i.kb(this.geometryCloud,this.materialCloud.clone())),this.meshCloud[1].position.z=10,this.meshCloud[1].material.uniforms.uColor.value.set("#012342"),this.meshCloud[1].material.uniforms.uNoiseTime.value=.2;for(var e=0,t=this.meshCloud.length;e<t;e++)this.scene.add(this.meshCloud[e])}},{key:"_debugCloud",value:function(){var e,t=this;this.debug.active&&(e={cloud1Color:"#090C52",cloud2Color:"#3B194F"},this.debugFolder=this.debug.ui.addFolder("GLOBE SHADER"),this.debugFolder.add(this.meshCloud[0].material.uniforms.uNoiseTime,"value",0,5).name("Cloud 1 - uNoiseTime").step(.01),this.debugFolder.add(this.meshCloud[0].material.uniforms.uNoiseCoord,"value",0,10).name("Cloud 1 - uNoiseCoord").step(.01),this.debugFolder.add(this.meshCloud[0].material.uniforms.uOpacity,"value",0,1).name("Cloud 1 - uOpacity").step(.01),this.debugFolder.addColor(e,"cloud1Color").name("Cloud 1 - color").onChange((function(){t.meshCloud[0].material.uniforms.uColor.value.set(e.cloud1Color)})),this.debugFolder.add(this.meshCloud[1].material.uniforms.uNoiseTime,"value",0,5).name("Cloud 1 - uNoiseTime").step(.01),this.debugFolder.add(this.meshCloud[1].material.uniforms.uNoiseCoord,"value",0,10).name("Cloud 1 - uNoiseCoord").step(.01),this.debugFolder.add(this.meshCloud[1].material.uniforms.uOpacity,"value",0,1).name("Cloud 1 - uOpacity").step(.01),this.debugFolder.addColor(e,"cloud2Color").name("Cloud 2 - color").onChange((function(){t.meshCloud[1].material.uniforms.uColor.value.set(e.cloud2Color)})))}},{key:"update",value:function(){if(this.uTime.value=this.clock.getElapsedTime()*this._config.noiseTimeScale,void 0!==this.pointsWorld&&this.currentScroll+window.innerHeight>this.posYFooter){if("mobile"!=this.device&&(this.meshCloud[0].material.uniforms.uTime.value=this.clock.getElapsedTime()+30,this.meshCloud[1].material.uniforms.uTime.value=this.clock.getElapsedTime()+20),this.pointsWorld.rotation.y=-.01*this.uTime.value*Math.PI*2,this.pointsParticle.rotation.y=-.01*this.uTime.value*Math.PI*2,this.currentScroll+window.innerHeight/1.2>this.posYFooter){var e=.99,t=(0==this.buttonIsHover&&(e=(this.currentScroll+window.innerHeight/1.2-this.posYFooter)/(window.innerHeight/2),e=Math.max(0,Math.min(1,e))),this.materialWorld.uniforms.utargetProgress.value);if(this.materialWorld.uniforms.utargetProgress.value=T(t,e,.06),this.materialParticle.uniforms.utargetProgress.value=T(t,e,.06),"mobile"!=this.device)for(var n=0,r=this.meshCloud.length;n<r;n++)this.meshCloud[n].material.uniforms.utargetProgress.value=T(t,e,.06)}this.camera.instance.position.x=i.ib.lerp(this.camera.instance.position.x,0+20*this.mouseTargetV2.x,this.lerpCamera),this.camera.instance.position.y=i.ib.lerp(this.camera.instance.position.y,0+20*this.mouseTargetV2.y,this.lerpCamera)}}},{key:"initAnimHover",value:function(){this.tlAnimHoverButton=r.a.timeline({paused:!0}),this.tlAnimHoverButton.to([this.pointsWorld.scale],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:0,x:.95,y:.95,z:.95}),this.tlAnimHoverButton.to([this.pointsWorld.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:0,y:0}),this.tlAnimHoverButton.to([this.pointsWorld.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:-1.01,y:1.01}),this.tlAnimHoverButton.to([this.pointsWorld.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:-1.01,y:-1.01}),this.tlAnimHoverButton.to([this.pointsWorld.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:1.01,y:1.01}),this.tlAnimHoverButton.to([this.pointsWorld.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:1.01,y:-1.01}),this.tlAnimHoverButton.to([this.pointsWorld.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:-1.01,y:1.01}),this.tlAnimHoverButton.to([this.pointsWorld.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:-1.01,y:-1.01}),this.tlAnimHoverButton.to([this.pointsWorld.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:0,y:0}),this.tlAnimHoverButton.to([this.pointsWorld.scale],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:0,x:1,y:1,z:1}),this.tlAnimHoverButton2=r.a.timeline({paused:!0}),this.tlAnimHoverButton2.to([this.pointsParticle.scale],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:0,x:.95,y:.95,z:.95}),this.tlAnimHoverButton2.to([this.pointsParticle.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:0,y:0}),this.tlAnimHoverButton2.to([this.pointsParticle.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:1.01,y:-1.01}),this.tlAnimHoverButton2.to([this.pointsParticle.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:1.01,y:1.01}),this.tlAnimHoverButton2.to([this.pointsParticle.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:-1.01,y:-1.01}),this.tlAnimHoverButton2.to([this.pointsParticle.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:-1.01,y:1.01}),this.tlAnimHoverButton2.to([this.pointsParticle.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:1.01,y:-1.01}),this.tlAnimHoverButton2.to([this.pointsParticle.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:1.01,y:1.01}),this.tlAnimHoverButton2.to([this.pointsParticle.position],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:.03,x:0,y:0}),this.tlAnimHoverButton2.to([this.pointsParticle.scale],{ease:o.a.create("custom","M0,0 C0.236,0.412 0.339,0.631 0.468,0.752 0.512,0.793 0.682,1 1,1 "),duration:0,x:1,y:1,z:1})}},{key:"randomPositions",value:function(e,t){for(var n=new Array(e),r=new i.oc,o=0;o<e;o++)r.set(E(t),E(t),E(t)),n[o]=r.clone();return n}},{key:"getCountriesPoints",value:function(e,t){var n=this,i=(e=this.getFibonacciSpherePoints(e,t,!1),[]),r=(t=document.createElement("canvas")).getContext("2d"),o=this.resources.items.globeMap,a=(t.width=o.width,t.height=o.height,r.drawImage(o,0,0),r.getImageData(0,0,o.width,o.height));return e.forEach((function(e){var t=((r=n.vector3toLonLat(e))[0]+Math.PI)/(2*Math.PI)*o.width,r=(-r[1]+Math.PI/2)/Math.PI*o.height;r=4*(Math.floor(r)*o.width+Math.floor(t));a.data[r]<64&&i.push(e)})),i}},{key:"getFibonacciSpherePoints",value:function(e,t,n){e=e||1,t=t||1;for(var r=1,o=((n=n||!0)&&(r=Math.random()*e),[]),a=2/e,s=Math.PI*(3-Math.sqrt(5)),l=0;l<e;l++){var u=l*a-1+a/2,c=Math.sqrt(1-Math.pow(u,2)),h=(l+r)%e*s,d=Math.cos(h)*c;h=Math.sin(h)*c,c=(d*=t,u*=t,h*=t,new i.oc(d,u,h));o.push(c)}return o}},{key:"vector3toLonLat",value:function(e){e=e.clone().normalize();var t=-Math.atan2(-e.z,-e.x)-Math.PI/2,n=((n=(t<-Math.PI&&(t+=2*Math.PI),new i.oc(e.x,0,e.z))).normalize(),Math.acos(n.dot(e)));return e.y<0&&(n*=-1),[t,n]}},{key:"scroll",value:function(e){this.currentScroll=e}},{key:"resize",value:function(e,t){this.canvas.posY=e,this.canvas.height=t,this.posYFooter=this.dom.mainContainer.getBoundingClientRect().height}},{key:"onMove",value:function(e){this.raycaster.setFromCamera(e.nPosition,this.camera.instance),this.camera.instance.getWorldDirection(this.mousePlane.normal),this.raycaster.ray.intersectPlane(this.mousePlane,this.mousePosition),this.mouseTargetV2=e.nPosition.clone()}},{key:"onLeave",value:function(e){this.mouseTargetV2.set(0,0),this.lerpCamera=.005}},{key:"onEnter",value:function(e){this.lerpCamera=.05}},{key:"toggleDevice",value:function(e){if(this.device=e,this.scene.traverse((function(e){(e instanceof i.Eb||e instanceof i.kb)&&("function"==typeof e.geometry.dispose&&e.geometry.dispose(),"function"==typeof e.material.dispose&&e.material.dispose())})),this.scene.remove(this.pointsWorld),this.scene.remove(this.pointsParticle),0!=this.meshCloud.length)for(var t=0,n=this.meshCloud.length;t<n;t++)this.scene.remove(this.meshCloud[t]);this._createWorldPoints(),this._createParticlePoints(),"mobile"!=this.device&&this._createCloud()}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return K}));t=n(7);var i=n(6),r=(n(36),n(2));function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(){return"undefined"!=typeof window}function s(){return l||a()&&(l=window.gsap)&&l.registerPlugin&&l}Date.now;var l,u,c,h,d,f,p,m,v,g,y,b,_,w,x,S=function(){function e(t){function n(){return $.update(-K)}function i(e){e.update();var t=e.getTween();t&&(t.pause(),t._time=t._dur,t._tTime=t._tDur),I=!1,e.animation.progress(e.progress,!0)}function r(e){return arguments.length?(ee.y=-(e=e<0?0:e),I=!0,O?K=-e:ne(-e),v.isRefreshing?M.update():X(e),this):-K}function o(e){A.scrollTop=0,e.target.contains&&e.target.contains(A)||G&&!1===G(z,e)||(v.isInViewport(e.target)||e.target===F||z.scrollTo(e.target,!1,"center center"),F=e.target)}function a(){return v.addEventListener("refresh",re)}function s(e,t,n,i){function r(){t=b(),n=_(),s=parseFloat(t)||1,p=(h="auto"===t)?0:.5,f&&f.kill(),f=n&&l.to(e,{ease:y,overwrite:!1,y:"+=0",duration:n}),u&&(u.ratio=s,u.autoSpeed=h)}function o(){x.y=w+"px",x.renderTransform(1),r()}function a(t){var n,i,r,a,l;g=h?(o(),n=e,i=m(0,1,-t.start/(t.end-t.start)),a=n.parentNode||d,n=n.getBoundingClientRect(),l=(a=a.getBoundingClientRect()).top-n.top,n=a.bottom-n.bottom,n=-(l=(Math.abs(l)>Math.abs(n)?l:n)/(1-i))*i,0<l&&(a=.5==(r=a.height/(c.innerHeight+a.height))?2*a.height:2*Math.min(a.height,-l*r/(2*r-1))*(i||1),n+=i?-a*i:-a/2,l+=a),M=(r={change:l,offset:n}).change,r.offset):(M=(t.end-t.start)*(1-s),0),S.forEach((function(e){return M-=e.distance*(1-s)})),t.vars.onUpdate(t),f&&f.progress(1)}var s,u,h,f,p,g,b=se("speed",t,i,e),_=se("lag",n,i,e),w=l.getProperty(e,"y"),x=e._gsap,S=[],C=[],M=0;return r(),(1!==s||h||f)&&(a(u=v.create({trigger:h?e.parentNode:e,scroller:A,scrub:!0,refreshPriority:-999,onRefreshInit:o,onRefresh:a,onKill:function(e){0<=(e=E.indexOf(e))&&E.splice(e,1),o()},onUpdate:function(e){var t,n,i,r=w+M*(e.progress-p),o=S.length,a=0;if(e.offset){if(o){for(n=-K,i=e.end;o--;){if((t=S[o]).trig.isActive||n>=t.start&&n<=t.end)return void(f&&(t.trig.progress+=t.trig.direction<0?.001:-.001,t.trig.update(0,0,1),f.resetTo("y",parseFloat(x.y),-J,!0),Z&&f.progress(1)));n>t.end&&(a+=t.distance),i-=t.distance}r=w+a+M*((l.utils.clamp(e.start,e.end,n)-e.start-a)/(i-e.start)-p)}e=r+g,r=Math.round(1e5*e)/1e5||0,C.length&&!h&&C.forEach((function(e){return e(r-a)})),f?(f.resetTo("y",r,-J,!0),Z&&f.progress(1)):(x.y=r+"px",x.renderTransform(1))}}})),l.core.getCache(u.trigger).stRevert=ae,u.startY=w,u.pins=S,u.markers=C,u.ratio=s,u.autoSpeed=h,e.style.willChange="transform"),u}var S,A,C,M,E,T,D,P,k,O,R,L,B,I,F,z=this,N=(V=(u||e.register(l),t=this.vars=t||{},g&&g.kill(),w(g=this),t)).smoothTouch,U=V.onUpdate,j=V.onStop,H=V.smooth,G=V.onFocusIn,V=V.normalizeScroll,W=this,Y="undefined"!=typeof ResizeObserver&&!1!==t.autoResize&&new ResizeObserver((function(){return v.isRefreshing||x.restart(!0)})),q=t.effectsPrefix||"",X=v.getScrollFunc(c),Q=1===v.isTouch?!0===N?.8:parseFloat(N)||0:0===H||!1===H?0:parseFloat(H)||.8,K=0,J=0,Z=1,$=b(0),ee={y:0},te=function(){return S.style.overflow="visible"},ne=function(e,t){(e!==K&&!O||t)&&(Q&&(S.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+e+", 0, 1)",S._gsap.y=e+"px"),J=e-K,K=e,v.isUpdating||v.update())},ie=function(e,t){var n,i,r,o;E.forEach((function(t){n=t.pins,o=t.markers,e.forEach((function(e){t.trigger&&e.trigger&&t!==e&&(e.trigger===t.trigger||e.pinnedContainer===t.trigger||t.trigger.contains(e.trigger))&&(i=e.start,r=(i-t.start-t.offset)/t.ratio-(i-t.start),n.forEach((function(e){return r-=e.distance/t.ratio-e.distance})),e.setPositions(i+r,e.end+r),e.markerStart&&o.push(l.quickSetter([e.markerStart,e.markerEnd],"y","px")),e.pin&&0<e.end&&(r=e.end-e.start,n.push({start:e.start,end:e.end,distance:r,trig:e}),t.setPositions(t.start,t.end+r),t.vars.onRefresh(t)))}))}))},re=function(){te(),requestAnimationFrame(te),E&&(E.forEach((function(e){var t=e.start,n=e.auto?Math.min(v.maxScroll(e.scroller),e.end):t+(e.end-t)/e.ratio,i=(n-e.end)/2;t-=i,n-=i,e.offset=i||1e-4,e.pins.length=0,e.setPositions(Math.min(t,n),Math.max(t,n)),e.vars.onRefresh(e)})),ie(v.sort())),$.reset()},oe=function(){return E&&E.forEach((function(e){return e.vars.onRefresh(e)}))},ae=function(){return E&&E.forEach((function(e){return e.vars.onRefreshInit(e)})),oe},se=function(e,t,n,i){return function(){var r="function"==typeof t?t(n,i):t;return r||0===r||(r=i.getAttribute("data-"+q+e)||("speed"===e?1:0)),i.setAttribute("data-"+q+e,r),"auto"===r?r:parseFloat(r)}};function le(){return C=S.clientHeight,S.style.overflow="visible",f.style.height=C+"px",C-c.innerHeight}a(),v.addEventListener("killAll",a),l.delayedCall(.5,(function(){return Z=0})),this.scrollTop=r,this.scrollTo=function(e,t,n){n=l.utils.clamp(0,v.maxScroll(c),isNaN(e)?z.offset(e,n):+e),t?O?l.to(z,{duration:Q,scrollTop:n,overwrite:"auto",ease:y}):X(n):r(n)},this.offset=function(e,t){var n,i=(e=p(e)[0]).style.cssText;t=v.create({trigger:e,start:t||"top top"});return E&&ie([t]),n=t.start,t.kill(!1),e.style.cssText=i,l.core.getCache(e).uncache=1,n},this.content=function(e){return arguments.length?((e=p(e||"#smooth-content")[0]||f.children[0])!==S&&(k=(S=e).getAttribute("style")||"",Y&&Y.observe(S),l.set(S,{overflow:"visible",width:"100%",boxSizing:"border-box",y:"+=0"}),Q||l.set(S,{clearProps:"transform"})),this):S},this.wrapper=function(e){var t;return arguments.length?(A=p(e||"#smooth-wrapper")[0]||(e=S,(t=h.querySelector(".ScrollSmoother-wrapper"))||((t=h.createElement("div")).classList.add("ScrollSmoother-wrapper"),e.parentNode.insertBefore(t,e),t.appendChild(e)),t),P=A.getAttribute("style")||"",le(),l.set(A,Q?{overflow:"hidden",position:"fixed",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0}:{overflow:"visible",position:"relative",width:"100%",height:"auto",top:"auto",bottom:"auto",left:"auto",right:"auto"}),this):A},this.effects=function(e,t){if(E=E||[],!e)return E.slice(0);(e=p(e)).forEach((function(e){for(var t=E.length;t--;)E[t].trigger===e&&E[t].kill()}));for(var n,i=(t=t=t||{}).speed,r=t.lag,o=[],a=0;a<e.length;a++)(n=s(e[a],i,r,a))&&o.push(n);return E.push.apply(E,o),o},this.sections=function(e,t){return T=T||[],e?(e=p(e).map((function(e){return v.create({trigger:e,start:"top 120%",end:"bottom -20%",onToggle:function(t){e.style.opacity=t.isActive?"1":"0",e.style.pointerEvents=t.isActive?"all":"none"}})})),t&&t.add?T.push.apply(T,e):T=e.slice(0),e):T.slice(0)},this.content(t.content),this.wrapper(t.wrapper),this.render=function(e){return ne(e||0===e?e:K)},this.getVelocity=function(){return $.getVelocity(-K)},v.scrollerProxy(A,{scrollTop:r,scrollHeight:function(){return le()&&f.scrollHeight},fixedMarkers:!1!==t.fixedMarkers&&!!Q,content:S,getBoundingClientRect:function(){return{top:0,left:0,width:c.innerWidth,height:c.innerHeight}}}),v.defaults({scroller:A}),(N=v.getAll().filter((function(e){return e.scroller===c||e.scroller===A}))).forEach((function(e){return e.revert(!0)})),M=v.create({animation:l.fromTo(ee,{y:0},{y:function(){return-le()},immediateRender:!1,ease:"none",data:"ScrollSmoother",duration:100,onUpdate:function(){var e;this._dur&&((e=I)&&(i(M),ee.y=K),ne(ee.y,e),n(),U&&!O&&U(W))}}),onRefreshInit:function(e){E&&(t=v.getAll().filter((function(e){return!!e.pin})),E.forEach((function(e){e.vars.pinnedContainer||t.forEach((function(t){var n;t.pin.contains(e.trigger)&&((n=e.vars).pinnedContainer=t.pin,e.vars=null,e.init(n,e.animation))}))})));var t;e=e.getTween();B=e&&e._end>e._dp._time,L=K,ee.y=0,Q&&(A.style.pointerEvents="none",A.scrollTop=0,setTimeout((function(){return A.style.removeProperty("pointer-events")}),50))},onRefresh:function(e){e.animation.invalidate(),e.setPositions(e.start,le()),B||i(e),ee.y=-X(),ne(ee.y),Z||e.animation.progress(l.utils.clamp(0,1,L/-e.end)),B&&(e.progress-=.001,e.update())},id:"ScrollSmoother",scroller:c,invalidateOnRefresh:!0,start:0,refreshPriority:-9999,end:le,onScrubComplete:function(){$.reset(),j&&j(z)},scrub:Q||!0}),this.smooth=function(e){return arguments.length&&(Q=e||0),arguments.length?M.scrubDuration(e):M.getTween()?M.getTween().duration():0},M.getTween()&&(M.getTween().vars.ease=t.ease||y),this.scrollTrigger=M,t.effects&&this.effects(!0===t.effects?"[data-"+q+"speed], [data-"+q+"lag]":t.effects,{}),t.sections&&this.sections(!0===t.sections?"[data-section]":t.sections),N.forEach((function(e){e.vars.scroller=A,e.init(e.vars,e.animation)})),this.paused=function(e,t){return arguments.length?(!!O!==e&&(e?(M.getTween()&&M.getTween().pause(),X(-K),$.reset(),(R=v.normalizeScroll())&&R.disable(),(O=v.observe({preventDefault:!0,type:"wheel,touch,scroll",debounce:!1,allowClicks:!0,onChangeY:function(){return r(-K)}})).nested=_(d,"wheel,touch,scroll",!0,!1!==t)):(O.nested.kill(),O.kill(),O=0,R&&R.enable(),M.progress=(-K-M.start)/(M.end-M.start),i(M))),this):!!O},this.kill=this.revert=function(){z.paused(!1),i(M),M.kill();for(var e=(E||[]).concat(T||[]),t=e.length;t--;)e[t].kill();v.scrollerProxy(A),v.removeEventListener("killAll",a),v.removeEventListener("refresh",re),A.style.cssText=P,S.style.cssText=k;var n=v.defaults({});n&&n.scroller===A&&v.defaults({scroller:c}),z.normalizer&&v.normalizeScroll(!1),clearInterval(D),g=null,Y&&Y.disconnect(),f.style.removeProperty("height"),c.removeEventListener("focusin",o)},this.refresh=function(e,t){return M.refresh(e,t)},V&&(this.normalizer=v.normalizeScroll(!0===V?{debounce:!0,content:!Q&&S}:V)),v.config(t),"overscrollBehavior"in c.getComputedStyle(f)&&l.set([f,d],{overscrollBehavior:"none"}),"scrollBehavior"in c.getComputedStyle(f)&&l.set([f,d],{scrollBehavior:"auto"}),c.addEventListener("focusin",o),D=setInterval(n,250),"loading"!==h.readyState&&requestAnimationFrame((function(){return v.refresh()}))}var t,n;return e.register=function(t){return u||(l=t||s(),a()&&window.document&&(c=window,h=document,d=h.documentElement,f=h.body),l&&(p=l.utils.toArray,m=l.utils.clamp,y=l.parseEase("expo"),w=l.core.context||function(){},x=l.delayedCall(.2,(function(){return v.isRefreshing||g&&g.refresh()})).pause(),v=l.core.globals().ScrollTrigger,l.core.globals("ScrollSmoother",e),f&&v&&(b=v.core._getVelocityProp,_=v.core._inputObserver,e.refresh=v.refresh,u=1))),u},t=e,(n=[{key:"progress",get:function(){return this.scrollTrigger?this.scrollTrigger.animation._time/100:0}}])&&o(t.prototype,n),e}(),A=(S.version="3.11.3",S.create=function(e){return g&&e&&g.content()===p(e.content)[0]?g:new S(e)},S.get=function(){return g},s()&&l.registerPlugin(S),n(39)),C=n(24);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return L||j()&&(L=window.gsap)&&L.registerPlugin&&L}function T(e){return"string"==typeof e}function D(e){return"function"==typeof e}function P(e,t){var n="scroll"+(t="x"===t?"Width":"Height"),i="client"+t;return e===I||e===F||e===z?Math.max(F[n],z[n])-(I["inner"+t]||F[i]||z[i]):e[n]-e["offset"+t]}function k(e,t){var n,i;return(e=N(e)[0])&&e.getBoundingClientRect?(e=e.getBoundingClientRect(),i=(n=!t||t===I||t===z)?{top:F.clientTop-(I.pageYOffset||F.scrollTop||z.scrollTop||0),left:F.clientLeft-(I.pageXOffset||F.scrollLeft||z.scrollLeft||0)}:t.getBoundingClientRect(),e={x:e.left-i.left,y:e.top-i.top},!n&&t&&(e.x+=H(t,"x")(),e.y+=H(t,"y")()),e):{x:0,y:0}}function O(e,t,n,i,r){return isNaN(e)||"object"===M(e)?T(e)&&"="===e.charAt(1)?parseFloat(e.substr(2))*("-"===e.charAt(0)?-1:1)+i-r:"max"===e?P(t,n)-r:Math.min(P(t,n),k(e,t)[n]-r):parseFloat(e)-r}function R(){L=E(),j()&&L&&document.body&&(I=window,z=document.body,F=document.documentElement,N=L.utils.toArray,L.config({autoKillThreshold:7}),U=L.config(),B=1)}var L,B,I,F,z,N,U,j=function(){return"undefined"!=typeof window},H=function(e,t){var n="scroll"+("x"===t?"Left":"Top");return e===I&&(null!=e.pageXOffset?n="page"+t.toUpperCase()+"Offset":e=null!=F[n]?F:z),function(){return e[n]}};function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function W(){return(W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function Y(e,t){return(Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(n={version:"3.11.3",name:"scrollTo",rawVars:1,register:function(e){L=e,R()},init:function(e,t,n,i,r){B||R();var o=this,a=L.getProperty(e,"scrollSnapType");o.isWin=e===I,o.target=e,o.tween=n,t=function(e,t,n,i){if("object"!==M(e=D(e)?e(t,n,i):e))return T(e)&&"max"!==e&&"="!==e.charAt(1)?{x:e,y:e}:{y:e};if(e.nodeType)return{y:e,x:e};var r,o={};for(r in e)o[r]="onAutoKill"!==r&&D(e[r])?e[r](t,n,i):e[r];return o}(t,i,e,r),o.vars=t,o.autoKill=!!t.autoKill,o.getX=H(e,"x"),o.getY=H(e,"y"),o.x=o.xPrev=o.getX(),o.y=o.yPrev=o.getY(),"smooth"===L.getProperty(e,"scrollBehavior")&&L.set(e,{scrollBehavior:"auto"}),a&&"none"!==a&&(o.snap=1,o.snapInline=e.style.scrollSnapType,e.style.scrollSnapType="none"),null!=t.x?(o.add(o,"x",o.x,O(t.x,e,"x",o.x,t.offsetX||0),i,r),o._props.push("scrollTo_x")):o.skipX=1,null!=t.y?(o.add(o,"y",o.y,O(t.y,e,"y",o.y,t.offsetY||0),i,r),o._props.push("scrollTo_y")):o.skipY=1},render:function(e,t){for(var n,i,r,o=t._pt,a=t.target,s=t.tween,l=t.autoKill,u=t.xPrev,c=t.yPrev,h=t.isWin,d=t.snap,f=t.snapInline;o;)o.r(e,o.d),o=o._next;n=h||!t.skipX?t.getX():u,c=(i=h||!t.skipY?t.getY():c)-c,u=n-u,r=U.autoKillThreshold,t.x<0&&(t.x=0),t.y<0&&(t.y=0),l&&(!t.skipX&&(r<u||u<-r)&&n<P(a,"x")&&(t.skipX=1),!t.skipY&&(r<c||c<-r)&&i<P(a,"y")&&(t.skipY=1),t.skipX&&t.skipY&&(s.kill(),t.vars.onAutoKill&&t.vars.onAutoKill.apply(s,t.vars.onAutoKillParams||[]))),h?I.scrollTo(t.skipX?n:t.x,t.skipY?i:t.y):(t.skipY||(a.scrollTop=t.y),t.skipX||(a.scrollLeft=t.x)),!d||1!==e&&0!==e||(i=a.scrollTop,n=a.scrollLeft,f?a.style.scrollSnapType=f:a.style.removeProperty("scroll-snap-type"),a.scrollTop=i+1,a.scrollLeft=n+1,a.scrollTop=i,a.scrollLeft=n),t.xPrev=t.x,t.yPrev=t.y},kill:function(e){var t="scrollTo"===e;!t&&"scrollTo_x"!==e||(this.skipX=1),!t&&"scrollTo_y"!==e||(this.skipY=1)}}).max=P,n.getOffset=k,n.buildGetter=H,E()&&L.registerPlugin(n),r.a.registerPlugin(C.a,n,A.a,S);var K=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=X(e);n=t?(n=X(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===G(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return q(i)}}(o);function o(){var e=this,t=o;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];Q(q(e=n.call.apply(n,[this].concat(r))),"isInstance",!1),Q(q(e),"_index",{current:0}),Q(q(e),"_isRunning",!0),Q(q(e),"_secureDelay",!1),Q(q(e),"_sliderAutoplay",!1),Q(q(e),"_intSliderDesktop",null),Q(q(e),"_scrollPaused",!1),Q(q(e),"_firstPinned",!0),Q(q(e),"_way",null),Q(q(e),"_classes",{slider:"js-slider",btnPrev:"js-prev",btnNext:"js-next",progressBar:"js-progress",itemMobile:"js-item",itemDesktop:"js-item-desktop",itemDesktopImage:"js-item-desktop-image",itemDesktopTitle:"js-item-desktop-title",itemDesktopContent:"js-item-desktop-content",labelCategory:"js-label-category",category:"js-category",hidden:"hidden",notCategory:"not-category",buttonDisabled:"swiper-button-disabled"});var s=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){s=!0}}))}catch(e){}return e.wheelOpt=!!s&&{passive:!1},e.wheelEvent="onwheel"in document.createElement("div")?"wheel":"mousewheel",e._retrieveDOM(),e}return t=o,(e=[{key:"_retrieveDOM",value:function(){this.dom.slider=this.dom.component.querySelector("."+this._classes.slider),this.dom.prev=this.dom.component.querySelector("."+this._classes.btnPrev),this.dom.next=this.dom.component.querySelector("."+this._classes.btnNext),this.dom.progress=this.dom.component.querySelector("."+this._classes.progressBar),this.dom.labelCategory=this.dom.component.querySelector("."+this._classes.labelCategory),this.dom.item=this.dom.component.querySelectorAll("."+this._classes.itemMobile),this.dom.categories=this.dom.component.querySelectorAll("."+this._classes.category),this.dom.itemDesktop=[];var e=this.dom.component.querySelectorAll("."+this._classes.itemDesktop);if(e)for(var t=0,n=e.length;t<n;t++){var i=e[t];this.dom.itemDesktop.push({container:i,background:i.querySelector("."+this._classes.itemDesktopImage),title:i.querySelector("."+this._classes.itemDesktopTitle),content:i.querySelector("."+this._classes.itemDesktopContent)})}this._slideLength=this.dom.itemDesktop.length}},{key:"init",value:function(){W(X(o.prototype),"init",this).call(this),this.SS=S.create({smooth:1,effects:!0,smoothTouch:.1}),1024<this._getWidth()&&this._initSnap(),this._prepareAllLines(),this._getWidth()<1024&&this._initSlider()}},{key:"_prepareAllLines",value:function(){if(1024<this._getWidth())for(var e=0;e<this.dom.itemDesktop.length;e++){var t=this.dom.itemDesktop[e];new A.a(t.title,{type:"lines",linesClass:"lineChild"}),new A.a(t.title,{type:"lines",linesClass:"lineParent"})}}},{key:"bind",value:function(){var e=this;if(W(X(o.prototype),"bind",this).call(this),["_clickBtnPrev","_clickBtnNext"].forEach((function(t){return e[t]=e[t].bind(e)})),this.dom.categories)for(var t=0,n=this.dom.categories.length;t<n;t++)this.dom.categories[t].addEventListener("click",this._filtering.bind(this));this.dom.prev.addEventListener("click",this._clickBtnPrev),this.dom.next.addEventListener("click",(function(){clearInterval(e._intSliderDesktop),e._clickBtnNext()}))}},{key:"_clickBtnPrev",value:function(e){1==this._isRunning||this._getWidth()<1024||(this._sliderAutoplay&&(clearInterval(this._sliderAutoplay),this._sliderAutoplay=!1),this._isRunning=!0,this._way=-1,this._process("left"))}},{key:"_clickBtnNext",value:function(e){1==this._isRunning||this._getWidth()<1024||(this._sliderAutoplay&&(clearInterval(this._sliderAutoplay),this._sliderAutoplay=!1),this._isRunning=!0,this._way=1,this._process("right"))}},{key:"_goToSlide",value:function(e){for(var t=e;this.dom.itemDesktop[e].container.classList.contains(this._classes.notCategory);)if((e=loopIndex(e+operator,this._slideLength))==t){e=this._index.current;break}e==this._index.current?this._isRunning=!1:this._hideOldSlider(e)}},{key:"_process",value:function(e){for(var t="left"===e?-1:1,n=loopIndex(this._index.current+t,this._slideLength),i=n;this.dom.itemDesktop[n].container.classList.contains(this._classes.notCategory);)if((n=loopIndex(n+t,this._slideLength))==i){n=this._index.current;break}n==this._index.current?this._isRunning=!1:this._hideOldSlider(n)}},{key:"_hideOldSlider",value:function(e){var t;1==this._way?(r.a.set(this.dom.itemDesktop[e].container,{zIndex:3}),t=r.a.timeline(),r.a.set(this.dom.itemDesktop[this._index.current].title,{perspective:400}),t.to(this.dom.itemDesktop[this._index.current].container,{duration:.7,height:0,ease:"power2.in"},.2).to(this.dom.itemDesktop[this._index.current].content,{duration:.7,opacity:0,ease:"power2.in"},0).to(this.dom.itemDesktop[this._index.current].title.querySelectorAll(".lineChild"),{duration:.7,y:"-100%",ease:"power2.in",stagger:.05},0).fromTo(this.dom.itemDesktop[this._index.current].background,{y:0},{y:-200,duration:.8,ease:"power2.in"},.1)):(r.a.set(this.dom.itemDesktop[e].container,{zIndex:10,height:"0vh"}),t=r.a.timeline(),r.a.set(this.dom.itemDesktop[this._index.current].title,{perspective:400}),t.to(this.dom.itemDesktop[e].container,{duration:.7,height:"100vh",ease:"power2.in"},.2).to(this.dom.itemDesktop[this._index.current].content,{duration:.7,opacity:0,ease:"power2.in"},0).to(this.dom.itemDesktop[this._index.current].title.querySelectorAll(".lineChild"),{duration:.7,y:"-100%",ease:"power2.in",stagger:.05},0).fromTo(this.dom.itemDesktop[this._index.current].background,{y:0},{y:200,duration:.8,ease:"power2.in"},.1)),this._showNextSlider(e)}},{key:"_showNextSlider",value:function(e){var t;this._updateProgress(e/(this._slideLength-1)),1==this._way?(t=r.a.timeline({onComplete:this._endAnimShowSlider.bind(this),onCompleteParams:[e]}),r.a.set(this.dom.itemDesktop[e].title,{perspective:400}),t.fromTo(this.dom.itemDesktop[e].title.querySelectorAll(".lineChild"),{y:"100%"},{duration:.9,y:"0%",ease:"power2.out",stagger:.1},1).fromTo(this.dom.itemDesktop[e].content,{opacity:0,y:50},{duration:.9,y:0,opacity:1,ease:"power2.out"},1.2).fromTo(this.dom.itemDesktop[e].background,{scale:1.1,y:300},{duration:1,scale:1,y:0,ease:"power2.out"},.4)):(t=r.a.timeline({onComplete:this._endAnimShowSlider.bind(this),onCompleteParams:[e]}),r.a.set(this.dom.itemDesktop[e].title,{perspective:400}),t.fromTo(this.dom.itemDesktop[e].title.querySelectorAll(".lineChild"),{y:"100%"},{duration:.9,y:"0%",ease:"power2.out",stagger:.1},1).fromTo(this.dom.itemDesktop[e].content,{opacity:0,y:50},{duration:.9,y:0,opacity:1,ease:"power2.out"},1.2).fromTo(this.dom.itemDesktop[e].background,{scale:1.1,y:-300},{duration:1,scale:1,y:0,ease:"power2.out"},.4))}},{key:"_endAnimShowSlider",value:function(e){r.a.set(this.dom.itemDesktop[this._index.current].container,{duration:0,height:"100vh",zIndex:1}),r.a.set(this.dom.itemDesktop[e].container,{zIndex:5}),this._index.current=e,this._way=null,this._isRunning=!1}},{key:"_initSlider",value:function(){var e=this;this.isInstance||(this.isInstance=!0,this.Swiper=new i.f(this.dom.slider,{modules:[i.d,i.a],speed:600,slidesPerView:"auto",fadeEffect:{crossFade:!0},navigation:{nextEl:this.dom.next,prevEl:this.dom.prev},autoplay:{delay:5e3},on:{init:function(e){e.autoplay.stop()},slideChange:function(t){e._jumpProgress(t.activeIndex)},transitionEnd:function(t){e._jumpProgress(t.activeIndex)},touchMove:function(t){e._updateProgress(t.progress)}}}))}},{key:"_jumpProgress",value:function(e){e=e/(this._countFiltered()-1)*100,this._updateBarStyle(e)}},{key:"_updateProgress",value:function(e){this._updateBarStyle(100*e)}},{key:"_updateBarStyle",value:function(e){this.dom.progress.style.width=this._clamp(e,0,100)+"%"}},{key:"_initSnap",value:function(){var e=this,t=r.a.fromTo(this.dom.component,{"clip-path":this._getWidth()<1024?"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)":"polygon(25% 25%, 80% 25%, 80% 80%, 25% 80%)"},{"clip-path":"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",ease:"none",paused:!0}),n=r.a.quickTo(t,"progress",{ease:"power3",duration:.2});r.a.to(t,{ease:"none",scrollTrigger:{scrub:!0,trigger:this.dom.component,start:"top bottom",end:"bottom bottom",onUpdate:function(e){return n(e.progress)}}}),C.a.create({trigger:this.dom.component,start:"top top",end:"bottom +=10",pin:this.dom.component,onToggle:function(t){t.isActive&&(e.SS.paused(!0),e._scrollPaused=!0,e.showUiPin()),0==t.isActive&&-1==t.direction&&e.hideUiPin()},onEnter:function(t){setTimeout((function(){e._isRunning=!1}),1e3)},onLeaveBack:function(t){setTimeout((function(){e._isRunning=!0}),1e3)}}),this.dom.component.addEventListener("wheel",(function(t){var n;1!=e._secureDelay&&1!=e._isRunning&&0!=e._scrollPaused&&(e._secureDelay=!0,n=e.dom.component.querySelectorAll(".js-item-desktop:not(.not-category)"),setTimeout((function(){e._secureDelay=!1}),1e3),e._index.current==n[n.length-1].getAttribute("data-index")&&1<t.deltaY||e._index.current==n[0].getAttribute("data-index")&&t.deltaY<-1?(e.SS.paused(!1),e._scrollPaused=!1):e._scrollPaused&&(t.deltaY<-1&&0==e._isRunning?e._clickBtnPrev():1<t.deltaY&&0==e._isRunning&&e._clickBtnNext()))}))}},{key:"showUiPin",value:function(){var e=this;this.dom.component.classList.add("is-pinned"),setTimeout((function(){e.dom.component.classList.add("is-clean")}),1e3)}},{key:"hideUiPin",value:function(){var e=this;this.dom.component.classList.remove("is-clean"),setTimeout((function(){e.dom.component.classList.remove("is-pinned")}),100)}},{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"preventDefaultForScrollKeys",value:function(e){}},{key:"disableScroll",value:function(){window.addEventListener("DOMMouseScroll",this.preventDefault,!1),window.addEventListener(this.wheelEvent,this.preventDefault,this.wheelOpt),window.addEventListener("touchmove",this.preventDefault,this.wheelOpt),window.addEventListener("keydown",this.preventDefaultForScrollKeys,!1)}},{key:"enableScroll",value:function(){window.removeEventListener("DOMMouseScroll",this.preventDefault,!1),window.removeEventListener(this.wheelEvent,this.preventDefault,this.wheelOpt),window.removeEventListener("touchmove",this.preventDefault,this.wheelOpt),window.removeEventListener("keydown",this.preventDefaultForScrollKeys,!1)}},{key:"_filtering",value:function(e){var t=this,n=e.currentTarget.dataset.categoryId;this.dom.labelCategory.innerHTML=e.currentTarget.innerHTML,"all"==n?this.dom.item.forEach((function(e,n){e.classList.remove(t._classes.notCategory),t.dom.itemDesktop[n].container.classList.remove(t._classes.notCategory)})):this.dom.item.forEach((function(e,i){e.getAttribute("data-category")!=n?(e.classList.add(t._classes.notCategory),t.dom.itemDesktop[i].container.classList.add(t._classes.notCategory)):(e.classList.remove(t._classes.notCategory),t.dom.itemDesktop[i].container.classList.remove(t._classes.notCategory))})),this._resetSliderDesktop(),this._getWidth()<1024&&(this.Swiper.updateSlides(),this.Swiper.slideTo(0,0))}},{key:"_resetSliderDesktop",value:function(){this._slideLength=0,this._isRunning=!1;var e=null;if(this.dom.itemDesktop){for(var t=0,n=this.dom.itemDesktop.length;t<n;t++){var i=this.dom.itemDesktop[t];r.a.set([i.container,i.background,i.title,i.content],{clearProps:"all"}),i.container.classList.contains(this._classes.notCategory)||(this._slideLength++,null===e&&(e=t))}null!==e&&(this._index.current=e,r.a.set(this.dom.itemDesktop[e].container,{zIndex:2}),r.a.set([this.dom.itemDesktop[e].title,this.dom.itemDesktop[e].content],{y:0,autoAlpha:1}),r.a.set(this.dom.itemDesktop[e].title.querySelectorAll(".lineChild"),{y:0}),r.a.set(this.dom.itemDesktop[e].background,{autoAlpha:1,filter:"blur(0px)"}),this._updateProgress(0)),1==this._slideLength?(this.dom.prev.classList.add(this._classes.buttonDisabled),this.dom.next.classList.add(this._classes.buttonDisabled)):(this.dom.prev.classList.remove(this._classes.buttonDisabled),this.dom.next.classList.remove(this._classes.buttonDisabled))}}},{key:"_countFiltered",value:function(){var e=this,t=0;return this.dom.item.forEach((function(n){n.classList.contains(e._classes.notCategory)||t++})),t}},{key:"_clamp",value:function(e,t,n){return Math.min(Math.max(e,t),n)}},{key:"resize",value:function(){W(X(o.prototype),"resize",this).call(this),this.SS.paused(!1),this._getWidth()<1024&&!this.isInstance?(this.SS.paused(!1),this._initSlider()):1024<this._getWidth()&&this.isInstance&&(this.SS.scrollTo(0),this.Swiper.destroy(),this.isInstance=!1,this.dom.prev.removeAttribute("disabled"),this.dom.next.removeAttribute("disabled"),this._updateProgress(0))}},{key:"_setAutoPlayDesktop",value:function(){var e=this;this._intSliderDesktop=setInterval((function(){e._clickBtnNext(),e.dom.next.classList.add("fake-click"),setTimeout((function(){e.dom.next.classList.remove("fake-click")}),500)}),5e3)}}])&&V(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.a)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var i=n(0),r=n(27),o=n(26),a=n(31),s=(t=i.Rb.meshphong_frag.slice(0,i.Rb.meshphong_frag.indexOf("void main() {")),n=i.Rb.meshphong_frag.slice(i.Rb.meshphong_frag.indexOf("void main() {")),{uniforms:i.jc.merge([i.Sb.phong.uniforms,{thicknessColor:{value:new i.q(8421504)},thicknessDistortion:{value:.1},thicknessAmbient:{value:0},thicknessAttenuation:{value:.1},thicknessPower:{value:2},thicknessScale:{value:10}}]),vertexShader:"\n      #define USE_UV\n      ".concat(i.Rb.meshphong_vert,"\n    "),fragmentShader:"\n      #define USE_UV\n      #define SUBSURFACE\n  \n      ".concat(t,"\n  \n      uniform float thicknessPower;\n      uniform float thicknessScale;\n      uniform float thicknessDistortion;\n      uniform float thicknessAmbient;\n      uniform float thicknessAttenuation;\n      uniform vec3 thicknessColor;\n  \n      void RE_Direct_Scattering(const in IncidentLight directLight, const in vec2 uv, const in GeometricContext geometry, inout ReflectedLight reflectedLight) {\n        #ifdef USE_COLOR\n          vec3 thickness = vColor * thicknessColor;\n        #else\n          vec3 thickness = thicknessColor;\n        #endif\n        vec3 scatteringHalf = normalize(directLight.direction + (geometry.normal * thicknessDistortion));\n        float scatteringDot = pow(saturate(dot(geometry.viewDir, -scatteringHalf)), thicknessPower) * thicknessScale;\n        vec3 scatteringIllu = (scatteringDot + thicknessAmbient) * thickness;\n        reflectedLight.directDiffuse += scatteringIllu * thicknessAttenuation * directLight.color;\n      }\n    ")+n.replace("#include <lights_fragment_begin>",(t=i.Rb.lights_fragment_begin,n="RE_Direct( directLight, geometry, material, reflectedLight );","\n          RE_Direct( directLight, geometry, material, reflectedLight );\n          #if defined( SUBSURFACE ) && defined( USE_UV )\n            RE_Direct_Scattering(directLight, vUv, geometry, reflectedLight);\n          #endif\n        ",t.split(n).join("\n          RE_Direct( directLight, geometry, material, reflectedLight );\n          #if defined( SUBSURFACE ) && defined( USE_UV )\n            RE_Direct_Scattering(directLight, vUv, geometry, reflectedLight);\n          #endif\n        ")))});function l(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)),i}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){var i,r;i=e,r=n[t=t],t in i?Object.defineProperty(i,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[t]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var h=i.ib.randFloat,d=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var r=t.color,o=t.points,a=t.tubularSegments,l=t.radius;t=t.target,(t=(this.config=n,this.points=o,this.tubularSegments=a,this.radius=l,this.radialSegments=10,this.target=t,this.attraction=h(.01,.05),this.vlimit=h(.25,.5),this.velocity=new i.oc,this.curve=new i.m(o),this.curve.getPoint=function(e,t){return e*=n.tcoef,i.m.prototype.getPoint.call(this,e,t)},i.jc.clone(s.uniforms))).diffuse.value.set(r),this.material=new i.Tb(u(u({},s),{},{lights:!0,uniforms:t})),this.geometry=new i.hc(this.curve,a,l,this.radialSegments,!1),this.mesh=new i.kb(this.geometry,this.material),this.mesh.frustumCulled=!1,o=new i.Xb(1,16,16);this.sphere1=new i.kb(o,this.material),this.sphere2=new i.kb(o,this.material),this.o3d=new i.yb,this.o3d.add(this.mesh),this.o3d.add(this.sphere1),this.o3d.add(this.sphere2)}var t,n;return t=e,(n=[{key:"animate",value:function(){for(var e=this.points.length-1;0<e;e--)this.points[e].copy(this.points[e-1]);var t=this.attraction*(.2+.75*this.config.tcoef),n=this.vlimit*(.5+.5*this.config.tcoef),i=this.target.clone().sub(this.points[0]);i.normalize(),this.velocity.add(i.multiplyScalar(t)),this.velocity.clampScalar(-n,n),this.points[0].add(this.velocity),this.update()}},{key:"update",value:function(){this._radius=this.radius+5*this.radius*(1-this.config.tcoef),0===this.config.tcoef?(this.mesh.visible=!1,this.sphere2.visible=!1):(this.mesh.visible=!0,this.sphere2.visible=!0),this.sphere1.scale.set(this._radius,this._radius,this._radius),this.sphere2.scale.set(this._radius,this._radius,this._radius),this.sphere1.position.copy(this.curve.getPoint(0)),this.sphere2.position.copy(this.curve.getPoint(1)),this.frames=this.curve.computeFrenetFrames(this.tubularSegments,!1),this.geometry.tangents=frames.tangents,this.geometry.normals=frames.normals,this.geometry.binormals=frames.binormals,this.pArray=this.geometry.attributes.position.array,this.nArray=this.geometry.attributes.normal.array,this.P=new i.oc,this.normal=new i.oc;for(var e=0;e<=this.tubularSegments;e++)this.updateSegment(e);this.geometry.attributes.position.needsUpdate=!0,this.geometry.attributes.normal.needsUpdate=!0}},{key:"updateSegment",value:function(e){this.P=this.curve.getPointAt(e/this.tubularSegments,this.P);for(var t=this.frames.normals[e],n=this.frames.binormals[e],i=0;i<=this.radialSegments;i++){var r=i/this.radialSegments*Math.PI*2,o=Math.sin(r);r=-Math.cos(r),r=(this.normal.x=r*t.x+o*n.x,this.normal.y=r*t.y+o*n.y,this.normal.z=r*t.z+o*n.z,this.normal.normalize(),3*(e*(this.radialSegments+1)+i));this.nArray[r]=this.normal.x,this.nArray[1+r]=this.normal.y,this.nArray[2+r]=this.normal.z,this.pArray[r]=this.P.x+this._radius*this.normal.x,this.pArray[1+r]=this.P.y+this._radius*this.normal.y,this.pArray[2+r]=this.P.z+this._radius*this.normal.z}}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var m=(t=i.ib).randInt,v=t.randFloat,g=t.randFloatSpread,y=function(){function e(t,n,r,a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");p(this,"_config",{count:50,lightColor:8434414,lightIntensity:1,bloomThreshold:0,bloomStrength:2,bloomRadius:0}),p(this,"tubesConfig",{tcoef:1,tcoefTarget:1}),p(this,"mousePlane",new i.Bb(new i.oc(0,0,1),0)),p(this,"mousePosition",new i.oc),p(this,"raycaster",new i.Nb),p(this,"target",new i.oc),this.managerExperience=new o.a,this.debug=this.managerExperience.debug,this.scene=t,this.pointer=n,this.camera=r,this.renderer=a,this._init(),this._bind()}var t,n;return t=e,(n=[{key:"_init",value:function(){this.clock=new i.p,this.targetLightColor=new i.q(this._config.lightColor),this.colorScale=new r.a([16777215*Math.random(),16777215*Math.random()]),this.initScene(),this.initPointLight(),this.initRenderer(),this.initTubes()}},{key:"initScene",value:function(){this.scene.background=new i.q(0)}},{key:"initRenderer",value:function(){var e;this.renderer.effectComposerActivate&&(e=new a.d(this.camera.instance,this.pointLightMesh,{density:1.288,decay:.92,weight:.15}),this.renderer.addEffectPass({name:"godRaysEffect",core:e}),e=new a.a({luminanceThreshold:.38,luminanceSmoothing:.1,intensity:1.5}),this.renderer.addEffectPass({name:"bloomEffect",core:e}),e=new a.f,this.renderer.addEffectPass({name:"smaaEffect",core:e}))}},{key:"initUniforms",value:function(){this.uTime={value:0},this.uColor={value:new i.q(this._config.color)},this.uNoiseCoordScale={value:this._config.noiseCoordScale},this.uBokehStrength={value:.5},this.uBokehBlurLength={value:50},this.uFocalDistance={value:34},this.uDistanceAttenuation={value:30},this.uNoiseOffsets={value:new i.oc(1.5,0,0)}}},{key:"initPointsCircle",value:function(){this.circles=this.circlesPositions(this._config.circles,this._config.radius),this.countPointCircle=this.circles.positions.length,this.countCircle=this._config.circles;for(var e=new Float32Array(3*this.countPointCircle),t=new Float32Array(3*this.countPointCircle).fill(1),n=0;n<this.countPointCircle;n++)this.circles.positions[n].toArray(e,3*n);this.geometryCircle=new i.k,this.geometryCircle.setAttribute("position",new i.j(e,3)),this.geometryCircle.setAttribute("color",new i.j(t,3)),this.uniformsCircle={uTime:this.uTime,uColor:this.uColor,uNoiseCoordScale:this.uNoiseCoordScale,uBokehStrength:this.uBokehStrength,uBokehBlurLength:this.uBokehBlurLength,uFocalDistance:this.uFocalDistance,uDistanceAttenuation:this.uDistanceAttenuation,uNoiseOffsets:this.uNoiseOffsets},this.materialCircle=new i.Tb({side:i.y,depthTest:!1,transparent:!0,blending:i.a,vertexColors:!0,uniforms:this.uniformsCircle,vertexShader:circleVertexShader,fragmentShader:circleFragmentShader}),this.pointsCircle=new i.Eb(this.geometryCircle,this.materialCircle),this.scene.add(this.pointsCircle)}},{key:"initPointLight",value:function(){var e;this.pointLight=new i.Db(this._config.lightColor,this._config.lightIntensity),this.pointLight.position.set(0,0,0),this.scene.add(this.pointLight),this.pointLightGeometry=new i.Yb(.6,16,16),this.pointLightMaterial=new i.lb({color:this._config.lightColor}),this.pointLightMesh=new i.kb(this.pointLightGeometry,this.pointLightMaterial),this.pointLightMesh.frustumCulled=!1,(e=((e=((e=((e=new i.Db(56575,1.5)).position.set(window.innerWidth/4,window.innerHeight/4,-2),this.scene.add(e),new i.Db(24831,2))).position.set(-window.innerWidth/4,-window.innerHeight/4,-2),this.scene.add(e),new i.Db(56575,1.5))).position.set(-window.innerWidth/4,window.innerHeight/4,-2),this.scene.add(e),new i.Db(24831,2))).position.set(window.innerWidth/4,-window.innerHeight/4,-2),this.scene.add(e)}},{key:"initTubes",value:function(){this.trails=[];for(var e=0;e<this._config.count;e++){for(var t=[],n=m(5,30),r=new i.oc(g(100),g(100),g(100)),o=0;o<n;o++)t.push(new i.oc(r.x,r.y,r.z-2*o));var a=new d({target:this.target,points:t,tubularSegments:t.length-1,radius:v(.1,.5),color:0},this.tubesConfig);this.scene.add(a.o3d),this.trails.push(a)}}},{key:"_bind",value:function(){}},{key:"update",value:function(){this.target.copy(this.mousePosition),this.pointLight.position.copy(this.target),this.pointLightMesh.position.copy(this.target),this.pointLightMesh.updateMatrix();for(var e=0;e<this._config.count;e++)this.trails[e].animate()}},{key:"circlesPositions",value:function(e,t){for(var n=[],r=new i.oc,o=0,a=[],s=0;s<e;s++)for(var l=(s+1)/e*t+v(.1,.75),u=(a.push(l),2*Math.PI*l),c=Math.round(u/.075),h=0;h<c;h++){var d=2*Math.PI*h/c,f=Math.cos(d)*l;d=Math.sin(d)*l,f=(r.set(f,d,0),r.clone());n[o++]=f}return{positions:n,radiuses:a}}},{key:"onMove",value:function(e){this.raycaster.setFromCamera(e.nPosition,this.camera.instance),this.camera.instance.getWorldDirection(this.mousePlane.normal),this.raycaster.ray.intersectPlane(this.mousePlane,this.mousePosition)}},{key:"onLeave",value:function(e){this.mousePosition.set(0,0,0)}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));t=n(17);var i=(n(19),n(2)),r=n(24);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}i.a.registerPlugin(r.a);var a=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.dom={},this.dom.video=t,this.dom.end=n,this._init()}var t,n;return t=e,(n=[{key:"_init",value:function(){r.a.create({trigger:this.dom.video,start:"top 0%",endTrigger:this.dom.end,end:"bottom 100%",scrub:!0,pin:!0})}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);n=t?(n=f(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this;if(n&&("object"===s(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return d(i)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e);var n=h(i);function i(){var e=this,t=i;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var r,o,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t=d(e=n.call.apply(n,[this].concat(s))),r="experienceWebGL",o={"homepage-hero":{domParent:document.querySelector(".ct--hero-1"),canvas:"js-canvas-webgl",renderer:{config:{powerPreference:"high-performance",antialias:!1}},camera:{type:"OrthographicCamera",dampingFactor:.1,instancePCData:{fov:100,position:{x:0,y:0,z:25}}}},"homepage-mobility":{domParent:document.querySelector(".js-homepage-mobility"),canvas:"js-homepage-mobility-canvas-webgl",renderer:{config:{powerPreference:"high-performance",antialias:!0}},camera:{fov:60,near:1,far:1e4,position:{x:100,y:200,z:300},dampingFactor:.05}}},r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,e._retrieveDOM(),e._initTls(),e}return t=i,(e=[{key:"_retrieveDOM",value:function(){this.dom.video=this.dom.component.querySelector(".js-fixed-video"),this.dom.end=this.dom.component.querySelector(".ct--homepage-strate-1"),this.dom.video2=this.dom.component.querySelector(".js-fixed-video-strate-4"),this.dom.end2=this.dom.component.querySelector(".ct--homepage-strate-5")}},{key:"init",value:function(){u(f(i.prototype),"init",this).call(this),new a(this.dom.video,this.dom.end),new a(this.dom.video2,this.dom.end2)}}])&&l(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),i}(t.b)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var i=n(0),r=(t=n(2),n(22)),o=n(27),a=n(26),s=n(95),l=[{name:"globeMap",type:"image",path:MEDIAS+"earthspec1k.jpg"}],u=n(281),c=n.n(u),h=(u=n(282),n.n(u)),d=(u=n(283),n.n(u)),f=(u=n(284),n.n(u));function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}t.a.registerPlugin(r.a);var v=(n=i.ib).randFloat,g=n.randFloatSpread,y=(n.lerp,function(){function e(t,n,r,o){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");m(this,"_classes",{}),m(this,"currentScroll",0),m(this,"canvas",{posY:0,height:0}),m(this,"_config",{gpgpuSize:128,color:16777215,color2:37119,colors:[128,37119],noiseCoordScale:.05,noiseTimeScale:1.5}),m(this,"noiseOffsetsTarget",new i.oc),m(this,"rotationDY",2),this.managerExperience=new a.a,this.debug=this.managerExperience.debug,this.scene=t,this.pointer=n,this.camera=r,this.resources=new s.a(l),this._retrieveDOM(),this._init(),this._bind()}var t,n;return t=e,(n=[{key:"_retrieveDOM",value:function(){this.dom={}}},{key:"_init",value:function(){this.clock=new i.p,this.initCamera(),this.initUniforms(),this.initRaycaster()}},{key:"initCamera",value:function(){}},{key:"initUniforms",value:function(){this.uTime={value:0},this.uColor={value:new i.q(this._config.color)},this.uNoiseCoordScale={value:this._config.noiseCoordScale},this.uBokehStrength={value:.1},this.uBokehBlurLength={value:50},this.uFocalDistance={value:15},this.utargetProgress={value:1},this.uDistanceAttenuation={value:.1},this.uOpacity={value:1},this.uMouse={value:new i.oc(0,0,0)},this.uNoiseOffsets={value:new i.oc(0,0,0)}}},{key:"initRaycaster",value:function(){this.raycaster=new i.Nb,this.raycastSphere=new i.kb(new i.Yb(10),new i.lb({color:"#ff0000"}))}},{key:"_bind",value:function(){this.resources.on("__class_resource_loaded",this._sourcesLoaded.bind(this))}},{key:"_sourcesLoaded",value:function(){this.initWorld(),this.initParticles()}},{key:"initWorld",value:function(){this._createWorldPoints(),this._debugWorld()}},{key:"_createWorldPoints",value:function(){this.pointsPositionWorld=this.getCountriesPoints(1e5,10),this.totalPoints=this.pointsPositionWorld.length,this.pointsPositionRandom=this.randomPositions(this.totalPoints,100),this.colorScale=new o.a(this._config.colors),this.positionsWorld=new Float32Array(3*this.totalPoints),this.positionsRandom=new Float32Array(3*this.totalPoints),this.colors=new Float32Array(3*this.totalPoints).fill(1),this.scales=new Float32Array(this.totalPoints).fill(1).map((function(){return v(.5,1)}));for(var e=0;e<this.totalPoints;e++){this.pointsPositionWorld[e].toArray(this.positionsWorld,3*e),this.colorScale.getColorAt(Math.random()).toArray(this.colors,3*e);var t=this.pointsPositionRandom[e].x-this.pointsPositionWorld[e].x,n=this.pointsPositionRandom[e].y-this.pointsPositionWorld[e].y,r=this.pointsPositionRandom[e].z-this.pointsPositionWorld[e].z;t=this.pointsPositionRandom[e].x-.99*t,n=this.pointsPositionRandom[e].y-.99*n,r=this.pointsPositionRandom[e].z-.99*r;this.positionsRandom[3*e]=t,this.positionsRandom[3*e+1]=n,this.positionsRandom[3*e+2]=r}this.geometryWorld=new i.k,this.geometryWorld.setAttribute("position",new i.j(this.positionsWorld,3)),this.geometryWorld.setAttribute("color",new i.j(this.colors,3)),this.geometryWorld.setAttribute("aPositionRandom",new i.j(this.positionsRandom,3)),this.uniformsWorld={uColor:this.uColor,uBokehStrength:this.uBokehStrength,uFocalDistance:this.uFocalDistance,uDistanceAttenuation:this.uDistanceAttenuation,utargetProgress:this.utargetProgress,uOpacity:this.uOpacity,uBokehBlurLength:this.uBokehBlurLength,uMouse:this.uMouse,uNoiseOffsets:this.uNoiseOffsets},this.materialWorld=new i.Tb({depthTest:!1,transparent:!0,blending:i.a,vertexColors:!0,uniforms:this.uniformsWorld,vertexShader:c.a,fragmentShader:h.a}),this.pointsWorld=new i.Eb(this.geometryWorld,this.materialWorld),this.scene.add(this.pointsWorld)}},{key:"_debugWorld",value:function(){var e=this;this.debug.active&&(this.debugFolder=this.debug.ui.addFolder("HERO"),this.debugFolder.add(this.materialWorld.uniforms.uOpacity,"value").name("Opacity Globe").min(0).max(1).step(.01),this.debugFolder.add(this.materialWorld.uniforms.uFocalDistance,"value").name("Distance focal Globe").min(0).max(100).step(.01),this.debugFolder.add(this.materialWorld.uniforms.uBokehStrength,"value").name("Luminosité").min(0).max(1).step(.001),this.debugFolder.addColor(this._config,"color").name("color").onChange((function(){e.materialWorld.uniforms.uColor.value.set(e._config.color)})),this.debugFolder.addColor(this._config,"color2").name("color-2").onChange((function(){e._config.colors[1]=e._config.color2,e.colorScale=new o.a(e._config.colors);for(var t=0;t<e.totalPoints;t++)e.colorScale.getColorAt(Math.random()).toArray(e.pointsWorld.geometry.attributes.color.array,3*t);e.pointsWorld.geometry.attributes.color.needsUpdate=!0})))}},{key:"setCanvasData",value:function(e,t){this.canvas.posY=e,this.canvas.height=t}},{key:"initParticles",value:function(){this._createParticlePoints(),this._debugParticle()}},{key:"_createParticlePoints",value:function(){this.randoms=new Float32Array(3*this.totalPoints).fill(0).map((function(){return v(.2,1.5)})),this.geometryParticle=new i.k,this.geometryParticle.setAttribute("position",new i.j(this.positionsWorld,3)),this.geometryParticle.setAttribute("color",new i.j(this.colors,3)),this.geometryParticle.setAttribute("aRandom",new i.j(this.randoms,3)),this.uniformsParticle={uTime:this.uTime,uColor:this.uColor,uBokehStrength:this.uBokehStrength,uBokehBlurLength:this.uBokehBlurLength,uFocalDistance:this.uFocalDistance,uDistanceAttenuation:this.uDistanceAttenuation,utargetProgress:this.utargetProgress,uSpeed:{value:1},uElevation:{value:1}},this.materialParticle=new i.Tb({depthTest:!1,transparent:!0,blending:i.a,vertexColors:!0,uniforms:this.uniformsParticle,vertexShader:d.a,fragmentShader:f.a}),this.pointsParticle=new i.Eb(this.geometryParticle,this.materialParticle),this.scene.add(this.pointsParticle)}},{key:"_debugParticle",value:function(){this.debug.active&&(this.debugFolder.add(this.materialParticle.uniforms.uSpeed,"value").name("Speed Particle").min(0).max(5).step(.01),this.debugFolder.add(this.materialParticle.uniforms.uElevation,"value").name("Elevation Particle").min(0).max(5).step(.001))}},{key:"onMove",value:function(e){this.rotationDY=2*this.pointer.nPosition.x,this.raycaster.setFromCamera(e.nPosition,this.camera.instance),(e=this.raycaster.intersectObject(this.raycastSphere)).length&&this.uMouse.value.copy(e[0].point)}},{key:"onLeave",value:function(e){this.rotationDY=2,this.uMouse.value.set(0,0,0)}},{key:"update",value:function(){this.uTime.value=this.clock.getElapsedTime()*this._config.noiseTimeScale,void 0!==this.pointsWorld&&(this.pointsWorld.rotation.y=-.01*this.uTime.value*Math.PI*2,this.pointsParticle.rotation.y=-.01*this.uTime.value*Math.PI*2)}},{key:"getCountriesPoints",value:function(e,t){var n=this,i=(e=this.getFibonacciSpherePoints(e,t,!1),[]),r=(t=document.createElement("canvas")).getContext("2d"),o=this.resources.items.globeMap,a=(t.width=o.width,t.height=o.height,r.drawImage(o,0,0),r.getImageData(0,0,o.width,o.height));return e.forEach((function(e){var t=((r=n.vector3toLonLat(e))[0]+Math.PI)/(2*Math.PI)*o.width,r=(-r[1]+Math.PI/2)/Math.PI*o.height;r=4*(Math.floor(r)*o.width+Math.floor(t));a.data[r]<64&&i.push(e)})),i}},{key:"getFibonacciSpherePoints",value:function(e,t,n){e=e||1,t=t||1;for(var r=1,o=((n=n||!0)&&(r=Math.random()*e),[]),a=2/e,s=Math.PI*(3-Math.sqrt(5)),l=0;l<e;l++){var u=l*a-1+a/2,c=Math.sqrt(1-Math.pow(u,2)),h=(l+r)%e*s,d=Math.cos(h)*c;h=Math.sin(h)*c,c=(d*=t,u*=t,h*=t,new i.oc(d,u,h));o.push(c)}return o}},{key:"vector3toLonLat",value:function(e){e=e.clone().normalize();var t=-Math.atan2(-e.z,-e.x)-Math.PI/2,n=((n=(t<-Math.PI&&(t+=2*Math.PI),new i.oc(e.x,0,e.z))).normalize(),Math.acos(n.dot(e)));return e.y<0&&(n*=-1),[t,n]}},{key:"randomPositions",value:function(e,t){for(var n=new Array(e),r=new i.oc,o=0;o<e;o++)r.set(g(t),g(t),g(t)),n[o]=r.clone();return n}},{key:"scroll",value:function(e){this.currentScroll=e}},{key:"resize",value:function(e,t){this.canvas.posY=e,this.canvas.height=t}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var i=n(0),r=(t=n(2),n(22)),o=n(27),a=n(26),s=n(95),l=[{name:"globeMap",type:"image",path:MEDIAS+"earthspec1k.jpg"}],u=n(277),c=n.n(u),h=(u=n(278),n.n(u)),d=(u=n(279),n.n(u)),f=(u=n(280),n.n(u));function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}t.a.registerPlugin(r.a);var v=(n=i.ib).randFloat,g=n.randFloatSpread,y=(n.lerp,function(){function e(t,n,r,o){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");m(this,"_classes",{}),m(this,"currentScroll",0),m(this,"canvas",{posY:0,height:0}),m(this,"_config",{gpgpuSize:128,color:16777215,color2:37119,colors:[128,37119],noiseCoordScale:.05,noiseTimeScale:1.5}),m(this,"noiseOffsetsTarget",new i.oc),m(this,"rotationDY",2),this.managerExperience=new a.a,this.debug=this.managerExperience.debug,this.scene=t,this.pointer=n,this.camera=r,this.resources=new s.a(l),this._retrieveDOM(),this._init(),this._bind()}var t,n;return t=e,(n=[{key:"_retrieveDOM",value:function(){this.dom={}}},{key:"_init",value:function(){this.clock=new i.p,this.initCamera(),this.initUniforms(),this.initRaycaster()}},{key:"initCamera",value:function(){}},{key:"initUniforms",value:function(){this.uTime={value:0},this.uColor={value:new i.q(this._config.color)},this.uNoiseCoordScale={value:this._config.noiseCoordScale},this.uBokehStrength={value:.1},this.uBokehBlurLength={value:50},this.uFocalDistance={value:15},this.utargetProgress={value:1},this.uDistanceAttenuation={value:.1},this.uOpacity={value:1},this.uMouse={value:new i.oc(0,0,0)},this.uNoiseOffsets={value:new i.oc(0,0,0)}}},{key:"initRaycaster",value:function(){this.raycaster=new i.Nb,this.raycastSphere=new i.kb(new i.Yb(10),new i.lb({color:"#ff0000"}))}},{key:"_bind",value:function(){this.resources.on("__class_resource_loaded",this._sourcesLoaded.bind(this))}},{key:"_sourcesLoaded",value:function(){this.initWorld(),this.initParticles()}},{key:"initWorld",value:function(){this._createWorldPoints(),this._debugWorld()}},{key:"_createWorldPoints",value:function(){this.pointsPositionWorld=this.getCountriesPoints(1e5,10),this.totalPoints=this.pointsPositionWorld.length,this.pointsPositionRandom=this.randomPositions(this.totalPoints,100),this.colorScale=new o.a(this._config.colors),this.positionsWorld=new Float32Array(3*this.totalPoints),this.positionsRandom=new Float32Array(3*this.totalPoints),this.colors=new Float32Array(3*this.totalPoints).fill(1),this.scales=new Float32Array(this.totalPoints).fill(1).map((function(){return v(.5,1)}));for(var e=0;e<this.totalPoints;e++){this.pointsPositionWorld[e].toArray(this.positionsWorld,3*e),this.colorScale.getColorAt(Math.random()).toArray(this.colors,3*e);var t=this.pointsPositionRandom[e].x-this.pointsPositionWorld[e].x,n=this.pointsPositionRandom[e].y-this.pointsPositionWorld[e].y,r=this.pointsPositionRandom[e].z-this.pointsPositionWorld[e].z;t=this.pointsPositionRandom[e].x-.99*t,n=this.pointsPositionRandom[e].y-.99*n,r=this.pointsPositionRandom[e].z-.99*r;this.positionsRandom[3*e]=t,this.positionsRandom[3*e+1]=n,this.positionsRandom[3*e+2]=r}this.geometryWorld=new i.k,this.geometryWorld.setAttribute("position",new i.j(this.positionsWorld,3)),this.geometryWorld.setAttribute("color",new i.j(this.colors,3)),this.geometryWorld.setAttribute("aPositionRandom",new i.j(this.positionsRandom,3)),this.uniformsWorld={uColor:this.uColor,uBokehStrength:this.uBokehStrength,uFocalDistance:this.uFocalDistance,uDistanceAttenuation:this.uDistanceAttenuation,utargetProgress:this.utargetProgress,uOpacity:this.uOpacity,uBokehBlurLength:this.uBokehBlurLength,uMouse:this.uMouse,uNoiseOffsets:this.uNoiseOffsets},this.materialWorld=new i.Tb({depthTest:!1,transparent:!0,blending:i.a,vertexColors:!0,uniforms:this.uniformsWorld,vertexShader:c.a,fragmentShader:h.a}),this.pointsWorld=new i.Eb(this.geometryWorld,this.materialWorld),this.scene.add(this.pointsWorld)}},{key:"_debugWorld",value:function(){var e=this;this.debug.active&&(this.debugFolder=this.debug.ui.addFolder("HERO"),this.debugFolder.add(this.materialWorld.uniforms.uOpacity,"value").name("Opacity Globe").min(0).max(1).step(.01),this.debugFolder.add(this.materialWorld.uniforms.uFocalDistance,"value").name("Distance focal Globe").min(0).max(100).step(.01),this.debugFolder.add(this.materialWorld.uniforms.uBokehStrength,"value").name("Luminosité").min(0).max(1).step(.001),this.debugFolder.addColor(this._config,"color").name("color").onChange((function(){e.materialWorld.uniforms.uColor.value.set(e._config.color)})),this.debugFolder.addColor(this._config,"color2").name("color-2").onChange((function(){e._config.colors[1]=e._config.color2,e.colorScale=new o.a(e._config.colors);for(var t=0;t<e.totalPoints;t++)e.colorScale.getColorAt(Math.random()).toArray(e.pointsWorld.geometry.attributes.color.array,3*t);e.pointsWorld.geometry.attributes.color.needsUpdate=!0})))}},{key:"setCanvasData",value:function(e,t){this.canvas.posY=e,this.canvas.height=t}},{key:"initParticles",value:function(){this._createParticlePoints(),this._debugParticle()}},{key:"_createParticlePoints",value:function(){this.randoms=new Float32Array(3*this.totalPoints).fill(0).map((function(){return v(.2,1.5)})),this.geometryParticle=new i.k,this.geometryParticle.setAttribute("position",new i.j(this.positionsWorld,3)),this.geometryParticle.setAttribute("color",new i.j(this.colors,3)),this.geometryParticle.setAttribute("aRandom",new i.j(this.randoms,3)),this.uniformsParticle={uTime:this.uTime,uColor:this.uColor,uBokehStrength:this.uBokehStrength,uBokehBlurLength:this.uBokehBlurLength,uFocalDistance:this.uFocalDistance,uDistanceAttenuation:this.uDistanceAttenuation,utargetProgress:this.utargetProgress,uSpeed:{value:1},uElevation:{value:1}},this.materialParticle=new i.Tb({depthTest:!1,transparent:!0,blending:i.a,vertexColors:!0,uniforms:this.uniformsParticle,vertexShader:d.a,fragmentShader:f.a}),this.pointsParticle=new i.Eb(this.geometryParticle,this.materialParticle),this.scene.add(this.pointsParticle)}},{key:"_debugParticle",value:function(){this.debug.active&&(this.debugFolder.add(this.materialParticle.uniforms.uSpeed,"value").name("Speed Particle").min(0).max(5).step(.01),this.debugFolder.add(this.materialParticle.uniforms.uElevation,"value").name("Elevation Particle").min(0).max(5).step(.001))}},{key:"onMove",value:function(e){this.rotationDY=2*this.pointer.nPosition.x,this.raycaster.setFromCamera(e.nPosition,this.camera.instance),(e=this.raycaster.intersectObject(this.raycastSphere)).length&&this.uMouse.value.copy(e[0].point)}},{key:"onLeave",value:function(e){this.rotationDY=2,this.uMouse.value.set(0,0,0)}},{key:"update",value:function(){this.uTime.value=this.clock.getElapsedTime()*this._config.noiseTimeScale,void 0!==this.pointsWorld&&(this.pointsWorld.rotation.y=-.01*this.uTime.value*Math.PI*2,this.pointsParticle.rotation.y=-.01*this.uTime.value*Math.PI*2)}},{key:"getCountriesPoints",value:function(e,t){var n=this,i=(e=this.getFibonacciSpherePoints(e,t,!1),[]),r=(t=document.createElement("canvas")).getContext("2d"),o=this.resources.items.globeMap,a=(t.width=o.width,t.height=o.height,r.drawImage(o,0,0),r.getImageData(0,0,o.width,o.height));return e.forEach((function(e){var t=((r=n.vector3toLonLat(e))[0]+Math.PI)/(2*Math.PI)*o.width,r=(-r[1]+Math.PI/2)/Math.PI*o.height;r=4*(Math.floor(r)*o.width+Math.floor(t));a.data[r]<64&&i.push(e)})),i}},{key:"getFibonacciSpherePoints",value:function(e,t,n){e=e||1,t=t||1;for(var r=1,o=((n=n||!0)&&(r=Math.random()*e),[]),a=2/e,s=Math.PI*(3-Math.sqrt(5)),l=0;l<e;l++){var u=l*a-1+a/2,c=Math.sqrt(1-Math.pow(u,2)),h=(l+r)%e*s,d=Math.cos(h)*c;h=Math.sin(h)*c,c=(d*=t,u*=t,h*=t,new i.oc(d,u,h));o.push(c)}return o}},{key:"vector3toLonLat",value:function(e){e=e.clone().normalize();var t=-Math.atan2(-e.z,-e.x)-Math.PI/2,n=((n=(t<-Math.PI&&(t+=2*Math.PI),new i.oc(e.x,0,e.z))).normalize(),Math.acos(n.dot(e)));return e.y<0&&(n*=-1),[t,n]}},{key:"randomPositions",value:function(e,t){for(var n=new Array(e),r=new i.oc,o=0;o<e;o++)r.set(g(t),g(t),g(t)),n[o]=r.clone();return n}},{key:"scroll",value:function(e){this.currentScroll=e}},{key:"resize",value:function(e,t){this.canvas.posY=e,this.canvas.height=t}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(0),r=n(26),o=n(31);function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var l=(t=i.ib).randFloat,u=t.randFloatSpread,c=function(){function e(t,n,o,a,l,u){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");s(this,"_config",{lightColor:1928644,lightIntensity:1,bloomThreshold:0,bloomStrength:2,bloomRadius:0,attraction:.2,vlimit:.5,cameraZ:28,desktop:{count:500},mobile:{count:180}}),s(this,"progress",{current:0,target:0}),s(this,"instances",[]),s(this,"mousePlane",new i.Bb(new i.oc(0,0,1),0)),s(this,"mousePosition",new i.oc),s(this,"raycaster",new i.Nb),s(this,"target",new i.oc),s(this,"dummyO",new i.yb),s(this,"dummyV",new i.oc),s(this,"currentScroll",0),s(this,"canvas",{posY:0,height:0}),this.managerExperience=new r.a,this.debug=this.managerExperience.debug,this.scene=t,this.pointer=n,this.camera=o,this.renderer=a,this.domParent=l,this.device=u,this._init(),this._bind()}var t,n;return t=e,(n=[{key:"_init",value:function(){this.clock=new i.p,this.initScene(),this.initLight(),this.initSphere(),this.initRenderer(),this.debugHero()}},{key:"initScene",value:function(){this.scene.background=new i.q(1036)}},{key:"initLight",value:function(){this._createLight()}},{key:"_createLight",value:function(){this.pointLight=new i.Db(this._config.lightColor,this._config.lightIntensity),this.pointLight.position.set(0,0,0),this.scene.add(this.pointLight),this.materialSun=new i.lb({color:this._config.lightColor}),this.geometrySun=new i.Yb(.4,24,24),this.meshSun=new i.kb(this.geometrySun,this.materialSun),this.meshSun.scale.set(2,2,2),this.meshSun.frustumCulled=!1}},{key:"initSphere",value:function(){this._createSphere()}},{key:"_createSphere",value:function(){var e,t,n;this.geometrySphere=new i.Yb(1,16,16),this.materialSphere=(e=i.Rb.meshphong_frag.slice(0,i.Rb.meshphong_frag.indexOf("void main() {")),t=i.Rb.meshphong_frag.slice(i.Rb.meshphong_frag.indexOf("void main() {")),"RE_Direct( directLight, geometry, material, reflectedLight );","\n            RE_Direct( directLight, geometry, material, reflectedLight );\n            #if defined( SUBSURFACE ) && defined( USE_UV )\n              RE_Direct_Scattering(directLight, vUv, geometry, reflectedLight);\n            #endif\n        ",n=(n=i.Rb.lights_fragment_begin).split("RE_Direct( directLight, geometry, material, reflectedLight );").join("\n            RE_Direct( directLight, geometry, material, reflectedLight );\n            #if defined( SUBSURFACE ) && defined( USE_UV )\n              RE_Direct_Scattering(directLight, vUv, geometry, reflectedLight);\n            #endif\n        "),new i.Tb({lights:!0,uniforms:i.jc.merge([i.Sb.phong.uniforms,{thicknessColor:{value:new i.q(8421504)},thicknessDistortion:{value:.1},thicknessAmbient:{value:0},thicknessAttenuation:{value:.1},thicknessPower:{value:2},thicknessScale:{value:10}}]),vertexShader:"\n          #define USE_UV\n          ".concat(i.Rb.meshphong_vert,"\n        "),fragmentShader:"\n          #define USE_UV\n          #define SUBSURFACE\n\n          ".concat(e,"\n\n          uniform float thicknessPower;\n          uniform float thicknessScale;\n          uniform float thicknessDistortion;\n          uniform float thicknessAmbient;\n          uniform float thicknessAttenuation;\n          uniform vec3 thicknessColor;\n\n          void RE_Direct_Scattering(const in IncidentLight directLight, const in vec2 uv, const in GeometricContext geometry, inout ReflectedLight reflectedLight) {\n            #ifdef USE_COLOR\n              vec3 thickness = vColor * thicknessColor;\n            #else\n              vec3 thickness = thicknessColor;\n            #endif\n            vec3 scatteringHalf = normalize(directLight.direction + (geometry.normal * thicknessDistortion));\n            float scatteringDot = pow(saturate(dot(geometry.viewDir, -scatteringHalf)), thicknessPower) * thicknessScale;\n            vec3 scatteringIllu = (scatteringDot + thicknessAmbient) * thickness;\n            reflectedLight.directDiffuse += scatteringIllu * thicknessAttenuation * directLight.color;\n          }\n        ")+t.replace("#include <lights_fragment_begin>",n)})),this.materialSphere.uniforms.diffuse.value.set(0),this.materialSphere.uniforms.thicknessDistortion.value=.3,this.meshSphere=new i.M(this.geometrySphere,this.materialSphere,this._config[this.device].count);for(var r=0;r<this._config[this.device].count;r++){var o=new i.oc(u(100),u(100),u(100));this.instances[r]={position:o,scale:l(.25,2.5),attraction:l(.01,.05),vlimit:l(.25,.5),velocity:new i.oc(o.y,-o.x,o.z).normalize().multiplyScalar(l(1,5))}}this.scene.add(this.meshSphere)}},{key:"initRenderer",value:function(){var e;this.renderer.effectComposerActivate&&(this.bloomEffect=new o.a({mipmapBlur:!0,luminanceThreshold:.1,luminanceSmoothing:.1,intensity:3}),this.bloomEffect.mipmapBlurPass.radius=.75,this.renderer.addEffectPass({name:"bloomEffect",core:this.bloomEffect}),this.godRaysConf={kernelSize:1,density:1.5,decay:.97,weight:.1,exposure:.54,samples:60,clampMax:1},this.godRaysEffect=new o.d(this.camera.instance,this.meshSun,{density:1.5,decay:.98,weight:.1}),this.renderer.addEffectPass({name:"godRaysEffect",core:this.godRaysEffect}),e=new o.f,this.renderer.addEffectPass({name:"smaaEffect",core:e}))}},{key:"debugHero",value:function(){var e,t=this;this.debug.active&&(e={materialColor:1928644,sunColor:this.pointLight.color.getHex(),sphereDiffuse:this.meshSphere.material.uniforms.diffuse.value.getHex(),sphereEmissive:this.meshSphere.material.uniforms.emissive.value.getHex(),sphereSpecular:this.meshSphere.material.uniforms.specular.value.getHex(),sunScale:2},this.debugFolder=this.debug.ui.addFolder("HERO"),this.debugFolder.add(this._config,"cameraZ").name("Camera Z").min(10).max(100).step(.01),this.debugFolder.add(this._config,"attraction").name("attraction").min(0).max(1).step(.001),this.debugFolder.add(this._config,"vlimit").name("vlimit").min(0).max(1).step(.001),this.debugFolder=this.debug.ui.addFolder("HERO - Sun"),this.debugFolder.addColor(e,"sunColor").name("Color").onChange((function(){t.pointLight.color.set(e.sunColor),t.meshSun.material.color.set(e.sunColor)})),this.debugFolder.add(this.pointLight,"intensity").name("intensity").min(0).max(10).step(.01),this.debugFolder.add(e,"sunScale").name("scale").min(0).max(20).step(.01).onChange((function(){t.meshSun.scale.set(e.sunScale,e.sunScale,e.sunScale)})),this.debugFolder=this.debug.ui.addFolder("HERO - Phong"),this.debugFolder.addColor(e,"sphereDiffuse").name("Diffuse").onChange((function(){t.meshSphere.material.uniforms.diffuse.value.set(e.sphereDiffuse)})),this.debugFolder.addColor(e,"sphereEmissive").name("Emissive").onChange((function(){t.meshSphere.material.uniforms.diffuse.value.set(e.sphereEmissive)})),this.debugFolder.addColor(e,"sphereSpecular").name("Specular").onChange((function(){t.meshSphere.material.uniforms.diffuse.value.set(e.sphereSpecular)})),this.debugFolder.add(this.meshSphere.material.uniforms.shininess,"value").name("shininess").min(0).max(100).step(.1),this.debugFolder=this.debug.ui.addFolder("HERO - SubSurface"),this.debugFolder.add(this.meshSphere.material.uniforms.thicknessDistortion,"value").name("thicknessDistortion").min(0).max(1).step(.001),this.debugFolder.add(this.meshSphere.material.uniforms.thicknessAmbient,"value").name("thicknessAmbient").min(0).max(1).step(.001),this.debugFolder.add(this.meshSphere.material.uniforms.thicknessAttenuation,"value").name("thicknessAttenuation").min(0).max(1).step(.001),this.debugFolder=this.debug.ui.addFolder("HERO - Bloom"),this.debugFolder.add(this.bloomEffect,"intensity").name("intensity").min(0).max(10).step(.01),this.debugFolder.add(this.bloomEffect.mipmapBlurPass,"radius").name("radius").min(0).max(1).step(.001),this.debugFolder.add(this.bloomEffect.luminanceMaterial,"threshold").name("threshold").min(0).max(1).step(.001),this.debugFolder.add(this.bloomEffect.luminanceMaterial,"smoothing").name("smoothing").min(0).max(1).step(.001),this.debugFolder=this.debug.ui.addFolder("HERO - God Rays"),this.debugFolder.add(this.godRaysConf,"kernelSize").name("kernelSize").min(0).max(5).step(1).onChange((function(){t.godRaysEffect.blur=0<t.godRaysConf.kernelSize,t.godRaysEffect.blurPass.kernelSize=t.godRaysConf.kernelSize})),this.debugFolder.add(this.godRaysConf,"density").name("density").min(0).max(1).step(.001).onChange((function(){t.godRaysEffect.godRaysMaterial.uniforms.density.value=t.godRaysConf.density})),this.debugFolder.add(this.godRaysConf,"decay").name("decay").min(0).max(1).step(.001).onChange((function(){t.godRaysEffect.godRaysMaterial.uniforms.decay.value=t.godRaysConf.decay})),this.debugFolder.add(this.godRaysConf,"weight").name("weight").min(0).max(1).step(.001).onChange((function(){t.godRaysEffect.godRaysMaterial.uniforms.weight.value=t.godRaysConf.weight})),this.debugFolder.add(this.godRaysConf,"exposure").name("exposure").min(0).max(1).step(.001).onChange((function(){t.godRaysEffect.godRaysMaterial.uniforms.exposure.value=t.godRaysConf.exposure})),this.debugFolder.add(this.godRaysConf,"clampMax").name("clampMax").min(0).max(1).step(.001).onChange((function(){t.godRaysEffect.godRaysMaterial.uniforms.clampMax.value=t.godRaysConf.clampMax})))}},{key:"_bind",value:function(){}},{key:"scroll",value:function(e){this.currentScroll=e}},{key:"onMove",value:function(e){this.raycaster.setFromCamera(e.nPosition,this.camera.instance),this.camera.instance.getWorldDirection(this.mousePlane.normal),this.raycaster.ray.intersectPlane(this.mousePlane,this.mousePosition)}},{key:"update",value:function(){if(void 0!==this.meshSphere&&0<=this.currentScroll&&this.currentScroll<=this.domParent.getBoundingClientRect().height){var e=this.currentScroll/this.domParent.getBoundingClientRect().height,t=(e=Math.min(Math.max(e,0),1),e=(this.progress.target=e,this.progress.current+=.05*(this.progress.target-this.progress.current),this.target.copy(this.mousePosition),this.pointLight.position.lerp(this.target,.1),this.meshSun.position.lerp(this.target,.1),this.meshSun.updateMatrix(),this.progress.current*Math.PI),this._config.attraction-Math.sin(e)*this._config.attraction*.95),n=this._config.vlimit-Math.sin(e)*this._config.vlimit*.5;this.camera.instance.position.x=Math.cos(2*e)*this._config.cameraZ,this.camera.instance.position.y=Math.sin(2*-e)*this._config.cameraZ,this.camera.instance.position.z=Math.sin(2*e)*this._config.cameraZ,this.camera.instance.lookAt(0,0,0);for(var i=0;i<this._config[this.device].count;i++){var r=(a=this.instances[i]).position,o=a.scale,a=a.velocity,s=this.instances[i].attraction*t,l=this.instances[i].vlimit*n;this.dummyV.copy(this.target).sub(r).normalize(),a.add(this.dummyV.multiplyScalar(s)),a.clampScalar(-l,l),r.add(a),this.dummyO.position.copy(r),this.dummyO.scale.set(o,o,o),this.dummyO.updateMatrix(),this.meshSphere.setMatrixAt(i,this.dummyO.matrix)}this.meshSphere.instanceMatrix.needsUpdate=!0}}},{key:"onLeave",value:function(e){this.mousePosition.set(0,0,0)}},{key:"toggleDevice",value:function(e){this.device=e,this.scene.traverse((function(e){e instanceof i.M&&("function"==typeof e.geometry.dispose&&e.geometry.dispose(),"function"==typeof e.material.dispose&&e.material.dispose())})),this.scene.remove(this.meshSphere),this.meshSphere=null,this._createSphere(),"mobile"==this.device&&(this.pointLight.position.set(0,0,0),this.meshSun.position.set(0,0,0))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var i=n(0),r=n(27),o=n(26),a=n(31);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}i.ib.randFloat;var l=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var n=t.material,r=t.points,o=t.color;t=t.device;this.material=n,this.points=r,this.color=o,this.device=t,this.pointsInit=JSON.parse(JSON.stringify(r)),this.speedInit={desktop:.25,mobile:.7},this.scales=new Float32Array(this.points.length).fill(1),this.positions=new Float32Array(3*this.points.length);for(var a=0;a<this.points.length;a++)this.points[a].toArray(this.positions,3*a);this.colors=new Float32Array(4*this.points.length);for(var s=0;s<this.points.length;s++)this.color.toArray(this.colors,4*s),this.colors[4*s+3]=1-s/this.points.length;this.colorsInit=JSON.parse(JSON.stringify(this.colors)),this.geometry=new i.k,this.geometry.setAttribute("position",new i.j(this.positions,3)),this.geometry.setAttribute("color",new i.j(this.colors,4)),this.geometry.setAttribute("aScale",new i.j(this.scales,1)),this.line=new i.U(this.geometry,this.material)}var t,n;return t=e,(n=[{key:"animate",value:function(e,t){var n=this.points.length-1;if(55<this.points[n].z)for(var i=0;i<this.points.length;i++)this.points[i].x=this.pointsInit[i].x,this.points[i].y=this.pointsInit[i].y,this.points[i].z=-80;else for(var r=n;0<r;r--)this.points[r].copy(this.points[r-1]);(n=this.points[0].clone()).z+=this.speedInit[this.device]+1.3*(1-Math.abs(t)),this.points[0]=n.clone(),this.update()}},{key:"update",value:function(){for(var e=0;e<this.points.length;e++)this.points[e].toArray(this.positions,3*e);this.geometry.attributes.position.needsUpdate=!0}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}n(322),n(323);var h=((t=i.ib).randInt,t.randFloat),d=t.randFloatSpread,f=function(){function e(t,n,r,a,s,l){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");c(this,"_config",{colors:[2920447,3878655],noiseTimeScale:.5,desktop:{count:2500},mobile:{count:2e3}}),c(this,"centerScene",new i.nc),c(this,"distanceMouseCenter",1),c(this,"trails",[]),this.managerExperience=new o.a,this.debug=this.managerExperience.debug,this.scene=t,this.pointer=n,this.camera=r,this.renderer=a,this.device=l,this.camera.resize(),this._init(),this._bind()}var t,n;return t=e,(n=[{key:"_init",value:function(){this.clock=new i.p,this.targetLightColor=new i.q(this._config.lightColor),this.colorScale=new r.a([16777215*Math.random(),16777215*Math.random()]),this.initScene(),this.initRenderer(),this.initLine()}},{key:"initScene",value:function(){this.scene.background=new i.q(0)}},{key:"initRenderer",value:function(){var e;this.renderer.effectComposerActivate&&(e=new a.a({luminanceThreshold:.05,luminanceSmoothing:.01,intensity:5}),this.renderer.addEffectPass({name:"bloomEffect",core:e}),e=new a.f,this.renderer.addEffectPass({name:"smaaEffect",core:e}))}},{key:"initLine",value:function(){this._createLine()}},{key:"_createLine",value:function(){this.trails=[],this.colorScale=new r.a(this._config.colors),this.materialLine=new i.V({transparent:!0,vertexColors:!0,blending:i.a});for(var e=0;e<this._config[this.device].count;e++){for(var t=5+Math.floor(h(0,25)),n=[],o=new i.oc(d(80),d(80),h(-100,100)),a=0;a<t;a++)n.push(o.clone().multiplyScalar(1+.01*-a));var s=this.colorScale.getColorAt(h(0,1));s=new l({material:this.materialLine,points:n,color:s,device:this.device});this.trails[e]=s,this.scene.add(s.line)}}},{key:"onMove",value:function(e){this.distanceMouseCenter=Math.min(1,e.nPosition.distanceTo(this.centerScene))}},{key:"onLeave",value:function(e){this.distanceMouseCenter=1}},{key:"_bind",value:function(){}},{key:"update",value:function(){for(var e=this.clock.getElapsedTime()*this._config.noiseTimeScale,t=0;t<this._config[this.device].count;t++)this.trails[t].animate(e,this.distanceMouseCenter)}},{key:"toggleDevice",value:function(e){this.scene.traverse((function(e){e instanceof i.U&&("function"==typeof e.geometry.dispose&&e.geometry.dispose(),"function"==typeof e.material.dispose&&e.material.dispose())}));for(var t=0;t<this._config[this.device].count;t++)this.scene.remove(this.trails[t].line);this.device=e,this._createLine()}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()}]);